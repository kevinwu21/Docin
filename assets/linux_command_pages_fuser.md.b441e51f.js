import{_ as s,c as e,o as a,a as n}from"./app.82736834.js";const m=JSON.parse('{"title":"fuser","description":"","frontmatter":{},"headers":[{"level":2,"title":"补充说明","slug":"补充说明","link":"#补充说明","children":[{"level":3,"title":"语法","slug":"语法","link":"#语法","children":[]},{"level":3,"title":"选项","slug":"选项","link":"#选项","children":[]},{"level":3,"title":"参数","slug":"参数","link":"#参数","children":[]},{"level":3,"title":"实例","slug":"实例","link":"#实例","children":[]}]}],"relativePath":"linux/command/pages/fuser.md","lastUpdated":1666509709000}'),l={name:"linux/command/pages/fuser.md"},p=n(`<h1 id="fuser" tabindex="-1">fuser <a class="header-anchor" href="#fuser" aria-hidden="true">#</a></h1><p>使用文件或文件结构识别进程</p><h2 id="补充说明" tabindex="-1">补充说明 <a class="header-anchor" href="#补充说明" aria-hidden="true">#</a></h2><p><strong>fuser命令</strong> 用于报告进程使用的文件和网络套接字。fuser命令列出了本地进程的进程号，那些本地进程使用file，参数指定的本地或远程文件。对于阻塞特别设备，此命令列出了使用该设备上任何文件的进程。</p><p>每个进程号后面都跟随一个字母，该字母指示进程如何使用文件。</p><ul><li><code>c</code> ：指示进程的工作目录。</li><li><code>e</code> ：指示该文件为进程的可执行文件(即进程由该文件拉起)。</li><li><code>f</code> ：指示该文件被进程打开，默认情况下f字符不显示。</li><li><code>F</code> ：指示该文件被进程打开进行写入，默认情况下F字符不显示。</li><li><code>r</code> ：指示该目录为进程的根目录。</li><li><code>m</code> ：指示进程使用该文件进行内存映射，抑或该文件为共享库文件，被进程映射进内存。</li></ul><h3 id="语法" tabindex="-1">语法 <a class="header-anchor" href="#语法" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">fuser(选项</span><span style="color:#EEFFFF;">)</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">参数</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="选项" tabindex="-1">选项 <a class="header-anchor" href="#选项" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">-a：显示命令行中指定的所有文件；</span></span>
<span class="line"><span style="color:#FFCB6B;">-k：杀死访问指定文件的所有进程；</span></span>
<span class="line"><span style="color:#FFCB6B;">-i：杀死进程前需要用户进行确认；</span></span>
<span class="line"><span style="color:#FFCB6B;">-l：列出所有已知信号名；</span></span>
<span class="line"><span style="color:#FFCB6B;">-m：指定一个被加载的文件系统或一个被加载的块设备；</span></span>
<span class="line"><span style="color:#FFCB6B;">-n：选择不同的名称空间；</span></span>
<span class="line"><span style="color:#FFCB6B;">-u：在每个进程后显示所属的用户名。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="参数" tabindex="-1">参数 <a class="header-anchor" href="#参数" aria-hidden="true">#</a></h3><p>文件：可以是文件名或者TCP、UDP端口号。</p><h3 id="实例" tabindex="-1">实例 <a class="header-anchor" href="#实例" aria-hidden="true">#</a></h3><p>要列出使用<code>/etc/passwd</code>文件的本地进程的进程号，请输入：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">fuser</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/etc/passwd</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>要列出使用<code>/etc/filesystems</code>文件的进程的进程号和用户登录名，请输入：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">fuser</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/etc/filesystems</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>要终止使用给定文件系统的所有进程，请输入：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">fuser</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-k</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-x</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-c</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/dev/hd1</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">或者</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">fuser</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-kxuc</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/home</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>任一命令都列出了进程号和用户名，然后终止每个正在使用<code>/dev/hd1 (/home)</code>文件系统的进程。仅有root用户能终止属于另一用户的进程。如果您正在试图卸下<code>/dev/hd1</code>文件系统，而一个正在访问<code>/dev/hd1</code>文件系统的进程不允许这样，您可能希望使用此命令。</p><p>要列出正在使用已从给定文件系统删除的文件的全部进程，请输入：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">fuser</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/usr文件</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><code>/dev/kmem</code> 用于系统映像。<br><code>/dev/mem</code>  也用于系统映像。</p>`,23),r=[p];function o(c,i,t,d,F,u){return a(),e("div",null,r)}const b=s(l,[["render",o]]);export{m as __pageData,b as default};
