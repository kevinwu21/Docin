import{_ as s,c as n,o as a,a as l}from"./app.82736834.js";const d=JSON.parse('{"title":"wget","description":"","frontmatter":{},"headers":[{"level":2,"title":"补充说明","slug":"补充说明","link":"#补充说明","children":[{"level":3,"title":"语法","slug":"语法","link":"#语法","children":[]},{"level":3,"title":"选项","slug":"选项","link":"#选项","children":[]},{"level":3,"title":"参数","slug":"参数","link":"#参数","children":[]},{"level":3,"title":"实例","slug":"实例","link":"#实例","children":[]}]}],"relativePath":"linux/command/pages/wget.md","lastUpdated":1666509709000}'),p={name:"linux/command/pages/wget.md"},e=l(`<h1 id="wget" tabindex="-1">wget <a class="header-anchor" href="#wget" aria-hidden="true">#</a></h1><p>Linux系统下载文件工具</p><h2 id="补充说明" tabindex="-1">补充说明 <a class="header-anchor" href="#补充说明" aria-hidden="true">#</a></h2><p><strong>wget命令</strong> 用来从指定的URL下载文件。wget非常稳定，它在带宽很窄的情况下和不稳定网络中有很强的适应性，如果是由于网络的原因下载失败，wget会不断的尝试，直到整个文件下载完毕。如果是服务器打断下载过程，它会再次联到服务器上从停止的地方继续下载。这对从那些限定了链接时间的服务器上下载大文件非常有用。</p><p>wget支持HTTP，HTTPS和FTP协议，可以使用HTTP代理。所谓的自动下载是指，wget可以在用户退出系统的之后在后台执行。这意味这你可以登录系统，启动一个wget下载任务，然后退出系统，wget将在后台执行直到任务完成，相对于其它大部分浏览器在下载大量数据时需要用户一直的参与，这省去了极大的麻烦。</p><p>用于从网络上下载资源，没有指定目录，下载资源回默认为当前目录。wget虽然功能强大，但是使用起来还是比较简单：</p><ol><li><strong>支持断点下传功能</strong> 这一点，也是网络蚂蚁和FlashGet当年最大的卖点，现在，Wget也可以使用此功能，那些网络不是太好的用户可以放心了；</li><li><strong>同时支持FTP和HTTP下载方式</strong> 尽管现在大部分软件可以使用HTTP方式下载，但是，有些时候，仍然需要使用FTP方式下载软件；</li><li><strong>支持代理服务器</strong> 对安全强度很高的系统而言，一般不会将自己的系统直接暴露在互联网上，所以，支持代理是下载软件必须有的功能；</li><li><strong>设置方便简单</strong> 可能，习惯图形界面的用户已经不是太习惯命令行了，但是，命令行在设置上其实有更多的优点，最少，鼠标可以少点很多次，也不要担心是否错点鼠标；</li><li><strong>程序小，完全免费</strong> 程序小可以考虑不计，因为现在的硬盘实在太大了；完全免费就不得不考虑了，即使网络上有很多所谓的免费软件，但是，这些软件的广告却不是我们喜欢的。</li></ol><h3 id="语法" tabindex="-1">语法 <a class="header-anchor" href="#语法" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">参数</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">URL地址</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="选项" tabindex="-1">选项 <a class="header-anchor" href="#选项" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">启动参数：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">-V,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-version</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">显示wget的版本后退出</span></span>
<span class="line"><span style="color:#FFCB6B;">-h,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-help</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">打印语法帮助</span></span>
<span class="line"><span style="color:#FFCB6B;">-b,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-background</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">启动后转入后台执行</span></span>
<span class="line"><span style="color:#FFCB6B;">-e,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-execute=COMMAND</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">执行</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">.wgetrc</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">格式的命令，wgetrc格式参见/etc/wgetrc或~/.wgetrc</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">记录和输入文件参数：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">-o,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-output-file=FILE</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">把记录写到FILE文件中</span></span>
<span class="line"><span style="color:#FFCB6B;">-a,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-append-output=FILE</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">把记录追加到FILE文件中</span></span>
<span class="line"><span style="color:#FFCB6B;">-d,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-debug</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">打印调试输出</span></span>
<span class="line"><span style="color:#FFCB6B;">-q,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-quiet</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">安静模式</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">没有输出</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">-v,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-verbose</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">冗长模式</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">这是缺省设置</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">-nv,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-non-verbose</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">关掉冗长模式，但不是安静模式</span></span>
<span class="line"><span style="color:#FFCB6B;">-i,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-input-file=FILE</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">下载在FILE文件中出现的URLs</span></span>
<span class="line"><span style="color:#FFCB6B;">-F,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-force-html</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">把输入文件当作HTML格式文件对待</span></span>
<span class="line"><span style="color:#FFCB6B;">-B,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-base=URL</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">将URL作为在-F</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-i参数指定的文件中出现的相对链接的前缀</span></span>
<span class="line"><span style="color:#FFCB6B;">–-sslcertfile=FILE</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">可选客户端证书</span></span>
<span class="line"><span style="color:#FFCB6B;">–-sslcertkey=KEYFILE</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">可选客户端证书的KEYFILE</span></span>
<span class="line"><span style="color:#FFCB6B;">–-egd-file=FILE</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">指定EGD</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">socket的文件名</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">下载参数：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">–-bind-address=ADDRESS</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">指定本地使用地址</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">主机名或IP，当本地有多个IP或名字时使用</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">-t,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-tries=NUMBER</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">设定最大尝试链接次数</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> 表示无限制</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">.</span></span>
<span class="line"><span style="color:#FFCB6B;">-O</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-output-document=FILE</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">把文档写到FILE文件中</span></span>
<span class="line"><span style="color:#FFCB6B;">-nc,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-no-clobber</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">不要覆盖存在的文件或使用.#前缀</span></span>
<span class="line"><span style="color:#FFCB6B;">-c,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-continue</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">接着下载没下载完的文件</span></span>
<span class="line"><span style="color:#FFCB6B;">–progress=TYPE</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">设定进程条标记</span></span>
<span class="line"><span style="color:#FFCB6B;">-N,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-timestamping</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">不要重新下载文件除非比本地文件新</span></span>
<span class="line"><span style="color:#FFCB6B;">-S,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-server-response</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">打印服务器的回应</span></span>
<span class="line"><span style="color:#FFCB6B;">–-spider</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">不下载任何东西</span></span>
<span class="line"><span style="color:#FFCB6B;">-T,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-timeout=SECONDS</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">设定响应超时的秒数</span></span>
<span class="line"><span style="color:#FFCB6B;">-w,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-wait=SECONDS</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">两次尝试之间间隔SECONDS秒</span></span>
<span class="line"><span style="color:#FFCB6B;">–waitretry=SECONDS</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">在重新链接之间等待1…SECONDS秒</span></span>
<span class="line"><span style="color:#FFCB6B;">–random-</span><span style="color:#82AAFF;">wait</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">在下载之间等待0…</span><span style="color:#F78C6C;">2</span><span style="color:#EEFFFF;">*</span><span style="color:#C3E88D;">WAIT秒</span></span>
<span class="line"><span style="color:#FFCB6B;">-Y,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-proxy=on/off</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">打开或关闭代理</span></span>
<span class="line"><span style="color:#FFCB6B;">-Q,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-quota=NUMBER</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">设置下载的容量限制</span></span>
<span class="line"><span style="color:#FFCB6B;">-–limit-rate=RATE</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">限定下载输率</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">目录参数：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">-nd</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-no-directories</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">不创建目录</span></span>
<span class="line"><span style="color:#FFCB6B;">-x,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-force-directories</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">强制创建目录</span></span>
<span class="line"><span style="color:#FFCB6B;">-nH,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-no-host-directories</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">不创建主机目录</span></span>
<span class="line"><span style="color:#FFCB6B;">-P,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-directory-prefix=PREFIX</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">将文件保存到目录</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">PREFIX/…</span></span>
<span class="line"><span style="color:#FFCB6B;">–cut-</span><span style="color:#82AAFF;">dirs</span><span style="color:#FFCB6B;">=NUMBER</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">忽略</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">NUMBER层远程目录</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">HTTP</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">选项参数：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">-–http-user=USER</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">设定HTTP用户名为</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">USER.</span></span>
<span class="line"><span style="color:#FFCB6B;">-–http-passwd=PASS</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">设定http密码为</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">PASS</span></span>
<span class="line"><span style="color:#FFCB6B;">-C,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-cache=on/off</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">允许/不允许服务器端的数据缓存</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">一般情况下允许</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">-E,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-html-extension</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">将所有text/html文档以.html扩展名保存</span></span>
<span class="line"><span style="color:#FFCB6B;">-–ignore-length</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">忽略</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Content-Length</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">头域</span></span>
<span class="line"><span style="color:#FFCB6B;">-–header=STRING</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">在headers中插入字符串</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">STRING</span></span>
<span class="line"><span style="color:#FFCB6B;">-–proxy-user=USER</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">设定代理的用户名为</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">USER</span></span>
<span class="line"><span style="color:#FFCB6B;">-–proxy-passwd=PASS</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">设定代理的密码为</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">PASS</span></span>
<span class="line"><span style="color:#FFCB6B;">-–referer=URL</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">在HTTP请求中包含</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">Referer:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">URL</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">头</span></span>
<span class="line"><span style="color:#FFCB6B;">-s,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-save-headers</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">保存HTTP头到文件</span></span>
<span class="line"><span style="color:#FFCB6B;">-U,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-user-agent=AGENT</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">设定代理的名称为</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">AGENT而不是</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Wget/VERSION</span></span>
<span class="line"><span style="color:#FFCB6B;">-–no-http-keep-alive</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">关闭</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">HTTP活动链接</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">永远链接</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">–-cookies=off</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">不使用</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">cookies</span></span>
<span class="line"><span style="color:#FFCB6B;">–-load-cookies=FILE</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">在开始会话前从文件</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">FILE中加载cookie</span></span>
<span class="line"><span style="color:#FFCB6B;">-–save-cookies=FILE</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">在会话结束后将</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">cookies保存到</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">FILE文件中</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">FTP</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">选项参数：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">-nr,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-–dont-remove-listing</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">不移走</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">.listing</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">文件</span></span>
<span class="line"><span style="color:#FFCB6B;">-g,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-–glob=on/off</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">打开或关闭文件名的</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">globbing机制</span></span>
<span class="line"><span style="color:#FFCB6B;">-–passive-ftp</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">使用被动传输模式</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">缺省值</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">.</span></span>
<span class="line"><span style="color:#FFCB6B;">-–active-ftp</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">使用主动传输模式</span></span>
<span class="line"><span style="color:#FFCB6B;">-–retr-symlinks</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">在递归的时候，将链接指向文件</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">而不是目录</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">递归下载参数：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">-r,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-–recursive</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">递归下载－－慎用!</span></span>
<span class="line"><span style="color:#FFCB6B;">-l,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-–level=NUMBER</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">最大递归深度</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">inf</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">或</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">代表无穷</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">–-delete-after</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">在现在完毕后局部删除文件</span></span>
<span class="line"><span style="color:#FFCB6B;">-k,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-convert-links</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">转换非相对链接为相对链接</span></span>
<span class="line"><span style="color:#FFCB6B;">-K,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-backup-converted</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">在转换文件X之前，将之备份为</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">X.orig</span></span>
<span class="line"><span style="color:#FFCB6B;">-m,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-mirror</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">等价于</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-N</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-l</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">inf</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-nr</span></span>
<span class="line"><span style="color:#FFCB6B;">-p,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-page-requisites</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">下载显示HTML文件的所有图片</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">递归下载中的包含和不包含(accept/reject</span><span style="color:#EEFFFF;">)：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">-A,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-accept=LIST</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">分号分隔的被接受扩展名的列表</span></span>
<span class="line"><span style="color:#FFCB6B;">-R,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-reject=LIST</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">分号分隔的不被接受的扩展名的列表</span></span>
<span class="line"><span style="color:#FFCB6B;">-D,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-domains=LIST</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">分号分隔的被接受域的列表</span></span>
<span class="line"><span style="color:#FFCB6B;">–-exclude-domains=LIST</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">分号分隔的不被接受的域的列表</span></span>
<span class="line"><span style="color:#FFCB6B;">–-follow-ftp</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">跟踪HTML文档中的FTP链接</span></span>
<span class="line"><span style="color:#FFCB6B;">–-follow-tags=LIST</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">分号分隔的被跟踪的HTML标签的列表</span></span>
<span class="line"><span style="color:#FFCB6B;">-G,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-ignore-tags=LIST</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">分号分隔的被忽略的HTML标签的列表</span></span>
<span class="line"><span style="color:#FFCB6B;">-H,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-span-hosts</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">当递归时转到外部主机</span></span>
<span class="line"><span style="color:#FFCB6B;">-L,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-relative</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">仅仅跟踪相对链接</span></span>
<span class="line"><span style="color:#FFCB6B;">-I,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-include-directories=LIST</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">允许目录的列表</span></span>
<span class="line"><span style="color:#FFCB6B;">-X,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-exclude-directories=LIST</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">不被包含目录的列表</span></span>
<span class="line"><span style="color:#FFCB6B;">-np,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-no-parent</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">不要追溯到父目录</span></span>
<span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-S</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">–-spider</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">url</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">不下载只显示过程</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br></div></div><h3 id="参数" tabindex="-1">参数 <a class="header-anchor" href="#参数" aria-hidden="true">#</a></h3><p>URL：下载指定的URL地址。</p><h3 id="实例" tabindex="-1">实例 <a class="header-anchor" href="#实例" aria-hidden="true">#</a></h3><p><strong>使用wget下载单个文件</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">http://www.jsdig.com/testfile.zip</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>以下的例子是从网络下载一个文件并保存在当前目录，在下载的过程中会显示进度条，包含（下载完成百分比，已经下载的字节，当前下载速度，剩余下载时间）。</p><p><strong>下载并以不同的文件名保存</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-O</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">wordpress.zip</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">http://www.jsdig.com/download.aspx?id=</span><span style="color:#F78C6C;">1080</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>wget默认会以最后一个符合<code>/</code>的后面的字符来命令，对于动态链接的下载通常文件名会不正确。</p><p>错误：下面的例子会下载一个文件并以名称<code>download.aspx?id=1080</code>保存:</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">http://www.jsdig.com/download?id=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>即使下载的文件是zip格式，它仍然以<code>download.php?id=1080</code>命名。</p><p>正确：为了解决这个问题，我们可以使用参数<code>-O</code>来指定一个文件名：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-O</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">wordpress.zip</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">http://www.jsdig.com/download.aspx?id=</span><span style="color:#F78C6C;">1080</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>wget限速下载</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--limit-rate=300k</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">http://www.jsdig.com/testfile.zip</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>当你执行wget的时候，它默认会占用全部可能的宽带下载。但是当你准备下载一个大文件，而你还需要下载其它文件时就有必要限速了。</p><p><strong>使用wget断点续传</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-c</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">http://www.jsdig.com/testfile.zip</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>使用<code>wget -c</code>重新启动下载中断的文件，对于我们下载大文件时突然由于网络等原因中断非常有帮助，我们可以继续接着下载而不是重新下载一个文件。需要继续中断的下载时可以使用<code>-c</code>参数。</p><p><strong>使用wget后台下载</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-b</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">http://www.jsdig.com/testfile.zip</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Continuing</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">in</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">background,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">pid</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1840.</span></span>
<span class="line"><span style="color:#FFCB6B;">Output</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">will</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">be</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">written</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">to</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">wget-log</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>对于下载非常大的文件的时候，我们可以使用参数<code>-b</code>进行后台下载，你可以使用以下命令来察看下载进度：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">tail</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-f</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">wget-log</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>伪装代理名称下载</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--user-agent=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US) AppleWebKit/534.16 (KHTML, like Gecko) Chrome/10.0.648.204 Safari/534.16</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">http://www.jsdig.com/testfile.zip</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>有些网站能通过根据判断代理名称不是浏览器而拒绝你的下载请求。不过你可以通过<code>--user-agent</code>参数伪装。</p><p><strong>测试下载链接</strong></p><p>当你打算进行定时下载，你应该在预定时间测试下载链接是否有效。我们可以增加<code>--spider</code>参数进行检查。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--spider</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">URL</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果下载链接正确，将会显示:</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">Spider</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">mode</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">enabled.</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Check</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">if</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">remote</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">file</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">exists.</span></span>
<span class="line"><span style="color:#FFCB6B;">HTTP</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">request</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">sent,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">awaiting</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">response...</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">200</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">OK</span></span>
<span class="line"><span style="color:#FFCB6B;">Length:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">unspecified</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">text/html</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#FFCB6B;">Remote</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">file</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">exists</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">and</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">could</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">contain</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">further</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">links,</span></span>
<span class="line"><span style="color:#FFCB6B;">but</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">recursion</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">is</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">disabled</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">not</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">retrieving.</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>这保证了下载能在预定的时间进行，但当你给错了一个链接，将会显示如下错误:</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--spider</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">url</span></span>
<span class="line"><span style="color:#FFCB6B;">Spider</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">mode</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">enabled.</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Check</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">if</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">remote</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">file</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">exists.</span></span>
<span class="line"><span style="color:#FFCB6B;">HTTP</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">request</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">sent,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">awaiting</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">response...</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">404</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Not</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Found</span></span>
<span class="line"><span style="color:#FFCB6B;">Remote</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">file</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">does</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">not</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">exist</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">broken</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">link!!!</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>你可以在以下几种情况下使用<code>--spider</code>参数：</p><ul><li>定时下载之前进行检查</li><li>间隔检测网站是否可用</li><li>检查网站页面的死链接</li></ul><p><strong>增加重试次数</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--tries=40</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">URL</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果网络有问题或下载一个大文件也有可能失败。wget默认重试20次连接下载文件。如果需要，你可以使用<code>--tries</code>增加重试次数。</p><p><strong>下载多个文件</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">filelist.txt</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>首先，保存一份下载链接文件：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">cat</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">filelist.txt</span></span>
<span class="line"><span style="color:#FFCB6B;">url1</span></span>
<span class="line"><span style="color:#FFCB6B;">url2</span></span>
<span class="line"><span style="color:#FFCB6B;">url3</span></span>
<span class="line"><span style="color:#FFCB6B;">url4</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>接着使用这个文件和参数<code>-i</code>下载。</p><p><strong>镜像网站</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--mirror</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--convert-links</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-P</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">./LOCAL</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">URL</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>下载整个网站到本地。</p><ul><li><code>--miror</code>开户镜像下载。</li><li><code>-p</code>下载所有为了html页面显示正常的文件。</li><li><code>--convert-links</code>下载后，转换成本地的链接。</li><li><code>-P ./LOCAL</code>保存所有文件和目录到本地指定目录。</li></ul><p><strong>过滤指定格式下载</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--reject=gif</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">ur</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>下载一个网站，但你不希望下载图片，可以使用这条命令。</p><p><strong>把下载信息存入日志文件</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">download.log</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">URL</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>不希望下载信息直接显示在终端而是在一个日志文件，可以使用。</p><p><strong>限制总下载文件大小</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-Q5m</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">filelist.txt</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>当你想要下载的文件超过5M而退出下载，你可以使用。注意：这个参数对单个文件下载不起作用，只能递归下载时才有效。</p><p><strong>下载指定格式文件</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-A.pdf</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">url</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>可以在以下情况使用该功能：</p><ul><li>下载一个网站的所有图片。</li><li>下载一个网站的所有视频。</li><li>下载一个网站的所有PDF文件。</li></ul><p><strong>FTP下载</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">ftp-url</span></span>
<span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--ftp-user=USERNAME</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--ftp-password=PASSWORD</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">url</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>可以使用wget来完成ftp链接的下载。</p><p>使用wget匿名ftp下载：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">ftp-url</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>使用wget用户名和密码认证的ftp下载：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--ftp-user=USERNAME</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--ftp-password=PASSWORD</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">url</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,79),o=[e];function F(r,c,t,E,i,y){return a(),n("div",null,o)}const b=s(p,[["render",F]]);export{d as __pageData,b as default};
