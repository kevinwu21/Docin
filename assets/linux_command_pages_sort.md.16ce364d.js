import{_ as s,c as n,o as a,a as l}from"./app.82736834.js";const C=JSON.parse('{"title":"sort","description":"","frontmatter":{},"headers":[{"level":2,"title":"概要","slug":"概要","link":"#概要","children":[]},{"level":2,"title":"主要用途","slug":"主要用途","link":"#主要用途","children":[]},{"level":2,"title":"选项","slug":"选项","link":"#选项","children":[]},{"level":2,"title":"参数","slug":"参数","link":"#参数","children":[]},{"level":2,"title":"返回值","slug":"返回值","link":"#返回值","children":[]},{"level":2,"title":"例子","slug":"例子","link":"#例子","children":[{"level":3,"title":"注意","slug":"注意","link":"#注意","children":[]}]}],"relativePath":"linux/command/pages/sort.md","lastUpdated":1666509709000}'),p={name:"linux/command/pages/sort.md"},e=l(`<h1 id="sort" tabindex="-1">sort <a class="header-anchor" href="#sort" aria-hidden="true">#</a></h1><p>对文本文件中所有行进行排序。</p><h2 id="概要" tabindex="-1">概要 <a class="header-anchor" href="#概要" aria-hidden="true">#</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">sort</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">OPTION</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;">... </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">FILE</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;">...</span></span>
<span class="line"><span style="color:#FFCB6B;">sort</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">OPTION</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;">... </span><span style="color:#C3E88D;">--files0-from=F</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="主要用途" tabindex="-1">主要用途 <a class="header-anchor" href="#主要用途" aria-hidden="true">#</a></h2><ul><li>将所有输入文件的内容排序后并输出。</li><li>当没有文件或文件为<code>-</code>时，读取标准输入。</li></ul><h2 id="选项" tabindex="-1">选项 <a class="header-anchor" href="#选项" aria-hidden="true">#</a></h2><p>排序选项：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">-b,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--ignore-leading-blanks</span><span style="color:#EEFFFF;">    </span><span style="color:#C3E88D;">忽略开头的空白。</span></span>
<span class="line"><span style="color:#FFCB6B;">-d,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--dictionary-order</span><span style="color:#EEFFFF;">         </span><span style="color:#C3E88D;">仅考虑空白、字母、数字。</span></span>
<span class="line"><span style="color:#FFCB6B;">-f,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--ignore-case</span><span style="color:#EEFFFF;">              </span><span style="color:#C3E88D;">将小写字母作为大写字母考虑。</span></span>
<span class="line"><span style="color:#FFCB6B;">-g,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--general-numeric-sort</span><span style="color:#EEFFFF;">     </span><span style="color:#C3E88D;">根据数字排序。</span></span>
<span class="line"><span style="color:#FFCB6B;">-i,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--ignore-nonprinting</span><span style="color:#EEFFFF;">       </span><span style="color:#C3E88D;">排除不可打印字符。</span></span>
<span class="line"><span style="color:#FFCB6B;">-M,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--month-sort</span><span style="color:#EEFFFF;">               </span><span style="color:#C3E88D;">按照非月份、一月、十二月的顺序排序。</span></span>
<span class="line"><span style="color:#FFCB6B;">-h,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--human-numeric-sort</span><span style="color:#EEFFFF;">       </span><span style="color:#C3E88D;">根据存储容量排序</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">注意使用大写字母，例如：2K</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">1G</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">。</span></span>
<span class="line"><span style="color:#FFCB6B;">-n,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--numeric-sort</span><span style="color:#EEFFFF;">             </span><span style="color:#C3E88D;">根据数字排序。</span></span>
<span class="line"><span style="color:#FFCB6B;">-R,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--random-sort</span><span style="color:#EEFFFF;">              </span><span style="color:#C3E88D;">随机排序，但分组相同的行。</span></span>
<span class="line"><span style="color:#FFCB6B;">--random-</span><span style="color:#82AAFF;">source</span><span style="color:#FFCB6B;">=FILE</span><span style="color:#EEFFFF;">           </span><span style="color:#C3E88D;">从FILE中获取随机长度的字节。</span></span>
<span class="line"><span style="color:#FFCB6B;">-r,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--reverse</span><span style="color:#EEFFFF;">                  </span><span style="color:#C3E88D;">将结果倒序排列。</span></span>
<span class="line"><span style="color:#FFCB6B;">--sort=WORD</span><span style="color:#EEFFFF;">                    </span><span style="color:#C3E88D;">根据WORD排序，其中:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">general-numeric</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">等价于</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-g，human-numeric</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">等价于</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-h，month</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">等价于</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-M，numeric</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">等价于</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-n，random</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">等价于</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-R，version</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">等价于</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-V。</span></span>
<span class="line"><span style="color:#FFCB6B;">-V,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--version-sort</span><span style="color:#EEFFFF;">             </span><span style="color:#C3E88D;">文本中</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">版本</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">数字的自然排序。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>其他选项：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">--batch-size=NMERGE</span><span style="color:#EEFFFF;">                    </span><span style="color:#C3E88D;">一次合并最多NMERGE个输入；超过部分使用临时文件。</span></span>
<span class="line"><span style="color:#FFCB6B;">-c,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--check,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--check=diagnose-first</span><span style="color:#EEFFFF;">    </span><span style="color:#C3E88D;">检查输入是否已排序，该操作不会执行排序。</span></span>
<span class="line"><span style="color:#FFCB6B;">-C,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--check=quiet,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--check=silent</span><span style="color:#EEFFFF;">      </span><span style="color:#C3E88D;">类似于</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-c</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">选项，但不输出第一个未排序的行。</span></span>
<span class="line"><span style="color:#FFCB6B;">--compress-program=PROG</span><span style="color:#EEFFFF;">                </span><span style="color:#C3E88D;">使用PROG压缩临时文件；使用PROG</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-d解压缩。</span></span>
<span class="line"><span style="color:#FFCB6B;">--debug</span><span style="color:#EEFFFF;">                                </span><span style="color:#C3E88D;">注释用于排序的行，发送可疑用法的警报到stderr。</span></span>
<span class="line"><span style="color:#FFCB6B;">--files0-from=F</span><span style="color:#EEFFFF;">                        </span><span style="color:#C3E88D;">从文件F中读取以NUL结尾的所有文件名称；如果F是</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">，那么从标准输入中读取名字。</span></span>
<span class="line"><span style="color:#FFCB6B;">-k,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--key=KEYDEF</span><span style="color:#EEFFFF;">                       </span><span style="color:#C3E88D;">通过一个key排序；KEYDEF给出位置和类型。</span></span>
<span class="line"><span style="color:#FFCB6B;">-m,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--merge</span><span style="color:#EEFFFF;">                            </span><span style="color:#C3E88D;">合并已排序文件，之后不再排序。</span></span>
<span class="line"><span style="color:#FFCB6B;">-o,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--output=FILE</span><span style="color:#EEFFFF;">                      </span><span style="color:#C3E88D;">将结果写入FILE而不是标准输出。</span></span>
<span class="line"><span style="color:#FFCB6B;">-s,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--stable</span><span style="color:#EEFFFF;">                           </span><span style="color:#C3E88D;">通过禁用最后的比较来稳定排序。</span></span>
<span class="line"><span style="color:#FFCB6B;">-S,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--buffer-size=SIZE</span><span style="color:#EEFFFF;">                 </span><span style="color:#C3E88D;">使用SIZE作为内存缓存大小。</span></span>
<span class="line"><span style="color:#FFCB6B;">-t,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--field-separator=SEP</span><span style="color:#EEFFFF;">              </span><span style="color:#C3E88D;">使用SEP作为列的分隔符。</span></span>
<span class="line"><span style="color:#FFCB6B;">-T,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--temporary-directory=DIR</span><span style="color:#EEFFFF;">          </span><span style="color:#C3E88D;">使用DIR作为临时目录，而不是</span><span style="color:#EEFFFF;"> $TMPDIR </span><span style="color:#C3E88D;">或</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/tmp；多次使用该选项指定多个临时目录。</span></span>
<span class="line"><span style="color:#FFCB6B;">--parallel=N</span><span style="color:#EEFFFF;">                           </span><span style="color:#C3E88D;">将并发运行的排序数更改为N。</span></span>
<span class="line"><span style="color:#FFCB6B;">-u,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--unique</span><span style="color:#EEFFFF;">                           </span><span style="color:#C3E88D;">同时使用-c，严格检查排序；不同时使用-c，输出排序后去重的结果。</span></span>
<span class="line"><span style="color:#FFCB6B;">-z,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--zero-terminated</span><span style="color:#EEFFFF;">                  </span><span style="color:#C3E88D;">设置行终止符为NUL（空），而不是换行符。</span></span>
<span class="line"><span style="color:#FFCB6B;">--help</span><span style="color:#EEFFFF;">                                 </span><span style="color:#C3E88D;">显示帮助信息并退出。</span></span>
<span class="line"><span style="color:#FFCB6B;">--version</span><span style="color:#EEFFFF;">                              </span><span style="color:#C3E88D;">显示版本信息并退出。</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">KEYDEF的格式为：F[.C</span><span style="color:#EEFFFF;">]</span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">OPTS</span><span style="color:#89DDFF;">][</span><span style="color:#EEFFFF;">,F</span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">.C</span><span style="color:#89DDFF;">][</span><span style="color:#EEFFFF;">OPTS</span><span style="color:#89DDFF;">]]</span><span style="color:#EEFFFF;"> ，表示开始到结束的位置。</span></span>
<span class="line"><span style="color:#FFCB6B;">F表示列的编号</span></span>
<span class="line"><span style="color:#FFCB6B;">C表示</span></span>
<span class="line"><span style="color:#FFCB6B;">OPTS为[bdfgiMhnRrV</span><span style="color:#EEFFFF;">]中的一到多个字符，用于覆盖当前排序选项。</span></span>
<span class="line"><span style="color:#FFCB6B;">使用--debug选项可诊断出错误的用法。</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">SIZE</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">可以有以下的乘法后缀:</span></span>
<span class="line"><span style="color:#EEFFFF;">% </span><span style="color:#FFCB6B;">内存的1%；</span></span>
<span class="line"><span style="color:#FFCB6B;">b</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">；</span></span>
<span class="line"><span style="color:#FFCB6B;">K</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1024</span><span style="color:#C3E88D;">（默认）；</span></span>
<span class="line"><span style="color:#FFCB6B;">剩余的</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">M,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">G,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">T,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">P,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">E,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Z,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Y</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">可以类推出来。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h2 id="参数" tabindex="-1">参数 <a class="header-anchor" href="#参数" aria-hidden="true">#</a></h2><p>FILE（可选）：要处理的文件，可以为任意数量。</p><h2 id="返回值" tabindex="-1">返回值 <a class="header-anchor" href="#返回值" aria-hidden="true">#</a></h2><p>返回0表示成功，返回非0值表示失败。</p><h2 id="例子" tabindex="-1">例子 <a class="header-anchor" href="#例子" aria-hidden="true">#</a></h2><p>sort将文件/文本的每一行作为一个单位相互比较，比较原则是从首字符向后依次按ASCII码值进行比较，最后将他们按升序输出。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">root@[mail</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">text]#</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">cat</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">sort.txt</span></span>
<span class="line"><span style="color:#FFCB6B;">aaa:10:1.1</span></span>
<span class="line"><span style="color:#FFCB6B;">ccc:30:3.3</span></span>
<span class="line"><span style="color:#FFCB6B;">ddd:40:4.4</span></span>
<span class="line"><span style="color:#FFCB6B;">bbb:20:2.2</span></span>
<span class="line"><span style="color:#FFCB6B;">eee:50:5.5</span></span>
<span class="line"><span style="color:#FFCB6B;">eee:50:5.5</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@mail text</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"># sort sort.txt</span></span>
<span class="line"><span style="color:#FFCB6B;">aaa:10:1.1</span></span>
<span class="line"><span style="color:#FFCB6B;">bbb:20:2.2</span></span>
<span class="line"><span style="color:#FFCB6B;">ccc:30:3.3</span></span>
<span class="line"><span style="color:#FFCB6B;">ddd:40:4.4</span></span>
<span class="line"><span style="color:#FFCB6B;">eee:50:5.5</span></span>
<span class="line"><span style="color:#FFCB6B;">eee:50:5.5</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>忽略相同行使用<code>-u</code>选项或者<code>uniq</code>：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@mail text</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"># cat sort.txt</span></span>
<span class="line"><span style="color:#FFCB6B;">aaa:10:1.1</span></span>
<span class="line"><span style="color:#FFCB6B;">ccc:30:3.3</span></span>
<span class="line"><span style="color:#FFCB6B;">ddd:40:4.4</span></span>
<span class="line"><span style="color:#FFCB6B;">bbb:20:2.2</span></span>
<span class="line"><span style="color:#FFCB6B;">eee:50:5.5</span></span>
<span class="line"><span style="color:#FFCB6B;">eee:50:5.5</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@mail text</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"># sort -u sort.txt</span></span>
<span class="line"><span style="color:#FFCB6B;">aaa:10:1.1</span></span>
<span class="line"><span style="color:#FFCB6B;">bbb:20:2.2</span></span>
<span class="line"><span style="color:#FFCB6B;">ccc:30:3.3</span></span>
<span class="line"><span style="color:#FFCB6B;">ddd:40:4.4</span></span>
<span class="line"><span style="color:#FFCB6B;">eee:50:5.5</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@mail text</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"># uniq sort.txt</span></span>
<span class="line"><span style="color:#FFCB6B;">aaa:10:1.1</span></span>
<span class="line"><span style="color:#FFCB6B;">ccc:30:3.3</span></span>
<span class="line"><span style="color:#FFCB6B;">ddd:40:4.4</span></span>
<span class="line"><span style="color:#FFCB6B;">bbb:20:2.2</span></span>
<span class="line"><span style="color:#FFCB6B;">eee:50:5.5</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><code>sort</code>的<code>-n、-r、-k、-t</code>选项的使用：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@mail text</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"># cat sort.txt</span></span>
<span class="line"><span style="color:#FFCB6B;">AAA:BB:CC</span></span>
<span class="line"><span style="color:#FFCB6B;">aaa:30:1.6</span></span>
<span class="line"><span style="color:#FFCB6B;">ccc:50:3.3</span></span>
<span class="line"><span style="color:#FFCB6B;">ddd:20:4.2</span></span>
<span class="line"><span style="color:#FFCB6B;">bbb:10:2.5</span></span>
<span class="line"><span style="color:#FFCB6B;">eee:40:5.4</span></span>
<span class="line"><span style="color:#FFCB6B;">eee:60:5.1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 将BB列按照数字从小到大顺序排列：</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@mail text</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"># sort -nk </span><span style="color:#F78C6C;">2</span><span style="color:#EEFFFF;"> -t: sort.txt</span></span>
<span class="line"><span style="color:#FFCB6B;">AAA:BB:CC</span></span>
<span class="line"><span style="color:#FFCB6B;">bbb:10:2.5</span></span>
<span class="line"><span style="color:#FFCB6B;">ddd:20:4.2</span></span>
<span class="line"><span style="color:#FFCB6B;">aaa:30:1.6</span></span>
<span class="line"><span style="color:#FFCB6B;">eee:40:5.4</span></span>
<span class="line"><span style="color:#FFCB6B;">ccc:50:3.3</span></span>
<span class="line"><span style="color:#FFCB6B;">eee:60:5.1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 将CC列数字从大到小顺序排列：</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># -n是按照数字大小排序，-r是以相反顺序，-k是指定需要排序的栏位，-t指定栏位分隔符为冒号</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@mail text</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"># sort -nrk </span><span style="color:#F78C6C;">3</span><span style="color:#EEFFFF;"> -t: sort.txt</span></span>
<span class="line"><span style="color:#FFCB6B;">eee:40:5.4</span></span>
<span class="line"><span style="color:#FFCB6B;">eee:60:5.1</span></span>
<span class="line"><span style="color:#FFCB6B;">ddd:20:4.2</span></span>
<span class="line"><span style="color:#FFCB6B;">ccc:50:3.3</span></span>
<span class="line"><span style="color:#FFCB6B;">bbb:10:2.5</span></span>
<span class="line"><span style="color:#FFCB6B;">aaa:30:1.6</span></span>
<span class="line"><span style="color:#FFCB6B;">AAA:BB:CC</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>关于<code>-k</code>选项的解读和例子：</p><p>-k选项深度解读：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">FStart.CStart</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Modifier,FEnd.CEnd</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Modifier</span></span>
<span class="line"><span style="color:#FFCB6B;">-------Start--------,-------End--------</span></span>
<span class="line"><span style="color:#EEFFFF;"> </span><span style="color:#FFCB6B;">FStart.CStart</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">选项</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">FEnd.CEnd</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">选项</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这个语法格式可以被其中的逗号<code>,</code>分为两大部分，<strong>Start</strong> 部分和 <strong>End</strong> 部分。 Start部分由三部分组成，其中的Modifier部分就是我们之前说过的选项部分； 我们重点说说<code>Start</code>部分的<code>FStart</code>和<code>C.Start</code>；<code>C.Start</code>是可以省略的，省略的话就表示从本域的开头部分开始。<code>FStart.CStart</code>，其中<code>FStart</code>就是表示使用的域，而<code>CStart</code>则表示在<code>FStart</code>域中从第几个字符开始算排序首字符。 同理，在End部分中，你可以设定<code>FEnd.CEnd</code>，如果你省略<code>.CEnd</code>或将它设定为0，则表示结尾到本域的最后一个字符。</p><p>例子：从公司英文名称的第二个字母开始排序：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">sort</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-t</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-k</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1.2</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">facebook.txt</span></span>
<span class="line"><span style="color:#FFCB6B;">baidu</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">5000</span></span>
<span class="line"><span style="color:#FFCB6B;">sohu</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">4500</span></span>
<span class="line"><span style="color:#FFCB6B;">google</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">110</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">5000</span></span>
<span class="line"><span style="color:#FFCB6B;">guge</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">50</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">3000</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>解读：使用了<code>-k 1.2</code>，表示对第一个域的第二个字符开始到本域的最后一个字符为止的字符串进行排序。你会发现baidu因为第二个字母是a而名列榜首。sohu和google第二个字符都是o，但sohu的h在google的o前面，所以两者分别排在第二和第三。guge只能屈居第四了。</p><p>例子：只针对公司英文名称的第二个字母进行排序，如果相同的按照员工工资进行降序排序：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">sort</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-t</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-k</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1.2</span><span style="color:#C3E88D;">,</span><span style="color:#F78C6C;">1.2</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-nrk</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">3</span><span style="color:#C3E88D;">,</span><span style="color:#F78C6C;">3</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">facebook.txt</span></span>
<span class="line"><span style="color:#FFCB6B;">baidu</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">5000</span></span>
<span class="line"><span style="color:#FFCB6B;">google</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">110</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">5000</span></span>
<span class="line"><span style="color:#FFCB6B;">sohu</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">4500</span></span>
<span class="line"><span style="color:#FFCB6B;">guge</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">50</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">3000</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>解读：由于只对第二个字母进行排序，所以我们使用了<code>-k 1.2,1.2</code>的表示方式，表示我们只对第二个字母进行排序（如果你问我使用<code>-k 1.2</code>怎么不行？当然不行，因为你省略了End部分，这就意味着你将对从第二个字母起到本域最后一个字符为止的字符串进行排序）。 对员工工资进行排序，我们也使用了<code>-k 3,3</code>，这是最准确的表述，表示我们只对本域进行排序，因为如果你省略了后面的3，就变成了我们对第3个域开始到最后一个域位置的内容进行排序了。</p><h3 id="注意" tabindex="-1">注意 <a class="header-anchor" href="#注意" aria-hidden="true">#</a></h3><ol><li><p><a href="https://stackoverflow.com/questions/1255782/whats-the-difference-between-general-numeric-sort-and-numeric-sort-options" target="_blank" rel="noreferrer">关于-g和-n选项的区别：stackoverflow</a></p></li><li><p>关于这个复杂命令的学习，建议您阅读info文档及参考博客、问答网站等。</p></li><li><p>该命令是<code>GNU coreutils</code>包中的命令，相关的帮助信息请查看<code>man -s 1 shuf</code>，<code>info coreutils &#39;shuf invocation&#39;</code>。</p></li></ol>`,34),o=[e];function r(F,c,t,i,y,E){return a(),n("div",null,o)}const d=s(p,[["render",r]]);export{C as __pageData,d as default};
