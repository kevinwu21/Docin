import{_ as s,c as n,o as a,a as l}from"./app.82736834.js";const d=JSON.parse('{"title":"lsblk","description":"","frontmatter":{},"headers":[{"level":2,"title":"补充说明","slug":"补充说明","link":"#补充说明","children":[{"level":3,"title":"选项","slug":"选项","link":"#选项","children":[]},{"level":3,"title":"实例","slug":"实例","link":"#实例","children":[]}]}],"relativePath":"linux/command/pages/lsblk.md","lastUpdated":1666509709000}'),p={name:"linux/command/pages/lsblk.md"},e=l(`<h1 id="lsblk" tabindex="-1">lsblk <a class="header-anchor" href="#lsblk" aria-hidden="true">#</a></h1><p>列出块设备信息</p><h2 id="补充说明" tabindex="-1">补充说明 <a class="header-anchor" href="#补充说明" aria-hidden="true">#</a></h2><p><strong>lsblk命令</strong> 用于列出所有可用块设备的信息，而且还能显示他们之间的依赖关系，但是它不会列出RAM盘的信息。块设备有硬盘，闪存盘，cd-ROM等等。lsblk命令包含在util-linux-ng包中，现在该包改名为util-linux。这个包带了几个其它工具，如dmesg。要安装lsblk，请在此处下载util-linux包。Fedora用户可以通过命令<code>sudo yum install util-linux-ng</code>来安装该包。</p><h3 id="选项" tabindex="-1">选项 <a class="header-anchor" href="#选项" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">-a,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--all</span><span style="color:#EEFFFF;">            </span><span style="color:#545454;font-style:italic;"># 显示所有设备。</span></span>
<span class="line"><span style="color:#FFCB6B;">-b,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--bytes</span><span style="color:#EEFFFF;">          </span><span style="color:#545454;font-style:italic;"># 以bytes方式显示设备大小。</span></span>
<span class="line"><span style="color:#FFCB6B;">-d,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--nodeps</span><span style="color:#EEFFFF;">         </span><span style="color:#545454;font-style:italic;"># 不显示 slaves 或 holders。</span></span>
<span class="line"><span style="color:#FFCB6B;">-D,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--discard</span><span style="color:#EEFFFF;">        </span><span style="color:#545454;font-style:italic;"># print discard capabilities。</span></span>
<span class="line"><span style="color:#FFCB6B;">-e,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--exclude</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">lis</span><span style="color:#EEFFFF;">t</span><span style="color:#89DDFF;">&gt;</span><span style="color:#EEFFFF;"> </span><span style="color:#545454;font-style:italic;"># 排除设备 (default: RAM disks)。</span></span>
<span class="line"><span style="color:#FFCB6B;">-f,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--fs</span><span style="color:#EEFFFF;">             </span><span style="color:#545454;font-style:italic;"># 显示文件系统信息。</span></span>
<span class="line"><span style="color:#FFCB6B;">-h,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--help</span><span style="color:#EEFFFF;">           </span><span style="color:#545454;font-style:italic;"># 显示帮助信息。</span></span>
<span class="line"><span style="color:#FFCB6B;">-i,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--ascii</span><span style="color:#EEFFFF;">          </span><span style="color:#545454;font-style:italic;"># use ascii characters only。</span></span>
<span class="line"><span style="color:#FFCB6B;">-m,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--perms</span><span style="color:#EEFFFF;">          </span><span style="color:#545454;font-style:italic;"># 显示权限信息。</span></span>
<span class="line"><span style="color:#FFCB6B;">-l,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--list</span><span style="color:#EEFFFF;">           </span><span style="color:#545454;font-style:italic;"># 使用列表格式显示。</span></span>
<span class="line"><span style="color:#FFCB6B;">-n,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--noheadings</span><span style="color:#EEFFFF;">     </span><span style="color:#545454;font-style:italic;"># 不显示标题。</span></span>
<span class="line"><span style="color:#FFCB6B;">-o,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--output</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">lis</span><span style="color:#EEFFFF;">t</span><span style="color:#89DDFF;">&gt;</span><span style="color:#EEFFFF;">  </span><span style="color:#545454;font-style:italic;"># 输出列。</span></span>
<span class="line"><span style="color:#FFCB6B;">-P,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--pairs</span><span style="color:#EEFFFF;">          </span><span style="color:#545454;font-style:italic;"># 使用key=&quot;value&quot;格式显示。</span></span>
<span class="line"><span style="color:#FFCB6B;">-r,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--raw</span><span style="color:#EEFFFF;">            </span><span style="color:#545454;font-style:italic;"># 使用原始格式显示。</span></span>
<span class="line"><span style="color:#FFCB6B;">-t,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--topology</span><span style="color:#EEFFFF;">       </span><span style="color:#545454;font-style:italic;"># 显示拓扑结构信息。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="实例" tabindex="-1">实例 <a class="header-anchor" href="#实例" aria-hidden="true">#</a></h3><p>lsblk命令默认情况下将以树状列出所有块设备。打开终端，并输入以下命令：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">lsblk</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">NAME</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">MAJ:MIN</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">SIZE</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">RO</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">type</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">mountpoint</span></span>
<span class="line"><span style="color:#FFCB6B;">sda</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">8</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">232.9G</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">disk</span><span style="color:#EEFFFF;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">├─sda1</span><span style="color:#EEFFFF;">   </span><span style="color:#F78C6C;">8</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">46.6G</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">part</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/</span></span>
<span class="line"><span style="color:#FFCB6B;">├─sda2</span><span style="color:#EEFFFF;">   </span><span style="color:#F78C6C;">8</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">2</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">     </span><span style="color:#C3E88D;">1K</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">part</span><span style="color:#EEFFFF;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">├─sda5</span><span style="color:#EEFFFF;">   </span><span style="color:#F78C6C;">8</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">5</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">190M</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">part</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/boot</span></span>
<span class="line"><span style="color:#FFCB6B;">├─sda6</span><span style="color:#EEFFFF;">   </span><span style="color:#F78C6C;">8</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">6</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">3.7G</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">part</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">SWAP</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#FFCB6B;">├─sda7</span><span style="color:#EEFFFF;">   </span><span style="color:#F78C6C;">8</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">7</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">93.1G</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">part</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/data</span></span>
<span class="line"><span style="color:#FFCB6B;">└─sda8</span><span style="color:#EEFFFF;">   </span><span style="color:#F78C6C;">8</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">8</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">89.2G</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">part</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/personal</span></span>
<span class="line"><span style="color:#FFCB6B;">sr0</span><span style="color:#EEFFFF;">     </span><span style="color:#F78C6C;">11</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">1024M</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">rom</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>7个栏目名称如下：</p><ol><li><strong>NAME</strong> ：这是块设备名。</li><li><strong>MAJ:MIN</strong> ：本栏显示主要和次要设备号。</li><li><strong>RM</strong> ：本栏显示设备是否可移动设备。注意，在本例中设备sdb和sr0的RM值等于1，这说明他们是可移动设备。</li><li><strong>SIZE</strong> ：本栏列出设备的容量大小信息。例如298.1G表明该设备大小为298.1GB，而1K表明该设备大小为1KB。</li><li><strong>RO</strong> ：该项表明设备是否为只读。在本案例中，所有设备的RO值为0，表明他们不是只读的。</li><li><strong>TYPE</strong> ：本栏显示块设备是否是磁盘或磁盘上的一个分区。在本例中，sda和sdb是磁盘，而sr0是只读存储（rom）。</li><li><strong>MOUNTPOINT</strong> ：本栏指出设备挂载的挂载点。</li></ol><p>默认选项不会列出所有空设备。要查看这些空设备，请使用以下命令：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">lsblk</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-a</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>lsblk命令也可以用于列出一个特定设备的拥有关系，同时也可以列出组和模式。可以通过以下命令来获取这些信息：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">lsblk</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-m</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>该命令也可以只获取指定设备的信息。这可以通过在提供给lsblk命令的选项后指定设备名来实现。例如，你可能对了解以字节显示你的磁盘驱动器大小比较感兴趣，那么你可以通过运行以下命令来实现：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">lsblk</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-b</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/dev/sda</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">等价于</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">lsblk</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--bytes</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/dev/sda</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>你也可以组合几个选项来获取指定的输出。例如，你也许想要以列表格式列出设备，而不是默认的树状格式。你可能也对移除不同栏目名称的标题感兴趣。可以将两个不同的选项组合，以获得期望的输出，命令如下：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">lsblk</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-nl</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>要获取SCSI设备的列表，你只能使用-S选项。该选项是大写字母S，不能和-s选项混淆，该选项是用来以颠倒的顺序打印依赖的。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">lsblk</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-S</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>lsblk列出SCSI设备，而-s是逆序选项（将设备和分区的组织关系逆转过来显示），其将给出如下输出。输入命令：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">lsblk</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-s</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,23),o=[e];function F(r,t,c,i,y,E){return a(),n("div",null,o)}const b=s(p,[["render",F]]);export{d as __pageData,b as default};
