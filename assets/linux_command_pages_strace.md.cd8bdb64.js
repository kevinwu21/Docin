import{_ as s,c as n,o as a,a as l}from"./app.82736834.js";const i=JSON.parse('{"title":"strace","description":"","frontmatter":{},"headers":[{"level":2,"title":"补充说明","slug":"补充说明","link":"#补充说明","children":[{"level":3,"title":"语法","slug":"语法","link":"#语法","children":[]},{"level":3,"title":"选项","slug":"选项","link":"#选项","children":[]},{"level":3,"title":"实例","slug":"实例","link":"#实例","children":[]},{"level":3,"title":"常用参数说明","slug":"常用参数说明","link":"#常用参数说明","children":[]},{"level":3,"title":"综合例子","slug":"综合例子","link":"#综合例子","children":[]}]}],"relativePath":"linux/command/pages/strace.md","lastUpdated":1666509709000}'),p={name:"linux/command/pages/strace.md"},o=l(`<h1 id="strace" tabindex="-1">strace <a class="header-anchor" href="#strace" aria-hidden="true">#</a></h1><p>跟踪系统调用和信号</p><h2 id="补充说明" tabindex="-1">补充说明 <a class="header-anchor" href="#补充说明" aria-hidden="true">#</a></h2><p><strong>strace命令</strong> 是一个集诊断、调试、统计与一体的工具，我们可以使用strace对应用的系统调用和信号传递的跟踪结果来对应用进行分析，以达到解决问题或者是了解应用工作过程的目的。当然strace与专业的调试工具比如说gdb之类的是没法相比的，因为它不是一个专业的调试器。</p><p>strace的最简单的用法就是执行一个指定的命令，在指定的命令结束之后它也就退出了。在命令执行的过程中，strace会记录和解析命令进程的所有系统调用以及这个进程所接收到的所有的信号值。</p><h3 id="语法" tabindex="-1">语法 <a class="header-anchor" href="#语法" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">strace</span><span style="color:#EEFFFF;">  </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">  -dffhiqrtttTvxx  </span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;"> -acolumn </span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;"> -eexpr </span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">...</span></span>
<span class="line"><span style="color:#EEFFFF;">    </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;"> -ofile </span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">-ppid </span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#82AAFF;">...</span><span style="color:#EEFFFF;">  </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;"> -sstrsize </span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;"> -uusername </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#EEFFFF;">    </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;"> -Evar</span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;">val </span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#82AAFF;">...</span><span style="color:#EEFFFF;">  </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;"> -Evar  </span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;">...</span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">command </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;"> arg ...  </span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">strace</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">-c</span><span style="color:#EEFFFF;">  </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;"> -eexpr </span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">...</span><span style="color:#EEFFFF;">  </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;"> -Ooverhead </span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;"> -Ssortby </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#EEFFFF;">    </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;"> command </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;"> arg...  </span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="选项" tabindex="-1">选项 <a class="header-anchor" href="#选项" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">-c</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">统计每一系统调用的所执行的时间,次数和出错的次数等.</span></span>
<span class="line"><span style="color:#FFCB6B;">-d</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">输出strace关于标准错误的调试信息.</span></span>
<span class="line"><span style="color:#FFCB6B;">-f</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">跟踪由fork调用所产生的子进程.</span></span>
<span class="line"><span style="color:#FFCB6B;">-ff</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">如果提供-o</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">filename,则所有进程的跟踪结果输出到相应的filename.pid中,pid是各进程的进程号.</span></span>
<span class="line"><span style="color:#FFCB6B;">-F</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">尝试跟踪vfork调用.在-f时,vfork不被跟踪.</span></span>
<span class="line"><span style="color:#FFCB6B;">-h</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">输出简要的帮助信息.</span></span>
<span class="line"><span style="color:#FFCB6B;">-i</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">输出系统调用的入口指针.</span></span>
<span class="line"><span style="color:#FFCB6B;">-q</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">禁止输出关于脱离的消息.</span></span>
<span class="line"><span style="color:#FFCB6B;">-r</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">打印出相对时间关于,,每一个系统调用.</span></span>
<span class="line"><span style="color:#FFCB6B;">-t</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">在输出中的每一行前加上时间信息.</span></span>
<span class="line"><span style="color:#FFCB6B;">-tt</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">在输出中的每一行前加上时间信息,微秒级.</span></span>
<span class="line"><span style="color:#FFCB6B;">-ttt</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">微秒级输出,以秒了表示时间.</span></span>
<span class="line"><span style="color:#FFCB6B;">-T</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">显示每一调用所耗的时间.</span></span>
<span class="line"><span style="color:#FFCB6B;">-v</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">输出所有的系统调用.一些调用关于环境变量,状态,输入输出等调用由于使用频繁,默认不输出.</span></span>
<span class="line"><span style="color:#FFCB6B;">-V</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">输出strace的版本信息.</span></span>
<span class="line"><span style="color:#FFCB6B;">-x</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">以十六进制形式输出非标准字符串</span></span>
<span class="line"><span style="color:#FFCB6B;">-xx</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">所有字符串以十六进制形式输出.</span></span>
<span class="line"><span style="color:#FFCB6B;">-a</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">column</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">设置返回值的输出位置.默认</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">为40.</span></span>
<span class="line"><span style="color:#FFCB6B;">-e</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">expr</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">指定一个表达式,用来控制如何跟踪.格式：[qualifier=][!]value1[,value2]...</span></span>
<span class="line"><span style="color:#FFCB6B;">qualifier只能是</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">trace,abbrev,verbose,raw,signal,read,write其中之一.value是用来限定的符号或数字.默认的</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">qualifier是</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">trace.感叹号是否定符号.例如:-eopen等价于</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-e</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">trace=open,表示只跟踪open调用.而-etrace!=open</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">表示跟踪除了open以外的其他调用.有两个特殊的符号</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">all</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">和</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">none.</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">注意有些shell使用!来执行历史记录里的命令,所以要使用</span><span style="color:#EEFFFF;">\\\\</span><span style="color:#C3E88D;">.</span></span>
<span class="line"><span style="color:#FFCB6B;">-e</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">trace=set</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">只跟踪指定的系统</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">调用.例如:-e</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">trace=open,close,rean,write表示只跟踪这四个系统调用.默认的为set=all.</span></span>
<span class="line"><span style="color:#FFCB6B;">-e</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">trace=file</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">只跟踪有关文件操作的系统调用.</span></span>
<span class="line"><span style="color:#FFCB6B;">-e</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">trace=process</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">只跟踪有关进程控制的系统调用.</span></span>
<span class="line"><span style="color:#FFCB6B;">-e</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">trace=network</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">跟踪与网络有关的所有系统调用.</span></span>
<span class="line"><span style="color:#FFCB6B;">-e</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">strace=signal</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">跟踪所有与系统信号有关的</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">系统调用</span></span>
<span class="line"><span style="color:#FFCB6B;">-e</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">trace=ipc</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">跟踪所有与进程通讯有关的系统调用</span></span>
<span class="line"><span style="color:#FFCB6B;">-e</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">abbrev=set</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">设定strace输出的系统调用的结果集.-v</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">等与</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">abbrev=none.默认为abbrev=all.</span></span>
<span class="line"><span style="color:#FFCB6B;">-e</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">raw=set</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">将指定的系统调用的参数以十六进制显示.</span></span>
<span class="line"><span style="color:#FFCB6B;">-e</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">signal=set</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">指定跟踪的系统信号.默认为all.如</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">signal=!SIGIO</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">或者signal=!io</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,表示不跟踪SIGIO信号.</span></span>
<span class="line"><span style="color:#FFCB6B;">-e</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">read=set</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">输出从指定文件中读出</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">的数据.例如:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-e</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">read=</span><span style="color:#F78C6C;">3</span><span style="color:#C3E88D;">,</span><span style="color:#F78C6C;">5</span></span>
<span class="line"><span style="color:#FFCB6B;">-e</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">write=set</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">输出写入到指定文件中的数据.</span></span>
<span class="line"><span style="color:#FFCB6B;">-o</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">filename</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">将strace的输出写入文件filename</span></span>
<span class="line"><span style="color:#FFCB6B;">-p</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">pid</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">跟踪指定的进程pid.</span></span>
<span class="line"><span style="color:#FFCB6B;">-s</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">strsize</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">指定输出的字符串的最大长度.默认为32.文件名一直全部输出.</span></span>
<span class="line"><span style="color:#FFCB6B;">-u</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">username</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">以username的UID和GID执行被跟踪的命令</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h3 id="实例" tabindex="-1">实例 <a class="header-anchor" href="#实例" aria-hidden="true">#</a></h3><p><strong>追踪系统调用</strong></p><p>现在我们做一个很简单的程序来演示strace的基本用法。这个程序的C语言代码如下：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#545454;font-style:italic;"># filename test.c</span></span>
<span class="line"><span style="color:#545454;font-style:italic;">#include &lt;stdio.h&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">int</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">main</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#EEFFFF;">    </span><span style="color:#FFCB6B;">int</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#EEFFFF;">    </span><span style="color:#FFCB6B;">scanf(&quot;%d&quot;,</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#FFCB6B;">a</span><span style="color:#EEFFFF;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#EEFFFF;">    </span><span style="color:#FFCB6B;">printf(&quot;%09d\\n&quot;,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">a</span><span style="color:#EEFFFF;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#EEFFFF;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>然后我们用<code>gcc -o test test.c</code>编译一下，得到一个可执行的文件test。然后用strace调用执行：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">strace</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">./test</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>执行期间会要求你输入一个整数，我们输入99，最后得到如下的结果：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">//</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">直接执行test的结果</span></span>
<span class="line"><span style="color:#FFCB6B;">oracle@orainst[orcl</span><span style="color:#EEFFFF;">]:</span><span style="color:#89DDFF;">~</span><span style="color:#EEFFFF;"> $./test</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">//</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">执行的结果</span></span>
<span class="line"><span style="color:#F78C6C;">99</span></span>
<span class="line"><span style="color:#F78C6C;">000000099</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">//</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">通过strace执行test的结果</span></span>
<span class="line"><span style="color:#FFCB6B;">oracle@orainst[orcl</span><span style="color:#EEFFFF;">]:</span><span style="color:#89DDFF;">~</span><span style="color:#EEFFFF;"> $strace ./test</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">//</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">strace的trace结果</span></span>
<span class="line"><span style="color:#FFCB6B;">execve(&quot;</span><span style="color:#82AAFF;">.</span><span style="color:#FFCB6B;">/</span><span style="color:#82AAFF;">test</span><span style="color:#FFCB6B;">&quot;,</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./test</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;">, </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">/</span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">41</span><span style="color:#EEFFFF;"> vars </span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;">/</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">uname(</span><span style="color:#89DDFF;">{</span><span style="color:#EEFFFF;">sys</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Linux</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> node</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">orainst.desktop.mycompany.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> ...</span><span style="color:#89DDFF;">}</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">brk(0</span><span style="color:#EEFFFF;">)                                  = </span><span style="color:#F78C6C;">0x8078000</span></span>
<span class="line"><span style="color:#FFCB6B;">fstat64(3,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">{st_mode=S_IFREG</span><span style="color:#89DDFF;">|</span><span style="color:#F78C6C;">0644</span><span style="color:#EEFFFF;">, st_size</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">65900</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> ...}) = </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">old_mmap(NULL,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">65900</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">PROT_READ,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">MAP_PRIVATE,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">3</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">0xbf5ef000</span></span>
<span class="line"><span style="color:#FFCB6B;">close(3</span><span style="color:#EEFFFF;">)                                = </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">open(&quot;/lib/tls/libc.so.6&quot;,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">O_RDONLY</span><span style="color:#EEFFFF;">)    = </span><span style="color:#F78C6C;">3</span></span>
<span class="line"><span style="color:#82AAFF;">read</span><span style="color:#FFCB6B;">(3,</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\3\\0\\1\\0\\0\\0\\200X\\1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">...,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">512</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">512</span></span>
<span class="line"><span style="color:#FFCB6B;">fstat64(3,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">{st_mode=S_IFREG</span><span style="color:#89DDFF;">|</span><span style="color:#F78C6C;">0755</span><span style="color:#EEFFFF;">, st_size</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1571692</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> ...}) = </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">old_mmap(NULL,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">4096</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">PROT_READ</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">PROT_WRITE,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">MAP_PRIVATE</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">MAP_ANONYMOUS,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-1,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">0xbf5ee000</span></span>
<span class="line"><span style="color:#FFCB6B;">old_mmap(NULL,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1275340</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">PROT_READ</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">PROT_EXEC,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">MAP_PRIVATE,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">3</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">0xa02000</span></span>
<span class="line"><span style="color:#FFCB6B;">old_mmap(0xb34000,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">12288</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">PROT_READ</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">PROT_WRITE,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">MAP_PRIVATE</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">MAP_FIXED,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">3</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0x132000</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">0xb34000</span></span>
<span class="line"><span style="color:#FFCB6B;">old_mmap(0xb37000,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">9676</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">PROT_READ</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">PROT_WRITE,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">MAP_PRIVATE</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">MAP_FIXED</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">MAP_ANONYMOUS,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-1,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">0xb37000</span></span>
<span class="line"><span style="color:#FFCB6B;">close(3</span><span style="color:#EEFFFF;">)                                = </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">set_thread_area(</span><span style="color:#89DDFF;">{</span><span style="color:#FFCB6B;">entry_number:-1</span><span style="color:#EEFFFF;"> -</span><span style="color:#89DDFF;">&gt;</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">6</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">base_addr:</span><span style="color:#F78C6C;">0xbf5ee740</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">limit:</span><span style="color:#F78C6C;">1048575</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">seg_32bit:</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">contents:</span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">read_exec_only:</span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">limit_in_pages:</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">seg_not_present:</span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">useable:</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">}</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">munmap(0xbf5ef000,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">65900</span><span style="color:#EEFFFF;">)               = </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">fstat64(0,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">{st_mode=S_IFCHR</span><span style="color:#89DDFF;">|</span><span style="color:#F78C6C;">0620</span><span style="color:#EEFFFF;">, st_rdev</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">makedev</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">136</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> ...</span><span style="color:#89DDFF;">}</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">mmap2(NULL,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">4096</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">PROT_READ</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">PROT_WRITE,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">MAP_PRIVATE</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">MAP_ANONYMOUS,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-1,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">0xbf5ff000</span></span>
<span class="line"><span style="color:#82AAFF;">read</span><span style="color:#FFCB6B;">(0,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">99</span></span>
<span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">99\\n</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">1024</span><span style="color:#EEFFFF;">)                   = </span><span style="color:#F78C6C;">3</span></span>
<span class="line"><span style="color:#FFCB6B;">fstat64(1,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">{st_mode=S_IFCHR</span><span style="color:#89DDFF;">|</span><span style="color:#F78C6C;">0620</span><span style="color:#EEFFFF;">, st_rdev</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">makedev</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">136</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> ...}) = </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">mmap2(NULL,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">4096</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">PROT_READ</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">PROT_WRITE,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">MAP_PRIVATE</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">MAP_ANONYMOUS,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-1,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">0xbf5fe000</span></span>
<span class="line"><span style="color:#FFCB6B;">write(1,</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">000000099\\n</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10000000099</span></span>
<span class="line"><span style="color:#EEFFFF;">)             = 10</span></span>
<span class="line"><span style="color:#FFCB6B;">munmap(0xbf5fe000,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">4096</span><span style="color:#EEFFFF;">)                = </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">exit_group(0</span><span style="color:#EEFFFF;">)                           = </span><span style="color:#89DDFF;">?</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><p>从trace结构可以看到，系统首先调用execve开始一个新的进行，接着进行些环境的初始化操作，最后停顿在”read(0,”上面，这也就是执行到了我们的scanf函数，等待我们输入数字呢，在输入完99之后，在调用write函数将格式化后的数值”000000099″输出到屏幕，最后调用exit_group退出进行，完成整个程序的执行过程。</p><p><strong>跟踪信号传递</strong></p><p>我们还是使用上面的那个test程序，来观察进程接收信号的情况。还是先<code>strace ./test</code>，等到等待输入的画面的时候不要输入任何东西，然后打开另外一个窗口，输入如下的命令</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">killall</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">test</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这时候就能看到我们的程序推出了，最后的trace结果如下：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">oracle@orainst[orcl</span><span style="color:#EEFFFF;">]:</span><span style="color:#89DDFF;">~</span></span>
<span class="line"><span style="color:#EEFFFF;">$strace ./test</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">execve(&quot;</span><span style="color:#82AAFF;">.</span><span style="color:#FFCB6B;">/</span><span style="color:#82AAFF;">test</span><span style="color:#FFCB6B;">&quot;,</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./test</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;">, </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">/</span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">41</span><span style="color:#EEFFFF;"> vars </span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;">/</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">uname(</span><span style="color:#89DDFF;">{</span><span style="color:#EEFFFF;">sys</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Linux</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> node</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">orainst.desktop.mycompany.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> ...</span><span style="color:#89DDFF;">}</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">brk(0</span><span style="color:#EEFFFF;">)                                  = </span><span style="color:#F78C6C;">0x9ae2000</span></span>
<span class="line"><span style="color:#FFCB6B;">old_mmap(NULL,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">65900</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">PROT_READ,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">MAP_PRIVATE,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">3</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">0xbf5ef000</span></span>
<span class="line"><span style="color:#FFCB6B;">close(3</span><span style="color:#EEFFFF;">)                                = </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">open(&quot;/lib/tls/libc.so.6&quot;,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">O_RDONLY</span><span style="color:#EEFFFF;">)    = </span><span style="color:#F78C6C;">3</span></span>
<span class="line"><span style="color:#82AAFF;">read</span><span style="color:#FFCB6B;">(3,</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\3\\0\\1\\0\\0\\0\\200X\\1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">...,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">512</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">512</span></span>
<span class="line"><span style="color:#FFCB6B;">fstat64(3,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">{st_mode=S_IFREG</span><span style="color:#89DDFF;">|</span><span style="color:#F78C6C;">0755</span><span style="color:#EEFFFF;">, st_size</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1571692</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> ...}) = </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">old_mmap(NULL,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">4096</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">PROT_READ</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">PROT_WRITE,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">MAP_PRIVATE</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">MAP_ANONYMOUS,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-1,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">0xbf5ee000</span></span>
<span class="line"><span style="color:#FFCB6B;">old_mmap(NULL,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1275340</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">PROT_READ</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">PROT_EXEC,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">MAP_PRIVATE,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">3</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">0x2e9000</span></span>
<span class="line"><span style="color:#FFCB6B;">old_mmap(0x41b000,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">12288</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">PROT_READ</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">PROT_WRITE,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">MAP_PRIVATE</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">MAP_FIXED,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">3</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0x132000</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">0x41b000</span></span>
<span class="line"><span style="color:#FFCB6B;">old_mmap(0x41e000,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">9676</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">PROT_READ</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">PROT_WRITE,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">MAP_PRIVATE</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">MAP_FIXED</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">MAP_ANONYMOUS,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-1,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">0x41e000</span></span>
<span class="line"><span style="color:#FFCB6B;">close(3</span><span style="color:#EEFFFF;">)                                = </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">set_thread_area(</span><span style="color:#89DDFF;">{</span><span style="color:#FFCB6B;">entry_number:-1</span><span style="color:#EEFFFF;"> -</span><span style="color:#89DDFF;">&gt;</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">6</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">base_addr:</span><span style="color:#F78C6C;">0xbf5ee740</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">limit:</span><span style="color:#F78C6C;">1048575</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">seg_32bit:</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">contents:</span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">read_exec_only:</span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">limit_in_pages:</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">seg_not_present:</span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">useable:</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">}</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">munmap(0xbf5ef000,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">65900</span><span style="color:#EEFFFF;">)               = </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">fstat64(0,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">{st_mode=S_IFCHR</span><span style="color:#89DDFF;">|</span><span style="color:#F78C6C;">0620</span><span style="color:#EEFFFF;">, st_rdev</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">makedev</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">136</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> ...</span><span style="color:#89DDFF;">}</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">mmap2(NULL,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">4096</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">PROT_READ</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">PROT_WRITE,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">MAP_PRIVATE</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">MAP_ANONYMOUS,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-1,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">0xbf5ff000</span></span>
<span class="line"><span style="color:#82AAFF;">read</span><span style="color:#FFCB6B;">(0,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0xbf5ff000</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1024</span><span style="color:#EEFFFF;">)               = </span><span style="color:#89DDFF;">?</span><span style="color:#EEFFFF;"> ERESTARTSYS </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">To</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">be</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">restarted</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">---</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">SIGTERM</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">Terminated</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">@</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">---</span></span>
<span class="line"><span style="color:#FFCB6B;">+++</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">killed</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">by</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">SIGTERM</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">+++</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>trace中很清楚的告诉你test进程”+++ killed by SIGTERM +++”。</p><p><strong>系统调用统计</strong></p><p>strace不光能追踪系统调用，通过使用参数-c，它还能将进程所有的系统调用做一个统计分析给你，下面就来看看strace的统计，这次我们执行带-c参数的strace：</p><p>strace -c ./test</p><p>最后能得到这样的trace结果：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">oracle@orainst[orcl</span><span style="color:#EEFFFF;">]:</span><span style="color:#89DDFF;">~</span></span>
<span class="line"><span style="color:#EEFFFF;">$strace -c ./test</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">execve(&quot;</span><span style="color:#82AAFF;">.</span><span style="color:#FFCB6B;">/</span><span style="color:#82AAFF;">test</span><span style="color:#FFCB6B;">&quot;,</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./test</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;">, </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">/</span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">41</span><span style="color:#EEFFFF;"> vars </span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;">/</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#EEFFFF;">% </span><span style="color:#FFCB6B;">time</span><span style="color:#EEFFFF;">     </span><span style="color:#C3E88D;">seconds</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">usecs/call</span><span style="color:#EEFFFF;">     </span><span style="color:#C3E88D;">calls</span><span style="color:#EEFFFF;">    </span><span style="color:#C3E88D;">errors</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">syscall</span></span>
<span class="line"><span style="color:#FFCB6B;">------</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-----------</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-----------</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">---------</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">---------</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">----------------</span></span>
<span class="line"><span style="color:#EEFFFF;"> </span><span style="color:#FFCB6B;">45.90</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0.000140</span><span style="color:#EEFFFF;">           </span><span style="color:#F78C6C;">5</span><span style="color:#EEFFFF;">        </span><span style="color:#F78C6C;">27</span><span style="color:#EEFFFF;">        </span><span style="color:#F78C6C;">25</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">open</span></span>
<span class="line"><span style="color:#EEFFFF;"> </span><span style="color:#FFCB6B;">34.43</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0.000105</span><span style="color:#EEFFFF;">           </span><span style="color:#F78C6C;">4</span><span style="color:#EEFFFF;">        </span><span style="color:#F78C6C;">24</span><span style="color:#EEFFFF;">        </span><span style="color:#F78C6C;">21</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">stat64</span></span>
<span class="line"><span style="color:#EEFFFF;">  </span><span style="color:#FFCB6B;">7.54</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0.000023</span><span style="color:#EEFFFF;">           </span><span style="color:#F78C6C;">5</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">5</span><span style="color:#EEFFFF;">           </span><span style="color:#C3E88D;">old_mmap</span></span>
<span class="line"><span style="color:#EEFFFF;">  </span><span style="color:#FFCB6B;">2.62</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0.000008</span><span style="color:#EEFFFF;">           </span><span style="color:#F78C6C;">8</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">           </span><span style="color:#C3E88D;">munmap</span></span>
<span class="line"><span style="color:#EEFFFF;">  </span><span style="color:#FFCB6B;">1.97</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0.000006</span><span style="color:#EEFFFF;">           </span><span style="color:#F78C6C;">6</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">           </span><span style="color:#C3E88D;">uname</span></span>
<span class="line"><span style="color:#EEFFFF;">  </span><span style="color:#FFCB6B;">1.97</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0.000006</span><span style="color:#EEFFFF;">           </span><span style="color:#F78C6C;">2</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">3</span><span style="color:#EEFFFF;">           </span><span style="color:#C3E88D;">fstat64</span></span>
<span class="line"><span style="color:#EEFFFF;">  </span><span style="color:#FFCB6B;">1.64</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0.000005</span><span style="color:#EEFFFF;">           </span><span style="color:#F78C6C;">3</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">2</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">read</span></span>
<span class="line"><span style="color:#EEFFFF;">  </span><span style="color:#FFCB6B;">1.31</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0.000004</span><span style="color:#EEFFFF;">           </span><span style="color:#F78C6C;">2</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">2</span><span style="color:#EEFFFF;">           </span><span style="color:#C3E88D;">close</span></span>
<span class="line"><span style="color:#EEFFFF;">  </span><span style="color:#FFCB6B;">0.98</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0.000003</span><span style="color:#EEFFFF;">           </span><span style="color:#F78C6C;">3</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">           </span><span style="color:#C3E88D;">brk</span></span>
<span class="line"><span style="color:#EEFFFF;">  </span><span style="color:#FFCB6B;">0.98</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0.000003</span><span style="color:#EEFFFF;">           </span><span style="color:#F78C6C;">3</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">           </span><span style="color:#C3E88D;">mmap2</span></span>
<span class="line"><span style="color:#EEFFFF;">  </span><span style="color:#FFCB6B;">0.66</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0.000002</span><span style="color:#EEFFFF;">           </span><span style="color:#F78C6C;">2</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">           </span><span style="color:#C3E88D;">set_thread_area</span></span>
<span class="line"><span style="color:#FFCB6B;">------</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-----------</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-----------</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">---------</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">---------</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">----------------</span></span>
<span class="line"><span style="color:#F78C6C;">100.00</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0.000305</span><span style="color:#EEFFFF;">                    </span><span style="color:#F78C6C;">68</span><span style="color:#EEFFFF;">        </span><span style="color:#F78C6C;">47</span><span style="color:#EEFFFF;"> total</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>这里很清楚的告诉你调用了那些系统函数，调用次数多少，消耗了多少时间等等这些信息，这个对我们分析一个程序来说是非常有用的。</p><h3 id="常用参数说明" tabindex="-1">常用参数说明 <a class="header-anchor" href="#常用参数说明" aria-hidden="true">#</a></h3><p>除了-c参数之外，strace还提供了其他有用的参数给我们，让我们能很方便的得到自己想要的信息，下面就对那些常用的参数一一做个介绍。</p><p><strong>重定向输出</strong></p><p>参数-o用在将strace的结果输出到文件中，如果不指定-o参数的话，默认的输出设备是STDERR，也就是说使用”-o filename”和” 2&gt;filename”的结果是一样的。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#545454;font-style:italic;"># 这两个命令都是将strace结果输出到文件test.txt中</span></span>
<span class="line"><span style="color:#FFCB6B;">strace</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-c</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">test.txt</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">./test</span></span>
<span class="line"><span style="color:#FFCB6B;">strace</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-c</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">./test</span><span style="color:#EEFFFF;">  </span><span style="color:#89DDFF;">2&gt;</span><span style="color:#C3E88D;">test.txt</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>对系统调用进行计时</strong></p><p>strace可以使用参数-T将每个系统调用所花费的时间打印出来，每个调用的时间花销现在在调用行最右边的尖括号里面。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">oracle@orainst[orcl</span><span style="color:#EEFFFF;">]:</span><span style="color:#89DDFF;">~</span></span>
<span class="line"><span style="color:#EEFFFF;">$strace -T ./test</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">//</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">这里只摘录部分结果</span></span>
<span class="line"><span style="color:#82AAFF;">read</span><span style="color:#FFCB6B;">(0,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1\\n</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">1024</span><span style="color:#EEFFFF;">)                    = </span><span style="color:#F78C6C;">2</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F78C6C;">2.673455</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">fstat64(1,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">{st_mode=S_IFCHR</span><span style="color:#89DDFF;">|</span><span style="color:#F78C6C;">0620</span><span style="color:#EEFFFF;">, st_rdev</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">makedev</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">136</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> ...}) = </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F78C6C;">0.000014</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">mmap2(NULL,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">4096</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">PROT_READ</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">PROT_WRITE,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">MAP_PRIVATE</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">MAP_ANONYMOUS,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-1,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">0xbf5fe000</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F78C6C;">0.000017</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">write(1,</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">000000001\\n</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10000000001</span></span>
<span class="line"><span style="color:#EEFFFF;">)             = 10 &lt;0.000016&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">munmap(0xbf5fe000,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">4096</span><span style="color:#EEFFFF;">)                = </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F78C6C;">0.000020</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">exit_group(0</span><span style="color:#EEFFFF;">)                           = </span><span style="color:#89DDFF;">?</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>系统调用的时间</strong></p><p>这是一个很有用的功能，strace会将每次系统调用的发生时间记录下来，只要使用-t/tt/ttt三个参数就可以看到效果了，具体的例子可以自己去尝试。</p><table><thead><tr><th>参数名</th><th>输出样式</th><th>说明</th></tr></thead><tbody><tr><td>-t</td><td>10:33:04 exit_group(0)</td><td>输出结果精确到秒</td></tr><tr><td>-tt</td><td>10:33:48.159682 exit_group(0)</td><td>输出结果精确到微妙</td></tr><tr><td>-ttt</td><td>1262169244.788478 exit_group(0)</td><td>精确到微妙，而且时间表示为unix时间戳</td></tr></tbody></table><p><strong>截断输出</strong></p><p>-s参数用于指定trace结果的每一行输出的字符串的长度，下面看看test程序中-s参数对结果有什么影响，现指定-s为20，然后在read的是是很我们输入一个超过20个字符的数字串</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">strace</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">20</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">./test</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">read</span><span style="color:#FFCB6B;">(0,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">2222222222222222222222222</span><span style="color:#EEFFFF;">      </span><span style="color:#C3E88D;">//</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">我们输入的2一共有25个</span></span>
<span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">22222222222222222222</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1024</span><span style="color:#EEFFFF;">) = </span><span style="color:#F78C6C;">26</span><span style="color:#EEFFFF;">  // 而我们看到的结果中2只有20个</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>trace一个现有的进程</strong></p><p>strace不光能自己初始化一个进程进行trace，还能追踪现有的进程，参数-p就是取这个作用的，用法也很简单，具体如下。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">strace</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">pid</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="综合例子" tabindex="-1">综合例子 <a class="header-anchor" href="#综合例子" aria-hidden="true">#</a></h3><p>说了那么多的功能和参数，现在我们来一个实用点的，就是研究下Oracle的lgwr进程，看看这个进程是不是像文档所说的那样没3s钟写一次log文件，考虑到lgwr写日志的触发条件比较多，我们需要找一个空闲的Oracle实例做这个实验。</p><p>我们先要得到lgwr进程的pid，运行下面的命令</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">ps</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-ef</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">grep</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">lgwr</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">oracle</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">5912</span><span style="color:#EEFFFF;">     </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Nov12</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">?</span><span style="color:#EEFFFF;">        </span><span style="color:#F78C6C;">00</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">14</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">56</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">ora_lgwr_orcl</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>得到lgwr的pid是5912，现在启动strace，然后将trace的几个输出到lgwr.txt文件中，执行下面的命令</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">strace</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-tt</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">lgwr.txt</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">5912</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>过一会之后停止strace，然后查看结果。由于输出的结果比较多，为了方便我们只看Oracle写入log文件时用的pwrite函数的调用</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">grep</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">pwrite</span><span style="color:#EEFFFF;">\\(</span><span style="color:#F78C6C;">20</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">lgwr.txt</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>等等，为什么grep的时候用的是”pwrite(2″呢？，因为我知道我这个机器打开的当前的log文件的句柄编号都是2开始的。具体查找方法是先使用下面的语句找出当前活动的日志文件都有哪些：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">select</span><span style="color:#EEFFFF;"> member, v$log.status from v$log, v$logfile</span></span>
<span class="line"><span style="color:#FFCB6B;">where</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">v</span><span style="color:#EEFFFF;">$log</span><span style="color:#C3E88D;">.group#=v</span><span style="color:#EEFFFF;">$logfile</span><span style="color:#C3E88D;">.group#</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>得到</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">MEMBER</span><span style="color:#EEFFFF;">                                             </span><span style="color:#C3E88D;">STATUS</span></span>
<span class="line"><span style="color:#FFCB6B;">--------------------------------------------------</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">----------------</span></span>
<span class="line"><span style="color:#FFCB6B;">/db/databases/orcl/redo-01-a/redo-t01-g03-m1.log</span><span style="color:#EEFFFF;">    </span><span style="color:#C3E88D;">INACTIVE</span></span>
<span class="line"><span style="color:#FFCB6B;">/db/databases/orcl/redo-03-a/redo-t01-g03-m2.log</span><span style="color:#EEFFFF;">    </span><span style="color:#C3E88D;">INACTIVE</span></span>
<span class="line"><span style="color:#FFCB6B;">/db/databases/orcl/redo-02-a/redo-t01-g02-m1.log</span><span style="color:#EEFFFF;">    </span><span style="color:#C3E88D;">CURRENT</span></span>
<span class="line"><span style="color:#FFCB6B;">/db/databases/orcl/redo-04-a/redo-t01-g02-m2.log</span><span style="color:#EEFFFF;">    </span><span style="color:#C3E88D;">CURRENT</span></span>
<span class="line"><span style="color:#FFCB6B;">/db/databases/orcl/redo-01-a/redo-t01-g01-m1.log</span><span style="color:#EEFFFF;">    </span><span style="color:#C3E88D;">INACTIVE</span></span>
<span class="line"><span style="color:#FFCB6B;">/db/databases/orcl/redo-03-a/redo-t01-g01-m2.log</span><span style="color:#EEFFFF;">    </span><span style="color:#C3E88D;">INACTIVE</span></span>
<span class="line"><span style="color:#FFCB6B;">/db/databases/orcl/redo-02-a/redo-t01-g04-m1.log</span><span style="color:#EEFFFF;">    </span><span style="color:#C3E88D;">INACTIVE</span></span>
<span class="line"><span style="color:#FFCB6B;">/db/databases/orcl/redo-04-a/redo-t01-g04-m2.log</span><span style="color:#EEFFFF;">    </span><span style="color:#C3E88D;">INACTIVE</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>然后到/proc中去找打开文件的句柄：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">ll</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/proc/</span><span style="color:#F78C6C;">.5912</span><span style="color:#C3E88D;">/fd/</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>得到</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">lrwx------</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">oracle</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">dba</span><span style="color:#EEFFFF;">            </span><span style="color:#F78C6C;">64</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Dec</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">30</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">55</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">18</span><span style="color:#EEFFFF;"> -</span><span style="color:#89DDFF;">&gt;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/db/databases/orcl/redo-</span><span style="color:#F78C6C;">01</span><span style="color:#C3E88D;">-a/redo-t01-g01-m1.log</span></span>
<span class="line"><span style="color:#FFCB6B;">lrwx------</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">oracle</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">dba</span><span style="color:#EEFFFF;">            </span><span style="color:#F78C6C;">64</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Dec</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">30</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">55</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">19</span><span style="color:#EEFFFF;"> -</span><span style="color:#89DDFF;">&gt;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/db/databases/orcl/redo-</span><span style="color:#F78C6C;">03</span><span style="color:#C3E88D;">-a/redo-t01-g01-m2.log</span></span>
<span class="line"><span style="color:#FFCB6B;">lrwx------</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">oracle</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">dba</span><span style="color:#EEFFFF;">            </span><span style="color:#F78C6C;">64</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Dec</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">30</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">55</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">20</span><span style="color:#EEFFFF;"> -</span><span style="color:#89DDFF;">&gt;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/db/databases/orcl/redo-</span><span style="color:#F78C6C;">02</span><span style="color:#C3E88D;">-a/redo-t01-g02-m1.log</span></span>
<span class="line"><span style="color:#FFCB6B;">lrwx------</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">oracle</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">dba</span><span style="color:#EEFFFF;">            </span><span style="color:#F78C6C;">64</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Dec</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">30</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">55</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">21</span><span style="color:#EEFFFF;"> -</span><span style="color:#89DDFF;">&gt;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/db/databases/orcl/redo-</span><span style="color:#F78C6C;">04</span><span style="color:#C3E88D;">-a/redo-t01-g02-m2.log</span></span>
<span class="line"><span style="color:#FFCB6B;">lrwx------</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">oracle</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">dba</span><span style="color:#EEFFFF;">            </span><span style="color:#F78C6C;">64</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Dec</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">30</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">55</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">22</span><span style="color:#EEFFFF;"> -</span><span style="color:#89DDFF;">&gt;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/db/databases/orcl/redo-</span><span style="color:#F78C6C;">01</span><span style="color:#C3E88D;">-a/redo-t01-g03-m1.log</span></span>
<span class="line"><span style="color:#FFCB6B;">lrwx------</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">oracle</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">dba</span><span style="color:#EEFFFF;">            </span><span style="color:#F78C6C;">64</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Dec</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">30</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">55</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">23</span><span style="color:#EEFFFF;"> -</span><span style="color:#89DDFF;">&gt;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/db/databases/orcl/redo-</span><span style="color:#F78C6C;">03</span><span style="color:#C3E88D;">-a/redo-t01-g03-m2.log</span></span>
<span class="line"><span style="color:#FFCB6B;">lrwx------</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">oracle</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">dba</span><span style="color:#EEFFFF;">            </span><span style="color:#F78C6C;">64</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Dec</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">30</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">55</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">24</span><span style="color:#EEFFFF;"> -</span><span style="color:#89DDFF;">&gt;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/db/databases/orcl/redo-</span><span style="color:#F78C6C;">02</span><span style="color:#C3E88D;">-a/redo-t01-g04-m1.log</span></span>
<span class="line"><span style="color:#FFCB6B;">lrwx------</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">oracle</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">dba</span><span style="color:#EEFFFF;">            </span><span style="color:#F78C6C;">64</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Dec</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">30</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">55</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">25</span><span style="color:#EEFFFF;"> -</span><span style="color:#89DDFF;">&gt;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/db/databases/orcl/redo-</span><span style="color:#F78C6C;">04</span><span style="color:#C3E88D;">-a/redo-t01-g04-m2.log</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>现在能看到我机器当前日志文件的句柄分别是20和21。</p><p>现在我们得到如下结果</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">13</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">55.603245</span><span style="color:#EEFFFF;"> pwrite</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">20</span><span style="color:#EEFFFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">\\1</span><span style="color:#EEFFFF;">\\&quot;</span><span style="color:#C3E88D;">\\0\\0J!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1536</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">4363264</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> = </span><span style="color:#F78C6C;">1536</span></span>
<span class="line"><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">13</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">55.603569</span><span style="color:#EEFFFF;"> pwrite</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">21</span><span style="color:#EEFFFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">\\1</span><span style="color:#EEFFFF;">\\&quot;</span><span style="color:#C3E88D;">\\0\\0J!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1536</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">4363264</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> = </span><span style="color:#F78C6C;">1536</span></span>
<span class="line"><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">13</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">55.606888</span><span style="color:#EEFFFF;"> pwrite</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">20</span><span style="color:#EEFFFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">\\1</span><span style="color:#EEFFFF;">\\&quot;</span><span style="color:#C3E88D;">\\0\\0M!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1536</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">4364800</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> = </span><span style="color:#F78C6C;">1536</span></span>
<span class="line"><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">13</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">55.607172</span><span style="color:#EEFFFF;"> pwrite</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">21</span><span style="color:#EEFFFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">\\1</span><span style="color:#EEFFFF;">\\&quot;</span><span style="color:#C3E88D;">\\0\\0M!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1536</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">4364800</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> = </span><span style="color:#F78C6C;">1536</span></span>
<span class="line"><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">13</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">55.607934</span><span style="color:#EEFFFF;"> pwrite</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">20</span><span style="color:#EEFFFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">\\1</span><span style="color:#EEFFFF;">\\&quot;</span><span style="color:#C3E88D;">\\0\\0P!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1536</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">4366336</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> = </span><span style="color:#F78C6C;">1536</span></span>
<span class="line"><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">13</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">55.608199</span><span style="color:#EEFFFF;"> pwrite</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">21</span><span style="color:#EEFFFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">\\1</span><span style="color:#EEFFFF;">\\&quot;</span><span style="color:#C3E88D;">\\0\\0P!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1536</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">4366336</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> = </span><span style="color:#F78C6C;">1536</span></span>
<span class="line"><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">13</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">55.610260</span><span style="color:#EEFFFF;"> pwrite</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">20</span><span style="color:#EEFFFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">\\1</span><span style="color:#EEFFFF;">\\&quot;</span><span style="color:#C3E88D;">\\0\\0S!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1536</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">4367872</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> = </span><span style="color:#F78C6C;">1536</span></span>
<span class="line"><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">13</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">55.610530</span><span style="color:#EEFFFF;"> pwrite</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">21</span><span style="color:#EEFFFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">\\1</span><span style="color:#EEFFFF;">\\&quot;</span><span style="color:#C3E88D;">\\0\\0S!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1536</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">4367872</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> = </span><span style="color:#F78C6C;">1536</span></span>
<span class="line"><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">14</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">00.602446</span><span style="color:#EEFFFF;"> pwrite</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">20</span><span style="color:#EEFFFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">\\1</span><span style="color:#EEFFFF;">\\&quot;</span><span style="color:#C3E88D;">\\0\\0V!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1536</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">4369408</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> = </span><span style="color:#F78C6C;">1536</span></span>
<span class="line"><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">14</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">00.602750</span><span style="color:#EEFFFF;"> pwrite</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">21</span><span style="color:#EEFFFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">\\1</span><span style="color:#EEFFFF;">\\&quot;</span><span style="color:#C3E88D;">\\0\\0V!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1536</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">4369408</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> = </span><span style="color:#F78C6C;">1536</span></span>
<span class="line"><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">14</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">00.606386</span><span style="color:#EEFFFF;"> pwrite</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">20</span><span style="color:#EEFFFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">\\1</span><span style="color:#EEFFFF;">\\&quot;</span><span style="color:#C3E88D;">\\0\\0Y!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1536</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">4370944</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> = </span><span style="color:#F78C6C;">1536</span></span>
<span class="line"><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">14</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">00.606676</span><span style="color:#EEFFFF;"> pwrite</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">21</span><span style="color:#EEFFFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">\\1</span><span style="color:#EEFFFF;">\\&quot;</span><span style="color:#C3E88D;">\\0\\0Y!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1536</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">4370944</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> = </span><span style="color:#F78C6C;">1536</span></span>
<span class="line"><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">14</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">00.607900</span><span style="color:#EEFFFF;"> pwrite</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">20</span><span style="color:#EEFFFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">\\1</span><span style="color:#EEFFFF;">\\&quot;</span><span style="color:#C3E88D;">\\0\\0</span><span style="color:#EEFFFF;">\\\\</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1024</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">4372480</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> = </span><span style="color:#F78C6C;">1024</span></span>
<span class="line"><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">14</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">00.608161</span><span style="color:#EEFFFF;"> pwrite</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">21</span><span style="color:#EEFFFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">\\1</span><span style="color:#EEFFFF;">\\&quot;</span><span style="color:#C3E88D;">\\0\\0</span><span style="color:#EEFFFF;">\\\\</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1024</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">4372480</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> = </span><span style="color:#F78C6C;">1024</span></span>
<span class="line"><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">14</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">00.608816</span><span style="color:#EEFFFF;"> pwrite</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">20</span><span style="color:#EEFFFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">\\1</span><span style="color:#EEFFFF;">\\&quot;</span><span style="color:#C3E88D;">\\0\\0^!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1024</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">4373504</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> = </span><span style="color:#F78C6C;">1024</span></span>
<span class="line"><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">14</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">00.609071</span><span style="color:#EEFFFF;"> pwrite</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">21</span><span style="color:#EEFFFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">\\1</span><span style="color:#EEFFFF;">\\&quot;</span><span style="color:#C3E88D;">\\0\\0^!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1024</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">4373504</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> = </span><span style="color:#F78C6C;">1024</span></span>
<span class="line"><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">14</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">00.611142</span><span style="color:#EEFFFF;"> pwrite</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">20</span><span style="color:#EEFFFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">\\1</span><span style="color:#EEFFFF;">\\&quot;</span><span style="color:#C3E88D;">\\0\\0</span><span style="color:#89DDFF;">\`!&quot;</span><span style="color:#C3E88D;">..., 1536, 4374528) = 1536</span></span>
<span class="line"><span style="color:#C3E88D;">11:14:00.611454 pwrite(21, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">\\1\\&quot;\\0\\0</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1536</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">4374528</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> = </span><span style="color:#F78C6C;">1536</span></span>
<span class="line"><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">14</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">05.602804</span><span style="color:#EEFFFF;"> pwrite</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">20</span><span style="color:#EEFFFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">\\1</span><span style="color:#EEFFFF;">\\&quot;</span><span style="color:#C3E88D;">\\0\\0c!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1024</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">4376064</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> = </span><span style="color:#F78C6C;">1024</span></span>
<span class="line"><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">14</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">05.603119</span><span style="color:#EEFFFF;"> pwrite</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">21</span><span style="color:#EEFFFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">\\1</span><span style="color:#EEFFFF;">\\&quot;</span><span style="color:#C3E88D;">\\0\\0c!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1024</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">4376064</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> = </span><span style="color:#F78C6C;">1024</span></span>
<span class="line"><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">14</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">05.607731</span><span style="color:#EEFFFF;"> pwrite</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">20</span><span style="color:#EEFFFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">\\1</span><span style="color:#EEFFFF;">\\&quot;</span><span style="color:#C3E88D;">\\0\\0e!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1024</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">4377088</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> = </span><span style="color:#F78C6C;">1024</span></span>
<span class="line"><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">14</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">05.608020</span><span style="color:#EEFFFF;"> pwrite</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">21</span><span style="color:#EEFFFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">\\1</span><span style="color:#EEFFFF;">\\&quot;</span><span style="color:#C3E88D;">\\0\\0e!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1024</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">4377088</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> = </span><span style="color:#F78C6C;">1024</span></span>
<span class="line"><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">14</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">05.608690</span><span style="color:#EEFFFF;"> pwrite</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">20</span><span style="color:#EEFFFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">\\1</span><span style="color:#EEFFFF;">\\&quot;</span><span style="color:#C3E88D;">\\0\\0g!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1024</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">4378112</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> = </span><span style="color:#F78C6C;">1024</span></span>
<span class="line"><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">14</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">05.608962</span><span style="color:#EEFFFF;"> pwrite</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">21</span><span style="color:#EEFFFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">\\1</span><span style="color:#EEFFFF;">\\&quot;</span><span style="color:#C3E88D;">\\0\\0g!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1024</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">4378112</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> = </span><span style="color:#F78C6C;">1024</span></span>
<span class="line"><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">14</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">05.611022</span><span style="color:#EEFFFF;"> pwrite</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">20</span><span style="color:#EEFFFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">\\1</span><span style="color:#EEFFFF;">\\&quot;</span><span style="color:#C3E88D;">\\0\\0i!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1536</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">4379136</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> = </span><span style="color:#F78C6C;">1536</span></span>
<span class="line"><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">14</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">05.611283</span><span style="color:#EEFFFF;"> pwrite</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">21</span><span style="color:#EEFFFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">\\1</span><span style="color:#EEFFFF;">\\&quot;</span><span style="color:#C3E88D;">\\0\\0i!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">..., </span><span style="color:#F78C6C;">1536</span><span style="color:#EEFFFF;">, </span><span style="color:#F78C6C;">4379136</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> = </span><span style="color:#F78C6C;">1536</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div>`,67),F=[o];function e(r,c,t,y,E,C){return a(),n("div",null,F)}const b=s(p,[["render",e]]);export{i as __pageData,b as default};
