import{_ as s,c as n,o as a,a as l}from"./app.82736834.js";const D=JSON.parse('{"title":"ss","description":"","frontmatter":{},"headers":[{"level":2,"title":"补充说明","slug":"补充说明","link":"#补充说明","children":[{"level":3,"title":"语法","slug":"语法","link":"#语法","children":[]},{"level":3,"title":"选项","slug":"选项","link":"#选项","children":[]},{"level":3,"title":"实例","slug":"实例","link":"#实例","children":[]}]}],"relativePath":"linux/command/pages/ss.md","lastUpdated":1666509709000}'),p={name:"linux/command/pages/ss.md"},o=l(`<h1 id="ss" tabindex="-1">ss <a class="header-anchor" href="#ss" aria-hidden="true">#</a></h1><p>比 netstat 好用的socket统计信息，iproute2 包附带的另一个工具，允许你查询 socket 的有关统计信息</p><h2 id="补充说明" tabindex="-1">补充说明 <a class="header-anchor" href="#补充说明" aria-hidden="true">#</a></h2><p><strong>ss命令</strong> 用来显示处于活动状态的套接字信息。ss命令可以用来获取socket统计信息，它可以显示和netstat类似的内容。但ss的优势在于它能够显示更多更详细的有关TCP和连接状态的信息，而且比netstat更快速更高效。</p><p>当服务器的socket连接数量变得非常大时，无论是使用netstat命令还是直接<code>cat /proc/net/tcp</code>，执行速度都会很慢。可能你不会有切身的感受，但请相信我，当服务器维持的连接达到上万个的时候，使用netstat等于浪费 生命，而用ss才是节省时间。</p><p>天下武功唯快不破。ss快的秘诀在于，它利用到了TCP协议栈中tcp_diag。tcp_diag是一个用于分析统计的模块，可以获得Linux 内核中第一手的信息，这就确保了ss的快捷高效。当然，如果你的系统中没有tcp_diag，ss也可以正常运行，只是效率会变得稍慢。</p><h3 id="语法" tabindex="-1">语法 <a class="header-anchor" href="#语法" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">参数</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">参数</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">过滤</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="选项" tabindex="-1">选项 <a class="header-anchor" href="#选项" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">-h,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--help</span><span style="color:#EEFFFF;">      </span><span style="color:#C3E88D;">帮助信息</span></span>
<span class="line"><span style="color:#FFCB6B;">-V,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--version</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">程序版本信息</span></span>
<span class="line"><span style="color:#FFCB6B;">-n,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--numeric</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">不解析服务名称</span></span>
<span class="line"><span style="color:#FFCB6B;">-r,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--resolve</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">解析主机名</span></span>
<span class="line"><span style="color:#FFCB6B;">-a,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--all</span><span style="color:#EEFFFF;">       </span><span style="color:#C3E88D;">显示所有套接字（sockets）</span></span>
<span class="line"><span style="color:#FFCB6B;">-l,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--listening</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">显示监听状态的套接字（sockets）</span></span>
<span class="line"><span style="color:#FFCB6B;">-o,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--options</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">显示计时器信息</span></span>
<span class="line"><span style="color:#FFCB6B;">-e,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--extended</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">显示详细的套接字（sockets）信息</span></span>
<span class="line"><span style="color:#FFCB6B;">-m,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--memory</span><span style="color:#EEFFFF;">    </span><span style="color:#C3E88D;">显示套接字（socket）的内存使用情况</span></span>
<span class="line"><span style="color:#FFCB6B;">-p,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--processes</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">显示使用套接字（socket）的进程</span></span>
<span class="line"><span style="color:#FFCB6B;">-i,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--info</span><span style="color:#EEFFFF;">      </span><span style="color:#C3E88D;">显示</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">TCP内部信息</span></span>
<span class="line"><span style="color:#FFCB6B;">-s,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--summary</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">显示套接字（socket）使用概况</span></span>
<span class="line"><span style="color:#FFCB6B;">-4,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--ipv4</span><span style="color:#EEFFFF;">      </span><span style="color:#C3E88D;">仅显示IPv4的套接字（sockets）</span></span>
<span class="line"><span style="color:#FFCB6B;">-6,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--ipv6</span><span style="color:#EEFFFF;">      </span><span style="color:#C3E88D;">仅显示IPv6的套接字（sockets）</span></span>
<span class="line"><span style="color:#FFCB6B;">-0,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--packet</span><span style="color:#EEFFFF;">    </span><span style="color:#C3E88D;">显示</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">PACKET</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">套接字（socket）</span></span>
<span class="line"><span style="color:#FFCB6B;">-t,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--tcp</span><span style="color:#EEFFFF;">       </span><span style="color:#C3E88D;">仅显示</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">TCP套接字（sockets）</span></span>
<span class="line"><span style="color:#FFCB6B;">-u,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--udp</span><span style="color:#EEFFFF;">       </span><span style="color:#C3E88D;">仅显示</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">UCP套接字（sockets）</span></span>
<span class="line"><span style="color:#FFCB6B;">-d,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--dccp</span><span style="color:#EEFFFF;">      </span><span style="color:#C3E88D;">仅显示</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">DCCP套接字（sockets）</span></span>
<span class="line"><span style="color:#FFCB6B;">-w,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--raw</span><span style="color:#EEFFFF;">       </span><span style="color:#C3E88D;">仅显示</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">RAW套接字（sockets）</span></span>
<span class="line"><span style="color:#FFCB6B;">-x,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--unix</span><span style="color:#EEFFFF;">      </span><span style="color:#C3E88D;">仅显示</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Unix套接字（sockets）</span></span>
<span class="line"><span style="color:#FFCB6B;">-f,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--family=FAMILY</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">显示</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">FAMILY类型的套接字（sockets），FAMILY可选，支持</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">unix,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">inet,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">inet6,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">link,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">netlink</span></span>
<span class="line"><span style="color:#FFCB6B;">-A,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--query=QUERY,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--socket=QUERY</span></span>
<span class="line"><span style="color:#EEFFFF;">      </span><span style="color:#FFCB6B;">QUERY</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">:=</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">{all</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">inet</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">tcp</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">udp</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">raw</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">unix</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">packet</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">netlink</span><span style="color:#EEFFFF;">}</span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">,QUERY</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#FFCB6B;">-D,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--diag=FILE</span><span style="color:#EEFFFF;">     </span><span style="color:#C3E88D;">将原始TCP套接字（sockets）信息转储到文件</span></span>
<span class="line"><span style="color:#EEFFFF;"> </span><span style="color:#FFCB6B;">-F,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--filter=FILE</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">从文件中都去过滤器信息</span></span>
<span class="line"><span style="color:#EEFFFF;">       </span><span style="color:#FFCB6B;">FILTER</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">:=</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;"> state TCP-STATE </span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;"> EXPRESSION </span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="实例" tabindex="-1">实例 <a class="header-anchor" href="#实例" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-t</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#EEFFFF;">    </span><span style="color:#545454;font-style:italic;"># 显示TCP连接</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#EEFFFF;">       </span><span style="color:#545454;font-style:italic;"># 显示 Sockets 摘要</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-l</span><span style="color:#EEFFFF;">       </span><span style="color:#545454;font-style:italic;"># 列出所有打开的网络连接端口</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-pl</span><span style="color:#EEFFFF;">      </span><span style="color:#545454;font-style:italic;"># 查看进程使用的socket</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-lp</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">|</span><span style="color:#EEFFFF;"> </span><span style="color:#FFCB6B;">grep</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">3306</span><span style="color:#EEFFFF;">  </span><span style="color:#545454;font-style:italic;"># 找出打开套接字/端口应用程序</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#EEFFFF;">    </span><span style="color:#C3E88D;">显示所有UDP</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Sockets</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">state</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">established</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">( dport = :smtp or sport = :smtp )</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span><span style="color:#545454;font-style:italic;"># 显示所有状态为established的SMTP连接</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">state</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">established</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">( dport = :http or sport = :http )</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span><span style="color:#545454;font-style:italic;"># 显示所有状态为Established的HTTP连接</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">state</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">fin-wait-</span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">( sport = :http or sport = :https )</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">dst</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">193.233.7/</span><span style="color:#F78C6C;">24</span><span style="color:#EEFFFF;">  </span><span style="color:#545454;font-style:italic;"># 列举出处于 FIN-WAIT-1状态的源端口为 80或者 443，目标网络为 193.233.7/24所有 tcp套接字</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># ss 和 netstat 效率对比</span></span>
<span class="line"><span style="color:#F78C6C;">time</span><span style="color:#EEFFFF;"> netstat -at</span></span>
<span class="line"><span style="color:#F78C6C;">time</span><span style="color:#EEFFFF;"> ss</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 匹配远程地址和端口号</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># ss dst ADDRESS_PATTERN</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">dst</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">192.168.1.5</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">dst</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">192.168.119.113:http</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">dst</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">192.168.119.113:smtp</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">dst</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">192.168.119.113:</span><span style="color:#F78C6C;">443</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 匹配本地地址和端口号</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># ss src ADDRESS_PATTERN</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">src</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">192.168.119.103</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">src</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">192.168.119.103:http</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">src</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">192.168.119.103:</span><span style="color:#F78C6C;">80</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">src</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">192.168.119.103:smtp</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">src</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">192.168.119.103:</span><span style="color:#F78C6C;">25</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p><strong>将本地或者远程端口和一个数比较</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#545454;font-style:italic;"># ss dport OP PORT 远程端口和一个数比较；</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># ss sport OP PORT 本地端口和一个数比较</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># OP 可以代表以下任意一个:</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># &lt;= or le : 小于或等于端口号</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># &gt;= or ge : 大于或等于端口号</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># == or eq : 等于端口号</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># != or ne : 不等于端口号</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># &lt; or gt : 小于端口号</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># &gt; or lt : 大于端口号</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">sport</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">:http</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">dport</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">:http</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">dport</span><span style="color:#EEFFFF;"> \\&gt; </span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">1024</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">sport</span><span style="color:#EEFFFF;"> \\&gt; </span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">1024</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">sport</span><span style="color:#EEFFFF;"> \\&lt; </span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">32000</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">sport</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">eq</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">22</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">dport</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">!=</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">22</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">state</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">connected</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">sport</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">:http</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;"> \\( </span><span style="color:#C3E88D;">sport</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">:http</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">or</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">sport</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">:https</span><span style="color:#EEFFFF;"> \\)</span></span>
<span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">state</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">fin-wait-</span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> \\( </span><span style="color:#C3E88D;">sport</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">:http</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">or</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">sport</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">:https</span><span style="color:#EEFFFF;"> \\) </span><span style="color:#C3E88D;">dst</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">192.168.1/</span><span style="color:#F78C6C;">24</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><strong>用TCP 状态过滤Sockets</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">ss</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-4</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">state</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">closing</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># ss -4 state FILTER-NAME-HERE</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># ss -6 state FILTER-NAME-HERE</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># FILTER-NAME-HERE 可以代表以下任何一个：</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># established、 syn-sent、 syn-recv、 fin-wait-1、 fin-wait-2、 time-wait、 closed、 close-wait、 last-ack、 listen、 closing、</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># all : 所有以上状态</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># connected : 除了listen and closed的所有状态</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># synchronized :所有已连接的状态除了syn-sent</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># bucket : 显示状态为maintained as minisockets,如：time-wait和syn-recv.</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># big : 和bucket相反.</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>显示ICP连接</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#EEFFFF;"># ss -t -a</span></span>
<span class="line"><span style="color:#FFCB6B;">State</span><span style="color:#EEFFFF;">       </span><span style="color:#C3E88D;">Recv-Q</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Send-Q</span><span style="color:#EEFFFF;">                            </span><span style="color:#C3E88D;">Local</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Address:Port</span><span style="color:#EEFFFF;">                                </span><span style="color:#C3E88D;">Peer</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Address:Port</span></span>
<span class="line"><span style="color:#FFCB6B;">LISTEN</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">                                             </span><span style="color:#EEFFFF;">*</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">3306</span><span style="color:#EEFFFF;">                                           </span><span style="color:#EEFFFF;">*</span><span style="color:#C3E88D;">:</span><span style="color:#EEFFFF;">*</span></span>
<span class="line"><span style="color:#FFCB6B;">LISTEN</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">                                             </span><span style="color:#EEFFFF;">*</span><span style="color:#C3E88D;">:http</span><span style="color:#EEFFFF;">                                           </span><span style="color:#EEFFFF;">*</span><span style="color:#C3E88D;">:</span><span style="color:#EEFFFF;">*</span></span>
<span class="line"><span style="color:#FFCB6B;">LISTEN</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">                                             </span><span style="color:#EEFFFF;">*</span><span style="color:#C3E88D;">:ssh</span><span style="color:#EEFFFF;">                                            </span><span style="color:#EEFFFF;">*</span><span style="color:#C3E88D;">:</span><span style="color:#EEFFFF;">*</span></span>
<span class="line"><span style="color:#FFCB6B;">LISTEN</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">                                     </span><span style="color:#C3E88D;">127.0.0.1:smtp</span><span style="color:#EEFFFF;">                                           </span><span style="color:#EEFFFF;">*</span><span style="color:#C3E88D;">:</span><span style="color:#EEFFFF;">*</span></span>
<span class="line"><span style="color:#FFCB6B;">ESTAB</span><span style="color:#EEFFFF;">       </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">                                </span><span style="color:#C3E88D;">112.124.15.130:</span><span style="color:#F78C6C;">42071</span><span style="color:#EEFFFF;">                              </span><span style="color:#C3E88D;">42.156.166.25:http</span></span>
<span class="line"><span style="color:#FFCB6B;">ESTAB</span><span style="color:#EEFFFF;">       </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">                                </span><span style="color:#C3E88D;">112.124.15.130:ssh</span><span style="color:#EEFFFF;">                              </span><span style="color:#C3E88D;">121.229.196.235:</span><span style="color:#F78C6C;">33398</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>显示 Sockets 摘要</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#EEFFFF;"># ss -s</span></span>
<span class="line"><span style="color:#FFCB6B;">Total:</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">172</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">kernel</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">189</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">TCP:</span><span style="color:#EEFFFF;">   </span><span style="color:#F78C6C;">10</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">estab</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">2</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">closed</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">4</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">orphaned</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">synrecv</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">timewait</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">/</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">, </span><span style="color:#C3E88D;">ports</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">5</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Transport</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Total</span><span style="color:#EEFFFF;">     </span><span style="color:#C3E88D;">ip</span><span style="color:#EEFFFF;">        </span><span style="color:#C3E88D;">IPv6</span></span>
<span class="line"><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">189</span><span style="color:#EEFFFF;">       -         -</span></span>
<span class="line"><span style="color:#FFCB6B;">RAW</span><span style="color:#EEFFFF;">       </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">UDP</span><span style="color:#EEFFFF;">       </span><span style="color:#F78C6C;">5</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">5</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">TCP</span><span style="color:#EEFFFF;">       </span><span style="color:#F78C6C;">6</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">6</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">INET</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">        </span><span style="color:#F78C6C;">11</span><span style="color:#EEFFFF;">        </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">FRAG</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">0</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>列出当前的established, closed, orphaned and waiting TCP sockets</p><p><strong>列出所有打开的网络连接端口</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#EEFFFF;"># ss -l</span></span>
<span class="line"><span style="color:#FFCB6B;">Recv-Q</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Send-Q</span><span style="color:#EEFFFF;">                                 </span><span style="color:#C3E88D;">Local</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Address:Port</span><span style="color:#EEFFFF;">                                     </span><span style="color:#C3E88D;">Peer</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Address:Port</span></span>
<span class="line"><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">                                                  </span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">3306</span><span style="color:#EEFFFF;">                                                </span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;">:</span><span style="color:#89DDFF;">*</span></span>
<span class="line"><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">                                                  </span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;">:http                                                </span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;">:</span><span style="color:#89DDFF;">*</span></span>
<span class="line"><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">                                                  </span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;">:ssh                                                 </span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;">:</span><span style="color:#89DDFF;">*</span></span>
<span class="line"><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">                                          127.0.0.1:smtp                                                </span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;">:</span><span style="color:#89DDFF;">*</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>查看进程使用的socket</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#EEFFFF;"># ss -pl</span></span>
<span class="line"><span style="color:#FFCB6B;">Recv-Q</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Send-Q</span><span style="color:#EEFFFF;">                                          </span><span style="color:#C3E88D;">Local</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Address:Port</span><span style="color:#EEFFFF;">                                              </span><span style="color:#C3E88D;">Peer</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Address:Port</span></span>
<span class="line"><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">                                                           </span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">3306</span><span style="color:#EEFFFF;">                                                         </span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;">:</span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;">        users:</span><span style="color:#89DDFF;">((</span><span style="color:#EEFFFF;">&quot;mysqld&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">1718</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">                                                           </span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;">:http                                                         </span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;">:</span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;">        users:</span><span style="color:#89DDFF;">((</span><span style="color:#EEFFFF;">&quot;nginx&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">13312</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">5</span><span style="color:#EEFFFF;">)</span><span style="color:#89DDFF;">,</span><span style="color:#EEFFFF;">(&quot;nginx&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">13333</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">                                                           </span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;">:ssh                                                          </span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;">:</span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;">        users:</span><span style="color:#89DDFF;">((</span><span style="color:#EEFFFF;">&quot;sshd&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">1379</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">                                                   127.0.0.1:smtp                                                         </span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;">:</span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;">        us</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>找出打开套接字/端口应用程序</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#EEFFFF;"># ss -pl </span><span style="color:#89DDFF;">|</span><span style="color:#EEFFFF;"> </span><span style="color:#FFCB6B;">grep</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">3306</span></span>
<span class="line"><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">                            </span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">3306</span><span style="color:#EEFFFF;">                          </span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;">:</span><span style="color:#89DDFF;">*</span><span style="color:#EEFFFF;">        users:</span><span style="color:#89DDFF;">((</span><span style="color:#EEFFFF;">&quot;mysqld&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">1718</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>显示所有UDP Sockets</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#EEFFFF;"># ss -u -a</span></span>
<span class="line"><span style="color:#FFCB6B;">State</span><span style="color:#EEFFFF;">       </span><span style="color:#C3E88D;">Recv-Q</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Send-Q</span><span style="color:#EEFFFF;">                                     </span><span style="color:#C3E88D;">Local</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Address:Port</span><span style="color:#EEFFFF;">                                         </span><span style="color:#C3E88D;">Peer</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Address:Port</span></span>
<span class="line"><span style="color:#FFCB6B;">UNCONN</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">                                                      </span><span style="color:#EEFFFF;">*</span><span style="color:#C3E88D;">:syslog</span><span style="color:#EEFFFF;">                                                  </span><span style="color:#EEFFFF;">*</span><span style="color:#C3E88D;">:</span><span style="color:#EEFFFF;">*</span></span>
<span class="line"><span style="color:#FFCB6B;">UNCONN</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">                                         </span><span style="color:#C3E88D;">112.124.15.130:ntp</span><span style="color:#EEFFFF;">                                                     </span><span style="color:#EEFFFF;">*</span><span style="color:#C3E88D;">:</span><span style="color:#EEFFFF;">*</span></span>
<span class="line"><span style="color:#FFCB6B;">UNCONN</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">                                            </span><span style="color:#C3E88D;">10.160.7.81:ntp</span><span style="color:#EEFFFF;">                                                     </span><span style="color:#EEFFFF;">*</span><span style="color:#C3E88D;">:</span><span style="color:#EEFFFF;">*</span></span>
<span class="line"><span style="color:#FFCB6B;">UNCONN</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">                                              </span><span style="color:#C3E88D;">127.0.0.1:ntp</span><span style="color:#EEFFFF;">                                                     </span><span style="color:#EEFFFF;">*</span><span style="color:#C3E88D;">:</span><span style="color:#EEFFFF;">*</span></span>
<span class="line"><span style="color:#FFCB6B;">UNCONN</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">                                                      </span><span style="color:#EEFFFF;">*</span><span style="color:#C3E88D;">:ntp</span><span style="color:#EEFFFF;">                                                     </span><span style="color:#EEFFFF;">*</span><span style="color:#C3E88D;">:</span><span style="color:#EEFFFF;">*</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>出所有端口为 22（ssh）的连接</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#EEFFFF;"># ss state all sport = :ssh</span></span>
<span class="line"><span style="color:#FFCB6B;">Netid</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">State</span><span style="color:#EEFFFF;">      </span><span style="color:#C3E88D;">Recv-Q</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Send-Q</span><span style="color:#EEFFFF;">     </span><span style="color:#C3E88D;">Local</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Address:Port</span><span style="color:#EEFFFF;">                      </span><span style="color:#C3E88D;">Peer</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Address:Port</span></span>
<span class="line"><span style="color:#FFCB6B;">tcp</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">LISTEN</span><span style="color:#EEFFFF;">     </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">128</span><span style="color:#EEFFFF;">                    </span><span style="color:#EEFFFF;">*</span><span style="color:#C3E88D;">:ssh</span><span style="color:#EEFFFF;">                                  </span><span style="color:#EEFFFF;">*</span><span style="color:#C3E88D;">:</span><span style="color:#EEFFFF;">*</span></span>
<span class="line"><span style="color:#FFCB6B;">tcp</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">ESTAB</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">          </span><span style="color:#C3E88D;">192.168.0.136:ssh</span><span style="color:#EEFFFF;">                      </span><span style="color:#C3E88D;">192.168.0.102:</span><span style="color:#F78C6C;">46540</span></span>
<span class="line"><span style="color:#FFCB6B;">tcp</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">LISTEN</span><span style="color:#EEFFFF;">     </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">128</span><span style="color:#EEFFFF;">                   </span><span style="color:#C3E88D;">:::ssh</span><span style="color:#EEFFFF;">                                 </span><span style="color:#C3E88D;">:::</span><span style="color:#EEFFFF;">*</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>查看TCP的连接状态</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#EEFFFF;"># ss  -tan</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">awk</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">NR&gt;1{++S[$1]}END{for (a in S) print a,S[a]}</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#FFCB6B;">LISTEN</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">7</span></span>
<span class="line"><span style="color:#FFCB6B;">ESTAB</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">31</span></span>
<span class="line"><span style="color:#FFCB6B;">TIME-WAIT</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">28</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div>`,33),F=[o];function e(r,t,c,E,y,i){return a(),n("div",null,F)}const b=s(p,[["render",e]]);export{D as __pageData,b as default};
