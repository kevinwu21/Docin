import{_ as s,c as n,o as a,a as l}from"./app.82736834.js";const C=JSON.parse('{"title":"curl","description":"","frontmatter":{},"headers":[{"level":2,"title":"补充说明","slug":"补充说明","link":"#补充说明","children":[{"level":3,"title":"语法","slug":"语法","link":"#语法","children":[]},{"level":3,"title":"选项","slug":"选项","link":"#选项","children":[]},{"level":3,"title":"实例","slug":"实例","link":"#实例","children":[]},{"level":3,"title":"要求返回是压缩的状态","slug":"要求返回是压缩的状态","link":"#要求返回是压缩的状态","children":[]}]}],"relativePath":"linux/command/pages/curl.md","lastUpdated":1666509709000}'),p={name:"linux/command/pages/curl.md"},e=l(`<h1 id="curl" tabindex="-1">curl <a class="header-anchor" href="#curl" aria-hidden="true">#</a></h1><p>利用URL规则在命令行下工作的文件传输工具</p><h2 id="补充说明" tabindex="-1">补充说明 <a class="header-anchor" href="#补充说明" aria-hidden="true">#</a></h2><p><strong>curl命令</strong> 是一个利用URL规则在命令行下工作的文件传输工具。它支持文件的上传和下载，所以是综合传输工具，但按传统，习惯称curl为下载工具。作为一款强力工具，curl支持包括HTTP、HTTPS、ftp等众多协议，还支持POST、cookies、认证、从指定偏移处下载部分文件、用户代理字符串、限速、文件大小、进度条等特征。做网页处理流程和数据检索自动化，curl可以祝一臂之力。</p><h3 id="语法" tabindex="-1">语法 <a class="header-anchor" href="#语法" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl(选项</span><span style="color:#EEFFFF;">)</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">参数</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="选项" tabindex="-1">选项 <a class="header-anchor" href="#选项" aria-hidden="true">#</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">-a/--append</span><span style="color:#EEFFFF;">                                   </span><span style="color:#545454;font-style:italic;"># 上传文件时，附加到目标文件 </span></span>
<span class="line"><span style="color:#FFCB6B;">-A/--user-agent</span><span style="color:#EEFFFF;">                               </span><span style="color:#545454;font-style:italic;"># 设置用户代理发送给服务器 </span></span>
<span class="line"><span style="color:#FFCB6B;">-anyauth</span><span style="color:#EEFFFF;">                                      </span><span style="color:#545454;font-style:italic;"># 可以使用“任何”身份验证方法 </span></span>
<span class="line"><span style="color:#FFCB6B;">-b/--cookie</span><span style="color:#EEFFFF;">                                   </span><span style="color:#545454;font-style:italic;"># cookie字符串或文件读取位置 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--basic</span><span style="color:#EEFFFF;">                                  </span><span style="color:#545454;font-style:italic;"># 使用HTTP基本验证 </span></span>
<span class="line"><span style="color:#FFCB6B;">-B/--use-ascii</span><span style="color:#EEFFFF;">                                </span><span style="color:#545454;font-style:italic;"># 使用ASCII /文本传输 </span></span>
<span class="line"><span style="color:#FFCB6B;">-c/--cookie-jar</span><span style="color:#EEFFFF;">                               </span><span style="color:#545454;font-style:italic;"># 操作结束后把cookie写入到这个文件中 </span></span>
<span class="line"><span style="color:#FFCB6B;">-C/--continue-at</span><span style="color:#EEFFFF;">                              </span><span style="color:#545454;font-style:italic;"># 断点续传 </span></span>
<span class="line"><span style="color:#FFCB6B;">-d/--data</span><span style="color:#EEFFFF;">                                     </span><span style="color:#545454;font-style:italic;"># HTTP POST方式传送数据 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--data-ascii</span><span style="color:#EEFFFF;">                             </span><span style="color:#545454;font-style:italic;"># 以ascii的方式post数据 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--data-binary</span><span style="color:#EEFFFF;">                            </span><span style="color:#545454;font-style:italic;"># 以二进制的方式post数据 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--negotiate</span><span style="color:#EEFFFF;">                              </span><span style="color:#545454;font-style:italic;"># 使用HTTP身份验证 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--digest</span><span style="color:#EEFFFF;">                                 </span><span style="color:#545454;font-style:italic;"># 使用数字身份验证 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--disable-eprt</span><span style="color:#EEFFFF;">                           </span><span style="color:#545454;font-style:italic;"># 禁止使用EPRT或LPRT </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--disable-epsv</span><span style="color:#EEFFFF;">                           </span><span style="color:#545454;font-style:italic;"># 禁止使用EPSV </span></span>
<span class="line"><span style="color:#FFCB6B;">-D/--dump-header</span><span style="color:#EEFFFF;">                              </span><span style="color:#545454;font-style:italic;"># 把header信息写入到该文件中 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--egd-file</span><span style="color:#EEFFFF;">                               </span><span style="color:#545454;font-style:italic;"># 为随机数据(SSL)设置EGD socket路径 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--tcp-nodelay</span><span style="color:#EEFFFF;">                            </span><span style="color:#545454;font-style:italic;"># 使用TCP\\_NODELAY选项 </span></span>
<span class="line"><span style="color:#FFCB6B;">-e/--referer</span><span style="color:#EEFFFF;">                                  </span><span style="color:#545454;font-style:italic;"># 来源网址 </span></span>
<span class="line"><span style="color:#FFCB6B;">-E/--cert</span><span style="color:#EEFFFF;">                                     </span><span style="color:#545454;font-style:italic;"># 客户端证书文件和密码 (SSL)</span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--cert-</span><span style="color:#82AAFF;">type</span><span style="color:#EEFFFF;">                              </span><span style="color:#545454;font-style:italic;"># 证书文件类型 (DER/PEM/ENG) (SSL)</span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--key</span><span style="color:#EEFFFF;">                                    </span><span style="color:#545454;font-style:italic;"># 私钥文件名 (SSL)</span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--key-</span><span style="color:#82AAFF;">type</span><span style="color:#EEFFFF;">                               </span><span style="color:#545454;font-style:italic;"># 私钥文件类型 (DER/PEM/ENG) (SSL)</span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--pass</span><span style="color:#EEFFFF;">                                   </span><span style="color:#545454;font-style:italic;"># 私钥密码 (SSL)</span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--engine</span><span style="color:#EEFFFF;">                                 </span><span style="color:#545454;font-style:italic;"># 加密引擎使用 (SSL). &quot;--engine list&quot; for list </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--cacert</span><span style="color:#EEFFFF;">                                 </span><span style="color:#545454;font-style:italic;"># CA证书 (SSL)</span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--capath</span><span style="color:#EEFFFF;">                                 </span><span style="color:#545454;font-style:italic;"># CA目录 (made using c\\_rehash) to verify peer against (SSL)</span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--ciphers</span><span style="color:#EEFFFF;">                                </span><span style="color:#545454;font-style:italic;"># SSL密码 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--compressed</span><span style="color:#EEFFFF;">                             </span><span style="color:#545454;font-style:italic;"># 要求返回是压缩的形势 (using deflate or gzip)</span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--connect-timeout</span><span style="color:#EEFFFF;">                        </span><span style="color:#545454;font-style:italic;"># 设置最大请求时间 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--create-</span><span style="color:#82AAFF;">dirs</span><span style="color:#EEFFFF;">                            </span><span style="color:#545454;font-style:italic;"># 建立本地目录的目录层次结构 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--crlf</span><span style="color:#EEFFFF;">                                   </span><span style="color:#545454;font-style:italic;"># 上传是把LF转变成CRLF </span></span>
<span class="line"><span style="color:#FFCB6B;">-f/--fail</span><span style="color:#EEFFFF;">                                     </span><span style="color:#545454;font-style:italic;"># 连接失败时不显示http错误 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--ftp-create-</span><span style="color:#82AAFF;">dirs</span><span style="color:#EEFFFF;">                        </span><span style="color:#545454;font-style:italic;"># 如果远程目录不存在，创建远程目录 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--ftp-method</span><span style="color:#EEFFFF;"> \\[</span><span style="color:#C3E88D;">multicwd/nocwd/singlecwd]</span><span style="color:#EEFFFF;"> </span><span style="color:#545454;font-style:italic;"># 控制CWD的使用 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--ftp-pasv</span><span style="color:#EEFFFF;">                               </span><span style="color:#545454;font-style:italic;"># 使用 PASV/EPSV 代替端口 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--ftp-skip-pasv-ip</span><span style="color:#EEFFFF;">                       </span><span style="color:#545454;font-style:italic;"># 使用PASV的时候,忽略该IP地址 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--ftp-ssl</span><span style="color:#EEFFFF;">                                </span><span style="color:#545454;font-style:italic;"># 尝试用 SSL/TLS 来进行ftp数据传输 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--ftp-ssl-reqd</span><span style="color:#EEFFFF;">                           </span><span style="color:#545454;font-style:italic;"># 要求用 SSL/TLS 来进行ftp数据传输 </span></span>
<span class="line"><span style="color:#FFCB6B;">-F/--form</span><span style="color:#EEFFFF;">                                     </span><span style="color:#545454;font-style:italic;"># 模拟http表单提交数据 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--form-string</span><span style="color:#EEFFFF;">                            </span><span style="color:#545454;font-style:italic;"># 模拟http表单提交数据 </span></span>
<span class="line"><span style="color:#FFCB6B;">-g/--globoff</span><span style="color:#EEFFFF;">                                  </span><span style="color:#545454;font-style:italic;"># 禁用网址序列和范围使用{}和\\[] </span></span>
<span class="line"><span style="color:#FFCB6B;">-G/--get</span><span style="color:#EEFFFF;">                                      </span><span style="color:#545454;font-style:italic;"># 以get的方式来发送数据 </span></span>
<span class="line"><span style="color:#FFCB6B;">-H/--header</span><span style="color:#EEFFFF;">                                   </span><span style="color:#545454;font-style:italic;"># 自定义头信息传递给服务器 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--ignore-content-length</span><span style="color:#EEFFFF;">                  </span><span style="color:#545454;font-style:italic;"># 忽略的HTTP头信息的长度 </span></span>
<span class="line"><span style="color:#FFCB6B;">-i/--include</span><span style="color:#EEFFFF;">                                  </span><span style="color:#545454;font-style:italic;"># 输出时包括protocol头信息 </span></span>
<span class="line"><span style="color:#FFCB6B;">-I/--head</span><span style="color:#EEFFFF;">                                     </span><span style="color:#545454;font-style:italic;"># 只显示请求头信息 </span></span>
<span class="line"><span style="color:#FFCB6B;">-j/--junk-session-cookies</span><span style="color:#EEFFFF;">                     </span><span style="color:#545454;font-style:italic;"># 读取文件进忽略session cookie </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--interface</span><span style="color:#EEFFFF;">                              </span><span style="color:#545454;font-style:italic;"># 使用指定网络接口/地址 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--krb4</span><span style="color:#EEFFFF;">                                   </span><span style="color:#545454;font-style:italic;"># 使用指定安全级别的krb4 </span></span>
<span class="line"><span style="color:#FFCB6B;">-k/--insecure</span><span style="color:#EEFFFF;">                                 </span><span style="color:#545454;font-style:italic;"># 允许不使用证书到SSL站点 </span></span>
<span class="line"><span style="color:#FFCB6B;">-K/--config</span><span style="color:#EEFFFF;">                                   </span><span style="color:#545454;font-style:italic;"># 指定的配置文件读取 </span></span>
<span class="line"><span style="color:#FFCB6B;">-l/--list-only</span><span style="color:#EEFFFF;">                                </span><span style="color:#545454;font-style:italic;"># 列出ftp目录下的文件名称 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--limit-rate</span><span style="color:#EEFFFF;">                             </span><span style="color:#545454;font-style:italic;"># 设置传输速度 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--local-port</span><span style="color:#EEFFFF;">                             </span><span style="color:#545454;font-style:italic;"># 强制使用本地端口号 </span></span>
<span class="line"><span style="color:#FFCB6B;">-m/--max-time</span><span style="color:#EEFFFF;">                                 </span><span style="color:#545454;font-style:italic;"># 设置最大传输时间 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--max-redirs</span><span style="color:#EEFFFF;">                             </span><span style="color:#545454;font-style:italic;"># 设置最大读取的目录数 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--max-filesize</span><span style="color:#EEFFFF;">                           </span><span style="color:#545454;font-style:italic;"># 设置最大下载的文件总量 </span></span>
<span class="line"><span style="color:#FFCB6B;">-M/--manual</span><span style="color:#EEFFFF;">                                   </span><span style="color:#545454;font-style:italic;"># 显示全手动 </span></span>
<span class="line"><span style="color:#FFCB6B;">-n/--netrc</span><span style="color:#EEFFFF;">                                    </span><span style="color:#545454;font-style:italic;"># 从netrc文件中读取用户名和密码 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--netrc-optional</span><span style="color:#EEFFFF;">                         </span><span style="color:#545454;font-style:italic;"># 使用 .netrc 或者 URL来覆盖-n </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--ntlm</span><span style="color:#EEFFFF;">                                   </span><span style="color:#545454;font-style:italic;"># 使用 HTTP NTLM 身份验证 </span></span>
<span class="line"><span style="color:#FFCB6B;">-N/--no-buffer</span><span style="color:#EEFFFF;">                                </span><span style="color:#545454;font-style:italic;"># 禁用缓冲输出 </span></span>
<span class="line"><span style="color:#FFCB6B;">-o/--output</span><span style="color:#EEFFFF;">                                   </span><span style="color:#545454;font-style:italic;"># 把输出写到该文件中 </span></span>
<span class="line"><span style="color:#FFCB6B;">-O/--remote-name</span><span style="color:#EEFFFF;">                              </span><span style="color:#545454;font-style:italic;"># 把输出写到该文件中，保留远程文件的文件名 </span></span>
<span class="line"><span style="color:#FFCB6B;">-p/--proxytunnel</span><span style="color:#EEFFFF;">                              </span><span style="color:#545454;font-style:italic;"># 使用HTTP代理 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--proxy-anyauth</span><span style="color:#EEFFFF;">                          </span><span style="color:#545454;font-style:italic;"># 选择任一代理身份验证方法 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--proxy-basic</span><span style="color:#EEFFFF;">                            </span><span style="color:#545454;font-style:italic;"># 在代理上使用基本身份验证 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--proxy-digest</span><span style="color:#EEFFFF;">                           </span><span style="color:#545454;font-style:italic;"># 在代理上使用数字身份验证 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--proxy-ntlm</span><span style="color:#EEFFFF;">                             </span><span style="color:#545454;font-style:italic;"># 在代理上使用ntlm身份验证 </span></span>
<span class="line"><span style="color:#FFCB6B;">-P/--ftp-port</span><span style="color:#EEFFFF;">                                 </span><span style="color:#545454;font-style:italic;"># 使用端口地址，而不是使用PASV </span></span>
<span class="line"><span style="color:#FFCB6B;">-q</span><span style="color:#EEFFFF;">                                            </span><span style="color:#545454;font-style:italic;"># 作为第一个参数，关闭 .curlrc </span></span>
<span class="line"><span style="color:#FFCB6B;">-Q/--quote</span><span style="color:#EEFFFF;">                                    </span><span style="color:#545454;font-style:italic;"># 文件传输前，发送命令到服务器 </span></span>
<span class="line"><span style="color:#FFCB6B;">-r/--range</span><span style="color:#EEFFFF;">                                    </span><span style="color:#545454;font-style:italic;"># 检索来自HTTP/1.1或FTP服务器字节范围 </span></span>
<span class="line"><span style="color:#FFCB6B;">--range-file</span><span style="color:#EEFFFF;">                                  </span><span style="color:#545454;font-style:italic;"># 读取（SSL）的随机文件 </span></span>
<span class="line"><span style="color:#FFCB6B;">-R/--remote-time</span><span style="color:#EEFFFF;">                              </span><span style="color:#545454;font-style:italic;"># 在本地生成文件时，保留远程文件时间 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--retry</span><span style="color:#EEFFFF;">                                  </span><span style="color:#545454;font-style:italic;"># 传输出现问题时，重试的次数 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--retry-delay</span><span style="color:#EEFFFF;">                            </span><span style="color:#545454;font-style:italic;"># 传输出现问题时，设置重试间隔时间 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--retry-max-time</span><span style="color:#EEFFFF;">                         </span><span style="color:#545454;font-style:italic;"># 传输出现问题时，设置最大重试时间 </span></span>
<span class="line"><span style="color:#FFCB6B;">-s/--silent</span><span style="color:#EEFFFF;">                                   </span><span style="color:#545454;font-style:italic;"># 静默模式。不输出任何东西 </span></span>
<span class="line"><span style="color:#FFCB6B;">-S/--show-error</span><span style="color:#EEFFFF;">                               </span><span style="color:#545454;font-style:italic;"># 显示错误 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--socks4</span><span style="color:#EEFFFF;">                                 </span><span style="color:#545454;font-style:italic;"># 用socks4代理给定主机和端口 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--socks5</span><span style="color:#EEFFFF;">                                 </span><span style="color:#545454;font-style:italic;"># 用socks5代理给定主机和端口 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--stderr</span><span style="color:#EEFFFF;">                                 </span><span style="color:#545454;font-style:italic;">#   </span></span>
<span class="line"><span style="color:#FFCB6B;">-t/--telnet-option</span><span style="color:#EEFFFF;">                            </span><span style="color:#545454;font-style:italic;"># Telnet选项设置 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--trace</span><span style="color:#EEFFFF;">                                  </span><span style="color:#545454;font-style:italic;"># 对指定文件进行debug </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--trace-ascii</span><span style="color:#EEFFFF;">                            </span><span style="color:#545454;font-style:italic;"># Like --跟踪但没有hex输出 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--trace-time</span><span style="color:#EEFFFF;">                             </span><span style="color:#545454;font-style:italic;"># 跟踪/详细输出时，添加时间戳 </span></span>
<span class="line"><span style="color:#FFCB6B;">-T/--upload-file</span><span style="color:#EEFFFF;">                              </span><span style="color:#545454;font-style:italic;"># 上传文件 </span></span>
<span class="line"><span style="color:#EEFFFF;">     </span><span style="color:#FFCB6B;">--url</span><span style="color:#EEFFFF;">                                    </span><span style="color:#545454;font-style:italic;"># Spet URL to work with </span></span>
<span class="line"><span style="color:#FFCB6B;">-u/--user</span><span style="color:#EEFFFF;">                                     </span><span style="color:#545454;font-style:italic;"># 设置服务器的用户和密码 </span></span>
<span class="line"><span style="color:#FFCB6B;">-U/--proxy-user</span><span style="color:#EEFFFF;">                               </span><span style="color:#545454;font-style:italic;"># 设置代理用户名和密码 </span></span>
<span class="line"><span style="color:#FFCB6B;">-w/--write-out</span><span style="color:#EEFFFF;"> \\[</span><span style="color:#C3E88D;">format]</span><span style="color:#EEFFFF;">                      </span><span style="color:#545454;font-style:italic;"># 什么输出完成后 </span></span>
<span class="line"><span style="color:#FFCB6B;">-x/--proxy</span><span style="color:#EEFFFF;">                                    </span><span style="color:#545454;font-style:italic;"># 在给定的端口上使用HTTP代理 </span></span>
<span class="line"><span style="color:#FFCB6B;">-X/--request</span><span style="color:#EEFFFF;">                                  </span><span style="color:#545454;font-style:italic;"># 指定什么命令 </span></span>
<span class="line"><span style="color:#FFCB6B;">-y/--speed-time</span><span style="color:#EEFFFF;">                               </span><span style="color:#545454;font-style:italic;"># 放弃限速所要的时间，默认为30 </span></span>
<span class="line"><span style="color:#FFCB6B;">-Y/--speed-limit</span><span style="color:#EEFFFF;">                              </span><span style="color:#545454;font-style:italic;"># 停止传输速度的限制，速度时间 </span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br></div></div><h3 id="实例" tabindex="-1">实例 <a class="header-anchor" href="#实例" aria-hidden="true">#</a></h3><p><strong>文件下载</strong></p><p>curl命令可以用来执行下载、发送各种HTTP请求，指定HTTP头部等操作。如果系统没有curl可以使用<code>yum install curl</code>安装，也可以下载安装。curl是将下载文件输出到stdout，将进度信息输出到stderr，不显示进度信息使用<code>--silent</code>选项。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">URL</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--silent</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这条命令是将下载文件输出到终端，所有下载的数据都被写入到stdout。</p><p>使用选项<code>-O</code>将下载的数据写入到文件，必须使用文件的绝对地址：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">http://example.com/text.iso</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--silent</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-O</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>选项<code>-o</code>将下载数据写入到指定名称的文件中，并使用<code>--progress</code>显示进度条：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">http://example.com/test.iso</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">filename.iso</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--progress</span></span>
<span class="line"><span style="color:#545454;font-style:italic;">######################################### 100.0%</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>不输出错误和进度信息</strong></p><p><code>-s</code> 参数将不输出错误和进度信息。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">https://www.example.com</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 上面命令一旦发生错误，不会显示错误信息。不发生错误的话，会正常显示运行结果。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>如果想让 curl 不产生任何输出，可以使用下面的命令。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/dev/null</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">https://google.com</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>断点续传</strong></p><p>curl能够从特定的文件偏移处继续下载，它可以通过指定一个便宜量来下载部分文件：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">URL/File</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-C</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">偏移量</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;">#偏移量是以字节为单位的整数，如果让curl自动推断出正确的续传位置使用-C -：</span></span>
<span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-C</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-URL</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>使用curl设置参照页字符串</strong></p><p>参照页是位于HTTP头部中的一个字符串，用来表示用户是从哪个页面到达当前页面的，如果用户点击网页A中的某个连接，那么用户就会跳转到B网页，网页B头部的参照页字符串就包含网页A的URL。</p><p>使用<code>--referer</code>选项指定参照页字符串：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--referer</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">http://www.google.com</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">http://wangchujiang.com</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>用curl设置用户代理字符串</strong></p><p>有些网站访问会提示只能使用IE浏览器来访问，这是因为这些网站设置了检查用户代理，可以使用curl把用户代理设置为IE，这样就可以访问了。使用<code>--user-agent</code>或者<code>-A</code>选项：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">URL</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--user-agent</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Mozilla/5.0</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">URL</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-A</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Mozilla/5.0</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>其他HTTP头部信息也可以使用curl来发送，使用<code>-H</code>&quot;头部信息&quot; 传递多个头部信息，例如：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-H</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Host:wangchujiang.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-H</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">accept-language:zh-cn</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">URL</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>curl的带宽控制和下载配额</strong></p><p>使用<code>--limit-rate</code>限制curl的下载速度：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">URL</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--limit-rate</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">50k</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>命令中用k（千字节）和m（兆字节）指定下载速度限制。</p><p>使用<code>--max-filesize</code>指定可下载的最大文件大小：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">URL</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--max-filesize</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">bytes</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果文件大小超出限制，命令则返回一个非0退出码，如果命令正常则返回0。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--limit-rate</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">200k</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">https://example.com</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 上面命令将带宽限制在每秒 200K 字节。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>用curl进行认证</strong></p><p>使用curl选项 -u 可以完成HTTP或者FTP的认证，可以指定密码，也可以不指定密码在后续操作中输入密码：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">user:pwd</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">http://wangchujiang.com</span></span>
<span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">user</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">http://wangchujiang.com</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>只打印响应头部信息</strong></p><p>通过<code>-I</code>或者<code>-head</code>可以只打印出HTTP头部信息：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@localhost text</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"># curl -I http://wangchujiang.com</span></span>
<span class="line"><span style="color:#FFCB6B;">HTTP/1.1</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">200</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">OK</span></span>
<span class="line"><span style="color:#FFCB6B;">Server:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">nginx/1.2.5</span></span>
<span class="line"><span style="color:#FFCB6B;">date:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Mon,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Dec</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">2012</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">09</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">24</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">34</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">GMT</span></span>
<span class="line"><span style="color:#FFCB6B;">Content-Type:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">text/html</span><span style="color:#89DDFF;">;</span><span style="color:#EEFFFF;"> charset</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">UTF-</span><span style="color:#F78C6C;">8</span></span>
<span class="line"><span style="color:#FFCB6B;">Connection:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">keep-alive</span></span>
<span class="line"><span style="color:#FFCB6B;">Vary:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Accept-Encoding</span></span>
<span class="line"><span style="color:#FFCB6B;">X-Pingback:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">http://wangchujiang.com/xmlrpc.php</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>get请求</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://www.wangchujiang.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">    </span><span style="color:#545454;font-style:italic;"># 如果这里的URL指向的是一个文件或者一幅图都可以直接下载到本地</span></span>
<span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://www.wangchujiang.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> </span><span style="color:#545454;font-style:italic;"># 显示全部信息</span></span>
<span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-l</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://www.wangchujiang.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> </span><span style="color:#545454;font-style:italic;"># 显示页面内容</span></span>
<span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-v</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://www.wangchujiang.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> </span><span style="color:#545454;font-style:italic;"># 显示get请求全过程解析</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>post请求</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">param1=value1&amp;param2=value2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://www.wangchujiang.com/login</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">login=emma＆password=123</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-X</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">POST</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">https://wangchujiang.com/login</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 或者</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">login=emma</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">password=123</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-X</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">POST</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">https://wangchujiang.com/login</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>--data-urlencode</code> 参数等同于 <code>-d</code>，发送 <code>POST</code> 请求的数据体，区别在于会自动将发送的数据进行 <code>URL</code> 编码。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--data-urlencode</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">comment=hello world</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">https://wangchujiang.com/login</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 上面代码中，发送的数据hello world之间有一个空格，需要进行 URL 编码。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>读取本地文本文件的数据，向服务器发送</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@data.txt</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">https://wangchujiang.com/upload</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 读取data.txt文件的内容，作为数据体向服务器发送。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>json格式的post请求</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-l</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-H</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Content-type: application/json</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-X</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">POST</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{&quot;phone&quot;:&quot;13521389587&quot;,&quot;password&quot;:&quot;test&quot;}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">http://wangchujiang.com/apis/users.json</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>向服务器发送 Cookie</strong></p><p>使用<code>--cookie &quot;COKKIES&quot;</code>选项来指定cookie，多个cookie使用分号分隔：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">http://wangchujiang.com</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--cookie</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">user=root;pass=123456</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>将cookie另存为一个文件，使用<code>--cookie-jar</code>选项：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">URL</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--cookie-jar</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">cookie_file</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><code>-b</code> 参数用来向服务器发送 Cookie。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-b</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">foo=bar</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">https://taobao.com</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 上面命令会生成一个标头Cookie: foo=bar，向服务器发送一个名为foo、值为bar的 Cookie。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-b</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">foo1=bar</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-b</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">foo2=baz</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">https://taobao.com</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 上面命令发送两个 Cookie。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">\`\`\`</span><span style="color:#FFCB6B;">shell</span></span>
<span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#C3E88D;"> -b cookies.txt https://www.taobao.com</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 上面命令读取本地文件 cookies.txt，里面是服务器设置的 Cookie（参见-c参数），将其发送到服务器。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>Cookie 写入一个文件</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-c</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">cookies.txt</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">https://www.taobao.com</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 上面命令将服务器的 HTTP 回应所设置 Cookie 写入文本文件cookies.txt。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>请求的来源</strong></p><p><code>-e</code> 参数用来设置 <code>HTTP</code> 的标头 <code>Referer</code>，表示请求的来源。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-e</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://taobao.com?q=example</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">https://www.example.com</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 上面命令将Referer标头设为 https://taobao.com?q=example。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>-H</code> 参数可以通过直接添加标头 <code>Referer</code>，达到同样效果。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-H</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Referer: https://taobao.com?q=example</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">https://www.example.com</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>上传二进制文件</strong></p><p><code>-F</code> 参数用来向服务器上传二进制文件。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-F</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">file=@photo.png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">https://taobao.com/profile</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 上面命令会给 HTTP 请求加上标头 Content-Type: multipart/form-data ，然后将文件photo.png作为file字段上传。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>-F</code> 参数可以指定 <code>MIME</code> 类型。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-F</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">file=@photo.png;type=image/png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">https://taobao.com/profile</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 上面命令指定 MIME 类型为image/png，否则 curl 会把 MIME 类型设为 application/octet-stream。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>-F</code> 参数也可以指定文件名。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-F</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">file=@photo.png;filename=me.png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">https://taobao.com/profile</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 上面命令中，原始文件名为photo.png，但是服务器接收到的文件名为me.png。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>设置请求头</strong></p><p><code>-H</code> 参数添加 <code>HTTP</code> 请求的标头。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-H</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Accept-Language: en-US</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">https://google.com</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 上面命令添加 HTTP 标头 Accept-Language: en-US。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-H</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Accept-Language: en-US</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-H</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Secret-Message: xyzzy</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">https://google.com</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 上面命令添加两个 HTTP 标头。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{&quot;login&quot;: &quot;emma&quot;, &quot;pass&quot;: &quot;123&quot;}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-H</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Content-Type: application/json</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">https://google.com/login</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 上面命令添加 HTTP 请求的标头是 Content-Type: application/json，然后用 -d 参数发送 JSON 数据。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>跳过 SSL 检测</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-k</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">https://www.example.com</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 上面命令不会检查服务器的 SSL 证书是否正确。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>请求跟随服务器的重定向</strong></p><p><code>-L</code> 参数会让 <code>HTTP</code> 请求跟随服务器的重定向。<code>curl</code> 默认不跟随重定向。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-L</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">tweet=hi</span><span style="color:#89DDFF;">&#39;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">https://api.example.com/tweet</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>调试参数</strong></p><p><code>-v</code> 参数输出通信的整个过程，用于调试。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-v</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">https://www.example.com</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># --trace参数也可以用于调试，还会输出原始的二进制数据。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--trace</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">https://www.example.com</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>获取本机外网ip</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">ipecho.net/plain</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>使用 curl 测试网站加载速度</strong></p><p>命令有一个鲜为人知的选项，<code>-w</code>，该选项在请求结束之后打印本次请求的统计数据到标准输出。</p><p>首先，我们定义控制打印行为的格式化字符串。新建文本文件 <code>fmt.txt</code>，并填入下面的内容：</p><div class="language-ruby line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ruby</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#EEFFFF;">\\n</span></span>
<span class="line"><span style="color:#EEFFFF;">Response Time </span><span style="color:#89DDFF;">for:</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">%{</span><span style="color:#C3E88D;">url_effective</span><span style="color:#89DDFF;">}</span><span style="color:#EEFFFF;">\\n\\n</span></span>
<span class="line"><span style="color:#EEFFFF;">DNS Lookup </span><span style="color:#89DDFF;">Time:</span><span style="color:#EEFFFF;">\\t\\t</span><span style="color:#89DDFF;">%{</span><span style="color:#C3E88D;">time_namelookup</span><span style="color:#89DDFF;">}</span><span style="color:#EEFFFF;">s\\n</span></span>
<span class="line"><span style="color:#EEFFFF;">Redirection </span><span style="color:#89DDFF;">Time:</span><span style="color:#EEFFFF;">\\t\\t</span><span style="color:#89DDFF;">%{</span><span style="color:#C3E88D;">time_redirect</span><span style="color:#89DDFF;">}</span><span style="color:#EEFFFF;">s\\n</span></span>
<span class="line"><span style="color:#EEFFFF;">Connection </span><span style="color:#89DDFF;">Time:</span><span style="color:#EEFFFF;">\\t\\t</span><span style="color:#89DDFF;">%{</span><span style="color:#C3E88D;">time_connect</span><span style="color:#89DDFF;">}</span><span style="color:#EEFFFF;">s\\n</span></span>
<span class="line"><span style="color:#EEFFFF;">App Connection </span><span style="color:#89DDFF;">Time:</span><span style="color:#EEFFFF;">\\t\\t</span><span style="color:#89DDFF;">%{</span><span style="color:#C3E88D;">time_appconnect</span><span style="color:#89DDFF;">}</span><span style="color:#EEFFFF;">s\\n</span></span>
<span class="line"><span style="color:#EEFFFF;">Pre</span><span style="color:#89DDFF;">-</span><span style="color:#EEFFFF;">transfer </span><span style="color:#89DDFF;">Time:</span><span style="color:#EEFFFF;">\\t\\t</span><span style="color:#89DDFF;">%{</span><span style="color:#C3E88D;">time_pretransfer</span><span style="color:#89DDFF;">}</span><span style="color:#EEFFFF;">s\\n</span></span>
<span class="line"><span style="color:#EEFFFF;">Start</span><span style="color:#89DDFF;">-</span><span style="color:#EEFFFF;">transfer </span><span style="color:#89DDFF;">Time:</span><span style="color:#EEFFFF;">\\t\\t</span><span style="color:#89DDFF;">%{</span><span style="color:#C3E88D;">time_starttransfer</span><span style="color:#89DDFF;">}</span><span style="color:#EEFFFF;">s\\n\\n</span></span>
<span class="line"><span style="color:#EEFFFF;">Total </span><span style="color:#89DDFF;">Time:</span><span style="color:#EEFFFF;">\\t\\t\\t</span><span style="color:#89DDFF;">%{</span><span style="color:#C3E88D;">time_total</span><span style="color:#89DDFF;">}</span><span style="color:#EEFFFF;">s\\n</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>curl 提供了很多置换变量，可以在格式化字符串中通过 <code>%{var}</code> 的形式使用。完整的变量列表可以在 <code>curl</code> 的 <code>manpage</code> 中查看。简单介绍一下我们使用的这几个变量：</p><ul><li><code>url_effective</code>: 执行完地址重定向之后的最终 URL；</li><li><code>time_namelookup</code>: 从请求开始至完成名称解析所花的时间，单位为秒，下同；</li><li><code>time_redirect</code>: 执行所有重定向所花的时间；</li><li><code>time_connect</code>: 从请求开始至建立 TCP 连接所花的时间；</li><li><code>time_appconnect</code>: 从请求开始至完成 SSL/SSH 握手所花的时间；</li><li><code>time_pretransfer</code>: 从请求开始至服务器准备传送文件所花的时间，包含了传送协商时间；</li><li><code>time_starttransfer</code>: 从请求开始至服务器准备传送第一个字节所花的时间；</li><li><code>time_total</code>: 完整耗时。</li></ul><p>然后执行请求，通过 @filename 指定保存了格式化字符串的文件：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-L</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-w</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">@fmt.txt</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/dev/null</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">http://www.google.com</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>输出：</p><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#EEFFFF;">Response Time </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#EEFFFF;">: http:</span><span style="color:#545454;font-style:italic;">//www.google.co.jp/?gfe_rd=cr&amp;dcr=0&amp;ei=cjIaWpTkHeiQ8QfnxYzoBA</span></span>
<span class="line"></span>
<span class="line"><span style="color:#EEFFFF;">DNS Lookup Time:        0.000038s</span></span>
<span class="line"><span style="color:#EEFFFF;">Redirection Time:       0.207271s</span></span>
<span class="line"><span style="color:#EEFFFF;">Connection Time:        0.000039s</span></span>
<span class="line"><span style="color:#EEFFFF;">App Connection Time:    0.000039s</span></span>
<span class="line"><span style="color:#EEFFFF;">Pre</span><span style="color:#89DDFF;">-</span><span style="color:#EEFFFF;">transfer Time:      0.000067s</span></span>
<span class="line"><span style="color:#EEFFFF;">Start</span><span style="color:#89DDFF;">-</span><span style="color:#EEFFFF;">transfer Time:    0.260115s</span></span>
<span class="line"></span>
<span class="line"><span style="color:#EEFFFF;">Total Time:             0.467691s</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="要求返回是压缩的状态" tabindex="-1">要求返回是压缩的状态 <a class="header-anchor" href="#要求返回是压缩的状态" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">▶</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">curl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--compressed</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-o-</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-L</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">https://yarnpkg.com/install.sh</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">|</span><span style="color:#EEFFFF;"> </span><span style="color:#FFCB6B;">bash</span></span>
<span class="line"><span style="color:#EEFFFF;">  % </span><span style="color:#FFCB6B;">Total</span><span style="color:#EEFFFF;">    % </span><span style="color:#C3E88D;">Received</span><span style="color:#EEFFFF;"> % </span><span style="color:#C3E88D;">Xferd</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">Average</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Speed</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">Time</span><span style="color:#EEFFFF;">    </span><span style="color:#C3E88D;">Time</span><span style="color:#EEFFFF;">     </span><span style="color:#C3E88D;">Time</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">Current</span></span>
<span class="line"><span style="color:#EEFFFF;">                                 </span><span style="color:#FFCB6B;">Dload</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">Upload</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">Total</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">Spent</span><span style="color:#EEFFFF;">    </span><span style="color:#C3E88D;">Left</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">Speed</span></span>
<span class="line"><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">54</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">54</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">     </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">     </span><span style="color:#F78C6C;">42</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">00</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">01</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">00</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">01</span><span style="color:#EEFFFF;"> --:--:--    </span><span style="color:#F78C6C;">42</span></span>
<span class="line"><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">2341</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">2341</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">     </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">   </span><span style="color:#F78C6C;">1202</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">00</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">01</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">00</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">01</span><span style="color:#EEFFFF;"> --:--:--  </span><span style="color:#F78C6C;">9289</span></span>
<span class="line"><span style="color:#FFCB6B;">Installing</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Yarn!</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#EEFFFF;"> Downloading tarball...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">/</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;">: https://yarnpkg.com/latest.tar.gz --</span><span style="color:#89DDFF;">&gt;</span><span style="color:#EEFFFF;"> /var/folders/j7/3xly5sk567s65ny5dnr__3b80000gn/T/yarn.tar.gz.XXXXXXXXXX.9hJsBsrA</span></span>
<span class="line"><span style="color:#EEFFFF;">  % </span><span style="color:#FFCB6B;">Total</span><span style="color:#EEFFFF;">    % </span><span style="color:#C3E88D;">Received</span><span style="color:#EEFFFF;"> % </span><span style="color:#C3E88D;">Xferd</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">Average</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Speed</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">Time</span><span style="color:#EEFFFF;">    </span><span style="color:#C3E88D;">Time</span><span style="color:#EEFFFF;">     </span><span style="color:#C3E88D;">Time</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">Current</span></span>
<span class="line"><span style="color:#EEFFFF;">                                 </span><span style="color:#FFCB6B;">Dload</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">Upload</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">Total</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">Spent</span><span style="color:#EEFFFF;">    </span><span style="color:#C3E88D;">Left</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">Speed</span></span>
<span class="line"><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">57</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">57</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">     </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">     </span><span style="color:#F78C6C;">72</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> --:--:-- --:--:-- --:--:--    </span><span style="color:#F78C6C;">72</span></span>
<span class="line"><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">93</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">93</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">     </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">     </span><span style="color:#F78C6C;">63</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">00</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">01</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">00</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">01</span><span style="color:#EEFFFF;"> --:--:--    </span><span style="color:#F78C6C;">63</span></span>
<span class="line"><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;">   </span><span style="color:#F78C6C;">643</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;">   </span><span style="color:#F78C6C;">643</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">     </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">248</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">00</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">02</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">00</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">02</span><span style="color:#EEFFFF;"> --:--:--   </span><span style="color:#F78C6C;">707</span></span>
<span class="line"><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;"> 1215k  </span><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;"> 1215k    </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">     </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">   153k      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">00</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">07</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">00</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">07</span><span style="color:#EEFFFF;"> --:--:--  305k</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">2</span><span style="color:#EEFFFF;">/</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;">: https://yarnpkg.com/latest.tar.gz.asc --</span><span style="color:#89DDFF;">&gt;</span><span style="color:#EEFFFF;"> /var/folders/j7/3xly5sk567s65ny5dnr__3b80000gn/T/yarn.tar.gz.XXXXXXXXXX.9hJsBsrA.asc</span></span>
<span class="line"><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">61</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">61</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">     </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">356</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> --:--:-- --:--:-- --:--:--   </span><span style="color:#F78C6C;">356</span></span>
<span class="line"><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">97</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">97</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">     </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">325</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> --:--:-- --:--:-- --:--:--   </span><span style="color:#F78C6C;">325</span></span>
<span class="line"><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;">   </span><span style="color:#F78C6C;">647</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;">   </span><span style="color:#F78C6C;">647</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">     </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">   </span><span style="color:#F78C6C;">1283</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> --:--:-- --:--:-- --:--:--  </span><span style="color:#F78C6C;">1283</span></span>
<span class="line"><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;">   </span><span style="color:#F78C6C;">832</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;">   </span><span style="color:#F78C6C;">832</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">     </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">   </span><span style="color:#F78C6C;">1107</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> --:--:-- --:--:-- --:--:--  812k</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div>`,108),o=[e];function F(c,t,r,i,y,E){return a(),n("div",null,o)}const u=s(p,[["render",F]]);export{C as __pageData,u as default};
