import{_ as s,c as a,o as n,a as e}from"./app.82736834.js";const u=JSON.parse('{"title":"gcc","description":"","frontmatter":{},"headers":[{"level":2,"title":"补充说明","slug":"补充说明","link":"#补充说明","children":[{"level":3,"title":"语法","slug":"语法","link":"#语法","children":[]},{"level":3,"title":"选项","slug":"选项","link":"#选项","children":[]},{"level":3,"title":"参数","slug":"参数","link":"#参数","children":[]},{"level":3,"title":"实例","slug":"实例","link":"#实例","children":[]}]}],"relativePath":"linux/command/pages/gcc.md","lastUpdated":1666509709000}'),l={name:"linux/command/pages/gcc.md"},p=e(`<h1 id="gcc" tabindex="-1">gcc <a class="header-anchor" href="#gcc" aria-hidden="true">#</a></h1><p>基于C/C++的编译器</p><h2 id="补充说明" tabindex="-1">补充说明 <a class="header-anchor" href="#补充说明" aria-hidden="true">#</a></h2><p><strong>gcc命令</strong> 使用GNU推出的基于 <code>C/C++</code> 的编译器，是开放源代码领域应用最广泛的编译器，具有功能强大，编译代码支持性能优化等特点。现在很多程序员都应用 <code>GCC</code>，怎样才能更好的应用 <code>GCC</code>。目前，<code>GCC</code> 可以用来编译 <code>C/C++</code>、<code>FORTRAN</code>、<code>JAVA</code>、<code>OBJC</code>、<code>ADA</code>等语言的程序，可根据需要选择安装支持的语言。</p><h3 id="语法" tabindex="-1">语法 <a class="header-anchor" href="#语法" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gcc(选项</span><span style="color:#EEFFFF;">)</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">参数</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="选项" tabindex="-1">选项 <a class="header-anchor" href="#选项" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">-o：指定生成的输出文件；</span></span>
<span class="line"><span style="color:#FFCB6B;">-E：仅执行编译预处理；</span></span>
<span class="line"><span style="color:#FFCB6B;">-S：将C代码转换为汇编代码；</span></span>
<span class="line"><span style="color:#FFCB6B;">-wall：显示警告信息；</span></span>
<span class="line"><span style="color:#FFCB6B;">-c：仅执行编译操作，不进行连接操作。</span></span>
<span class="line"><span style="color:#FFCB6B;">-l：用来指定程序要链接的库，-l参数紧接着就是库名</span></span>
<span class="line"><span style="color:#FFCB6B;">-I：寻找头文件的目录</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="参数" tabindex="-1">参数 <a class="header-anchor" href="#参数" aria-hidden="true">#</a></h3><p>C源文件：指定C语言源代码文件。</p><h3 id="实例" tabindex="-1">实例 <a class="header-anchor" href="#实例" aria-hidden="true">#</a></h3><p><strong>常用编译命令选项</strong></p><p>假设源程序文件名为test.c</p><p><strong>无选项编译链接</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gcc</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">test.c</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>将 <code>test.c</code> 预处理、汇编、编译并链接形成可执行文件。这里未指定输出文件，默认输出为 <code>a.out</code>。</p><p><strong>选项 -o</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gcc</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">test.c</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">test</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>将 <code>test.c</code> 预处理、汇编、编译并链接形成可执行文件 <code>test</code>。<code>-o</code> 选项用来指定输出文件的文件名。</p><p><strong>选项 -E</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gcc</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-E</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">test.c</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">test.i</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>将 <code>test.c</code> 预处理输出 <code>test.i</code> 文件。</p><p><strong>选项 -S</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gcc</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-S</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">test.i</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>将预处理输出文件 <code>test.i</code> 汇编成 <code>test.s</code> 文件。</p><p><strong>选项 -c</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gcc</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-c</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">test.s</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>将汇编输出文件 <code>test.s</code> 编译输出 <code>test.o</code> 文件。</p><p><strong>无选项链接</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gcc</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">test.o</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">test</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>将编译输出文件 <code>test.o</code> 链接成最终可执行文件 <code>test</code>。</p><p><strong>选项 -O</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gcc</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-O1</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">test.c</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">test</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>使用编译优化级别1编译程序。级别为1~3，级别越大优化效果越好，但编译时间越长。</p><p><strong>多源文件的编译方法</strong></p><p>如果有多个源文件，基本上有两种编译方法：</p><p>假设有两个源文件为 <code>test.c</code> 和 <code>testfun.c</code></p><p><strong>多个文件一起编译</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gcc</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">testfun.c</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">test.c</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">test</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>将 <code>testfun.c</code> 和 <code>test.c</code> 分别编译后链接成 <code>test</code> 可执行文件。</p><p><strong>分别编译各个源文件，之后对编译后输出的目标文件链接。</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gcc</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-c</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">testfun.c</span><span style="color:#EEFFFF;">    </span><span style="color:#545454;font-style:italic;">#将testfun.c编译成testfun.o</span></span>
<span class="line"><span style="color:#FFCB6B;">gcc</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-c</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">test.c</span><span style="color:#EEFFFF;">       </span><span style="color:#545454;font-style:italic;">#将test.c编译成test.o</span></span>
<span class="line"><span style="color:#FFCB6B;">gcc</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">testfun.o</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">test.o</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">test</span><span style="color:#EEFFFF;">   </span><span style="color:#545454;font-style:italic;">#将testfun.o和test.o链接成test</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>以上两种方法相比较，第一中方法编译时需要所有文件重新编译，而第二种方法可以只重新编译修改的文件，未修改的文件不用重新编译。</p><p><strong>加载动态链接库</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gcc</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">hello.c</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-lpthread</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">hello</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>手动添加文件头路径</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gcc</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">hello.c</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-lpthread</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-I</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/lib64/</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">hello</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,47),o=[p];function c(t,r,i,d,F,y){return n(),a("div",null,o)}const h=s(l,[["render",c]]);export{u as __pageData,h as default};
