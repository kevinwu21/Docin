import{_ as s,c as n,o as a,a as l}from"./app.82736834.js";const u=JSON.parse('{"title":"sysctl","description":"","frontmatter":{},"headers":[{"level":2,"title":"补充说明","slug":"补充说明","link":"#补充说明","children":[{"level":3,"title":"语法","slug":"语法","link":"#语法","children":[]},{"level":3,"title":"选项","slug":"选项","link":"#选项","children":[]},{"level":3,"title":"参数","slug":"参数","link":"#参数","children":[]},{"level":3,"title":"实例","slug":"实例","link":"#实例","children":[]},{"level":3,"title":"配置sysctl","slug":"配置sysctl","link":"#配置sysctl","children":[]}]}],"relativePath":"linux/command/pages/sysctl.md","lastUpdated":1666509709000}'),p={name:"linux/command/pages/sysctl.md"},e=l(`<h1 id="sysctl" tabindex="-1">sysctl <a class="header-anchor" href="#sysctl" aria-hidden="true">#</a></h1><p>时动态地修改内核的运行参数</p><h2 id="补充说明" tabindex="-1">补充说明 <a class="header-anchor" href="#补充说明" aria-hidden="true">#</a></h2><p><strong>sysctl命令</strong> 被用于在内核运行时动态地修改内核的运行参数，可用的内核参数在目录<code>/proc/sys</code>中。它包含一些TCP/ip堆栈和虚拟内存系统的高级选项， 这可以让有经验的管理员提高引人注目的系统性能。用sysctl可以读取设置超过五百个系统变量。</p><h3 id="语法" tabindex="-1">语法 <a class="header-anchor" href="#语法" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">sysctl(选项</span><span style="color:#EEFFFF;">)</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">参数</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="选项" tabindex="-1">选项 <a class="header-anchor" href="#选项" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">-n：打印值时不打印关键字；</span></span>
<span class="line"><span style="color:#FFCB6B;">-e：忽略未知关键字错误；</span></span>
<span class="line"><span style="color:#FFCB6B;">-N：仅打印名称；</span></span>
<span class="line"><span style="color:#FFCB6B;">-w：当改变sysctl设置时使用此项；</span></span>
<span class="line"><span style="color:#FFCB6B;">-p：从配置文件“/etc/sysctl.conf”加载内核参数设置；</span></span>
<span class="line"><span style="color:#FFCB6B;">-a：打印当前所有可用的内核参数变量和值；</span></span>
<span class="line"><span style="color:#FFCB6B;">-A：以表格方式打印当前所有可用的内核参数变量和值。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="参数" tabindex="-1">参数 <a class="header-anchor" href="#参数" aria-hidden="true">#</a></h3><p>变量=值：设置内核参数对应的变量值。</p><h3 id="实例" tabindex="-1">实例 <a class="header-anchor" href="#实例" aria-hidden="true">#</a></h3><p>查看所有可读变量：</p><p>sysctl -a</p><p>读一个指定的变量，例如<code>kern.maxproc</code>：</p><p>sysctl kern.maxproc kern.maxproc: 1044</p><p>要设置一个指定的变量，直接用<code>variable=value</code>这样的语法：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">sysctl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">kern.maxfiles=</span><span style="color:#F78C6C;">5000</span></span>
<span class="line"><span style="color:#FFCB6B;">kern.maxfiles:</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">2088</span><span style="color:#EEFFFF;"> -</span><span style="color:#89DDFF;">&gt;</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">5000</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>您可以使用sysctl修改系统变量，也可以通过编辑sysctl.conf文件来修改系统变量。sysctl.conf看起来很像rc.conf。它用<code>variable=value</code>的形式来设定值。指定的值在系统进入多用户模式之后被设定。并不是所有的变量都可以在这个模式下设定。</p><p>sysctl变量的设置通常是字符串、数字或者布尔型。（布尔型用 1 来表示&#39;yes&#39;，用 0 来表示&#39;no&#39;）。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">sysctl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-w</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">kernel.sysrq=</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">sysctl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-w</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">kernel.core_uses_pid=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#FFCB6B;">sysctl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-w</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">net.ipv4.conf.default.accept_redirects=</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">sysctl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-w</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">net.ipv4.conf.default.accept_source_route=</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">sysctl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-w</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">net.ipv4.conf.default.rp_filter=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#FFCB6B;">sysctl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-w</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">net.ipv4.tcp_syncookies=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#FFCB6B;">sysctl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-w</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">net.ipv4.tcp_max_syn_backlog=</span><span style="color:#F78C6C;">2048</span></span>
<span class="line"><span style="color:#FFCB6B;">sysctl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-w</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">net.ipv4.tcp_fin_timeout=</span><span style="color:#F78C6C;">30</span></span>
<span class="line"><span style="color:#FFCB6B;">sysctl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-w</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">net.ipv4.tcp_synack_retries=</span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#FFCB6B;">sysctl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-w</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">net.ipv4.tcp_keepalive_time=</span><span style="color:#F78C6C;">3600</span></span>
<span class="line"><span style="color:#FFCB6B;">sysctl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-w</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">net.ipv4.tcp_window_scaling=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#FFCB6B;">sysctl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-w</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">net.ipv4.tcp_sack=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="配置sysctl" tabindex="-1">配置sysctl <a class="header-anchor" href="#配置sysctl" aria-hidden="true">#</a></h3><p>编辑此文件：<code>/etc/sysctl.conf</code></p><p>如果该文件为空，则输入以下内容，否则请根据情况自己做调整：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#545454;font-style:italic;"># Controls source route verification</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># Default should work for all interfaces</span></span>
<span class="line"><span style="color:#FFCB6B;">net.ipv4.conf.default.rp_filter</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># net.ipv4.conf.all.rp_filter = 1</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># net.ipv4.conf.lo.rp_filter = 1</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># net.ipv4.conf.eth0.rp_filter = 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># Disables IP source routing</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># Default should work for all interfaces</span></span>
<span class="line"><span style="color:#FFCB6B;">net.ipv4.conf.default.accept_source_route</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># net.ipv4.conf.all.accept_source_route = 0</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># net.ipv4.conf.lo.accept_source_route = 0</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># net.ipv4.conf.eth0.accept_source_route = 0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># Controls the System Request debugging functionality of the kernel</span></span>
<span class="line"><span style="color:#FFCB6B;">kernel.sysrq</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># Controls whether core dumps will append the PID to the core filename.</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># Useful for debugging multi-threaded applications.</span></span>
<span class="line"><span style="color:#FFCB6B;">kernel.core_uses_pid</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># Increase maximum amount of memory allocated to shm</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># Only uncomment if needed!</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># kernel.shmmax = 67108864</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># Disable ICMP Redirect Acceptance</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># Default should work for all interfaces</span></span>
<span class="line"><span style="color:#FFCB6B;">net.ipv4.conf.default.accept_redirects</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># net.ipv4.conf.all.accept_redirects = 0</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># net.ipv4.conf.lo.accept_redirects = 0</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># net.ipv4.conf.eth0.accept_redirects = 0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># enable Log Spoofed Packets, Source Routed Packets, Redirect Packets</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># Default should work for all interfaces</span></span>
<span class="line"><span style="color:#FFCB6B;">net.ipv4.conf.default.log_martians</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># net.ipv4.conf.all.log_martians = 1</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># net.ipv4.conf.lo.log_martians = 1</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># net.ipv4.conf.eth0.log_martians = 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># Decrease the time default value for tcp_fin_timeout connection</span></span>
<span class="line"><span style="color:#FFCB6B;">net.ipv4.tcp_fin_timeout</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">25</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># Decrease the time default value for tcp_keepalive_time connection</span></span>
<span class="line"><span style="color:#FFCB6B;">net.ipv4.tcp_keepalive_time</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1200</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># Turn on the tcp_window_scaling</span></span>
<span class="line"><span style="color:#FFCB6B;">net.ipv4.tcp_window_scaling</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># Turn on the tcp_sack</span></span>
<span class="line"><span style="color:#FFCB6B;">net.ipv4.tcp_sack</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># tcp_fack should be on because of sack</span></span>
<span class="line"><span style="color:#FFCB6B;">net.ipv4.tcp_fack</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># Turn on the tcp_timestamps</span></span>
<span class="line"><span style="color:#FFCB6B;">net.ipv4.tcp_timestamps</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># Enable TCP SYN Cookie Protection</span></span>
<span class="line"><span style="color:#FFCB6B;">net.ipv4.tcp_syncookies</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># Enable ignoring broadcasts request</span></span>
<span class="line"><span style="color:#FFCB6B;">net.ipv4.icmp_echo_ignore_broadcasts</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># Enable bad error message Protection</span></span>
<span class="line"><span style="color:#FFCB6B;">net.ipv4.icmp_ignore_bogus_error_responses</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># make more local ports available</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># net.ipv4.ip_local_port_range = 1024 65000</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># set TCP Re-Ordering value in kernel to ‘5′</span></span>
<span class="line"><span style="color:#FFCB6B;">net.ipv4.tcp_reordering</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">5</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># Lower syn retry rates</span></span>
<span class="line"><span style="color:#FFCB6B;">net.ipv4.tcp_synack_retries</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#FFCB6B;">net.ipv4.tcp_syn_retries</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># Set Max SYN Backlog to ‘2048′</span></span>
<span class="line"><span style="color:#FFCB6B;">net.ipv4.tcp_max_syn_backlog</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">2048</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># Various Settings</span></span>
<span class="line"><span style="color:#FFCB6B;">net.core.netdev_max_backlog</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1024</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># Increase the maximum number of skb-heads to be cached</span></span>
<span class="line"><span style="color:#FFCB6B;">net.core.hot_list_length</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">256</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># Increase the tcp-time-wait buckets pool size</span></span>
<span class="line"><span style="color:#FFCB6B;">net.ipv4.tcp_max_tw_buckets</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">360000</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># This will increase the amount of memory available for socket input/output queues</span></span>
<span class="line"><span style="color:#FFCB6B;">net.core.rmem_default</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">65535</span></span>
<span class="line"><span style="color:#FFCB6B;">net.core.rmem_max</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">8388608</span></span>
<span class="line"><span style="color:#FFCB6B;">net.ipv4.tcp_rmem</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">4096</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">87380</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">8388608</span></span>
<span class="line"><span style="color:#FFCB6B;">net.core.wmem_default</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">65535</span></span>
<span class="line"><span style="color:#FFCB6B;">net.core.wmem_max</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">8388608</span></span>
<span class="line"><span style="color:#FFCB6B;">net.ipv4.tcp_wmem</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">4096</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">65535</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">8388608</span></span>
<span class="line"><span style="color:#FFCB6B;">net.ipv4.tcp_mem</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">8388608</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">8388608</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">8388608</span></span>
<span class="line"><span style="color:#FFCB6B;">net.core.optmem_max</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">40960</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br></div></div><p>如果希望屏蔽别人 ping 你的主机，则加入以下代码：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#545454;font-style:italic;"># Disable ping requests</span></span>
<span class="line"><span style="color:#FFCB6B;">net.ipv4.icmp_echo_ignore_all</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>编辑完成后，请执行以下命令使变动立即生效：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">/sbin/sysctl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-p</span></span>
<span class="line"><span style="color:#FFCB6B;">/sbin/sysctl</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-w</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">net.ipv4.route.flush=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>`,28),o=[e];function c(t,r,i,F,y,b){return a(),n("div",null,o)}const C=s(p,[["render",c]]);export{u as __pageData,C as default};
