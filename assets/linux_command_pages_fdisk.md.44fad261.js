import{_ as s,c as n,o as a,a as l}from"./app.82736834.js";const D=JSON.parse('{"title":"fdisk","description":"","frontmatter":{},"headers":[{"level":2,"title":"补充说明","slug":"补充说明","link":"#补充说明","children":[{"level":3,"title":"语法","slug":"语法","link":"#语法","children":[]},{"level":3,"title":"选项","slug":"选项","link":"#选项","children":[]},{"level":3,"title":"参数","slug":"参数","link":"#参数","children":[]},{"level":3,"title":"实例","slug":"实例","link":"#实例","children":[]}]}],"relativePath":"linux/command/pages/fdisk.md","lastUpdated":1666509709000}'),p={name:"linux/command/pages/fdisk.md"},o=l(`<h1 id="fdisk" tabindex="-1">fdisk <a class="header-anchor" href="#fdisk" aria-hidden="true">#</a></h1><p>查看磁盘使用情况和磁盘分区</p><h2 id="补充说明" tabindex="-1">补充说明 <a class="header-anchor" href="#补充说明" aria-hidden="true">#</a></h2><p><strong>fdisk命令</strong> 用于观察硬盘实体使用情况，也可对硬盘分区。它采用传统的问答式界面，而非类似DOS fdisk的cfdisk互动式操作界面，因此在使用上较为不便，但功能却丝毫不打折扣。</p><h3 id="语法" tabindex="-1">语法 <a class="header-anchor" href="#语法" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">fdisk(选项</span><span style="color:#EEFFFF;">)</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">参数</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="选项" tabindex="-1">选项 <a class="header-anchor" href="#选项" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#EEFFFF;"> </span><span style="color:#FFCB6B;">-b</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">大</span><span style="color:#EEFFFF;">小</span><span style="color:#89DDFF;">&gt;</span><span style="color:#EEFFFF;">             </span><span style="color:#C3E88D;">扇区大小</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">512</span><span style="color:#EEFFFF;">、</span><span style="color:#F78C6C;">1024</span><span style="color:#EEFFFF;">、2048或4096</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#EEFFFF;"> </span><span style="color:#FFCB6B;">-c[=&lt;模式&gt;</span><span style="color:#EEFFFF;">]           兼容模式：“dos”或“nondos”</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">默认</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#EEFFFF;"> </span><span style="color:#FFCB6B;">-h</span><span style="color:#EEFFFF;">                    </span><span style="color:#C3E88D;">打印此帮助文本</span></span>
<span class="line"><span style="color:#EEFFFF;"> </span><span style="color:#FFCB6B;">-u[=&lt;单位&gt;</span><span style="color:#EEFFFF;">]           显示单位：“cylinders”</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">柱面</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">或“sectors”</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">扇区，默认</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#EEFFFF;"> </span><span style="color:#FFCB6B;">-v</span><span style="color:#EEFFFF;">                    </span><span style="color:#C3E88D;">打印程序版本</span></span>
<span class="line"><span style="color:#EEFFFF;"> </span><span style="color:#FFCB6B;">-C</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">数</span><span style="color:#EEFFFF;">字</span><span style="color:#89DDFF;">&gt;</span><span style="color:#EEFFFF;">             </span><span style="color:#C3E88D;">指定柱面数</span></span>
<span class="line"><span style="color:#EEFFFF;"> </span><span style="color:#FFCB6B;">-H</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">数</span><span style="color:#EEFFFF;">字</span><span style="color:#89DDFF;">&gt;</span><span style="color:#EEFFFF;">             </span><span style="color:#C3E88D;">指定磁头数</span></span>
<span class="line"><span style="color:#EEFFFF;"> </span><span style="color:#FFCB6B;">-S</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">数</span><span style="color:#EEFFFF;">字</span><span style="color:#89DDFF;">&gt;</span><span style="color:#EEFFFF;">             </span><span style="color:#C3E88D;">指定每个磁道的扇区数</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="参数" tabindex="-1">参数 <a class="header-anchor" href="#参数" aria-hidden="true">#</a></h3><p>设备文件：指定要进行分区或者显示分区的硬盘设备文件。</p><h3 id="实例" tabindex="-1">实例 <a class="header-anchor" href="#实例" aria-hidden="true">#</a></h3><p>首先选择要进行操作的磁盘：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#EEFFFF;"># fdisk /dev/sdb</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>输入<code>m</code>列出可以执行的命令：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">command</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">m</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">for</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">help</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">: </span><span style="color:#C3E88D;">m</span></span>
<span class="line"><span style="color:#FFCB6B;">Command</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">action</span></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">a</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">toggle</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">a</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">bootable</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">flag</span></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">b</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">edit</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">bsd</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">disklabel</span></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">c</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">toggle</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">the</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">dos</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">compatibility</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">flag</span></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">d</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">delete</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">a</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">partition</span></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">l</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">list</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">known</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">partition</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">types</span></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">m</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">print</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">this</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">menu</span></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">n</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">add</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">a</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">new</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">partition</span></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">o</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">create</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">a</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">new</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">empty</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">DOS</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">partition</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">table</span></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">p</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">print</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">the</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">partition</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">table</span></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">q</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">quit</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">without</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">saving</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">changes</span></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">s</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">create</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">a</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">new</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">empty</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Sun</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">disklabel</span></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">t</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">change</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">a</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">partition</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">s system id</span></span>
<span class="line"><span style="color:#C3E88D;">   u   change display/entry units</span></span>
<span class="line"><span style="color:#C3E88D;">   v   verify the partition table</span></span>
<span class="line"><span style="color:#C3E88D;">   w   write table to disk and exit</span></span>
<span class="line"><span style="color:#C3E88D;">   x   extra functionality (experts only)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>输入<code>p</code>列出磁盘目前的分区情况：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">Command</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">m</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">for</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">help</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">: </span><span style="color:#C3E88D;">p</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Disk</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/dev/sdb:</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">3221</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">MB,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">3221225472</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">bytes</span></span>
<span class="line"><span style="color:#F78C6C;">255</span><span style="color:#EEFFFF;"> heads, </span><span style="color:#F78C6C;">63</span><span style="color:#EEFFFF;"> sectors/track, </span><span style="color:#F78C6C;">391</span><span style="color:#EEFFFF;"> cylinders</span></span>
<span class="line"><span style="color:#FFCB6B;">Units</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">cylinders</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">of</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">16065</span><span style="color:#EEFFFF;"> </span><span style="color:#EEFFFF;">*</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">512</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">8225280</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">bytes</span></span>
<span class="line"></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">Device</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Boot</span><span style="color:#EEFFFF;">      </span><span style="color:#C3E88D;">Start</span><span style="color:#EEFFFF;">         </span><span style="color:#C3E88D;">End</span><span style="color:#EEFFFF;">      </span><span style="color:#C3E88D;">Blocks</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">Id</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">System</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/sdb1</span><span style="color:#EEFFFF;">               </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">           </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">        </span><span style="color:#F78C6C;">8001</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">8e</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">Linux</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">LVM</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/sdb2</span><span style="color:#EEFFFF;">               </span><span style="color:#F78C6C;">2</span><span style="color:#EEFFFF;">          </span><span style="color:#F78C6C;">26</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">200812</span><span style="color:#C3E88D;">+</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">83</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">Linux</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>输入<code>d</code>然后选择分区，删除现有分区：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">Command</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">m</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">for</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">help</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">: </span><span style="color:#C3E88D;">d</span></span>
<span class="line"><span style="color:#FFCB6B;">Partition</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">number</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">: </span><span style="color:#F78C6C;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Command</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">m</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">for</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">help</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">: </span><span style="color:#C3E88D;">d</span></span>
<span class="line"><span style="color:#FFCB6B;">Selected</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">partition</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>查看分区情况，确认分区已经删除：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">Command</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">m</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">for</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">help</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">: </span><span style="color:#C3E88D;">print</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Disk</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/dev/sdb:</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">3221</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">MB,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">3221225472</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">bytes</span></span>
<span class="line"><span style="color:#F78C6C;">255</span><span style="color:#EEFFFF;"> heads, </span><span style="color:#F78C6C;">63</span><span style="color:#EEFFFF;"> sectors/track, </span><span style="color:#F78C6C;">391</span><span style="color:#EEFFFF;"> cylinders</span></span>
<span class="line"><span style="color:#FFCB6B;">Units</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">cylinders</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">of</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">16065</span><span style="color:#EEFFFF;"> </span><span style="color:#EEFFFF;">*</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">512</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">8225280</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">bytes</span></span>
<span class="line"></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">Device</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Boot</span><span style="color:#EEFFFF;">      </span><span style="color:#C3E88D;">Start</span><span style="color:#EEFFFF;">         </span><span style="color:#C3E88D;">End</span><span style="color:#EEFFFF;">      </span><span style="color:#C3E88D;">Blocks</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">Id</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">System</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Command</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">m</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">for</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">help</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">:</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>输入<code>n</code>建立新的磁盘分区，首先建立两个主磁盘分区：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">Command</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">m</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">for</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">help</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">: </span><span style="color:#C3E88D;">n</span></span>
<span class="line"><span style="color:#FFCB6B;">Command</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">action</span></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">e</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">extended</span></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">p</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">primary</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">partition</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">p</span><span style="color:#EEFFFF;">    </span><span style="color:#C3E88D;">//建立主分区</span></span>
<span class="line"><span style="color:#FFCB6B;">Partition</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">number</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">: </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">//分区号</span></span>
<span class="line"><span style="color:#FFCB6B;">First</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">cylinder</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">391</span><span style="color:#EEFFFF;">, default </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">:  </span><span style="color:#C3E88D;">//分区起始位置</span></span>
<span class="line"><span style="color:#FFCB6B;">Using</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">default</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">value</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#FFCB6B;">last</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">cylinder</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">or</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">+size</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">or</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">+sizeM</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">or</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">+sizeK</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">391</span><span style="color:#EEFFFF;">, default </span><span style="color:#F78C6C;">391</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">: </span><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">//分区结束位置，单位为扇区</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Command</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">m</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">for</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">help</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">: </span><span style="color:#C3E88D;">n</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">//再建立一个分区</span></span>
<span class="line"><span style="color:#FFCB6B;">Command</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">action</span></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">e</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">extended</span></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">p</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">primary</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">partition</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">p</span><span style="color:#EEFFFF;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">Partition</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">number</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">: </span><span style="color:#F78C6C;">2</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">//分区号为2</span></span>
<span class="line"><span style="color:#FFCB6B;">First</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">cylinder</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">101</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">391</span><span style="color:#EEFFFF;">, default </span><span style="color:#F78C6C;">101</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">:</span></span>
<span class="line"><span style="color:#FFCB6B;">Using</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">default</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">value</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">101</span></span>
<span class="line"><span style="color:#FFCB6B;">Last</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">cylinder</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">or</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">+size</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">or</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">+sizeM</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">or</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">+sizeK</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">101</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">391</span><span style="color:#EEFFFF;">, default </span><span style="color:#F78C6C;">391</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">: </span><span style="color:#C3E88D;">+200M</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">//分区结束位置，单位为M</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>确认分区建立成功：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">Command</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">m</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">for</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">help</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">: </span><span style="color:#C3E88D;">p</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Disk</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/dev/sdb:</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">3221</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">MB,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">3221225472</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">bytes</span></span>
<span class="line"><span style="color:#F78C6C;">255</span><span style="color:#EEFFFF;"> heads, </span><span style="color:#F78C6C;">63</span><span style="color:#EEFFFF;"> sectors/track, </span><span style="color:#F78C6C;">391</span><span style="color:#EEFFFF;"> cylinders</span></span>
<span class="line"><span style="color:#FFCB6B;">Units</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">cylinders</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">of</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">16065</span><span style="color:#EEFFFF;"> </span><span style="color:#EEFFFF;">*</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">512</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">8225280</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">bytes</span></span>
<span class="line"></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">Device</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Boot</span><span style="color:#EEFFFF;">      </span><span style="color:#C3E88D;">Start</span><span style="color:#EEFFFF;">         </span><span style="color:#C3E88D;">End</span><span style="color:#EEFFFF;">      </span><span style="color:#C3E88D;">Blocks</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">Id</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">System</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/sdb1</span><span style="color:#EEFFFF;">               </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">803218</span><span style="color:#C3E88D;">+</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">83</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">Linux</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/sdb2</span><span style="color:#EEFFFF;">             </span><span style="color:#F78C6C;">101</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">125</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">200812</span><span style="color:#C3E88D;">+</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">83</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">Linux</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>再建立一个逻辑分区：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">Command</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">m</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">for</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">help</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">: </span><span style="color:#C3E88D;">n</span></span>
<span class="line"><span style="color:#FFCB6B;">Command</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">action</span></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">e</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">extended</span></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">p</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">primary</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">partition</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">e</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">//选择扩展分区</span></span>
<span class="line"><span style="color:#FFCB6B;">Partition</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">number</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">: </span><span style="color:#F78C6C;">3</span></span>
<span class="line"><span style="color:#FFCB6B;">First</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">cylinder</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">126</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">391</span><span style="color:#EEFFFF;">, default </span><span style="color:#F78C6C;">126</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">:</span></span>
<span class="line"><span style="color:#FFCB6B;">Using</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">default</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">value</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">126</span></span>
<span class="line"><span style="color:#FFCB6B;">Last</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">cylinder</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">or</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">+size</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">or</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">+sizeM</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">or</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">+sizeK</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">126</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">391</span><span style="color:#EEFFFF;">, default </span><span style="color:#F78C6C;">391</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">:</span></span>
<span class="line"><span style="color:#FFCB6B;">Using</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">default</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">value</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">391</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>确认扩展分区建立成功：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">Command</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">m</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">for</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">help</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">: </span><span style="color:#C3E88D;">p</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Disk</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/dev/sdb:</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">3221</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">MB,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">3221225472</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">bytes</span></span>
<span class="line"><span style="color:#F78C6C;">255</span><span style="color:#EEFFFF;"> heads, </span><span style="color:#F78C6C;">63</span><span style="color:#EEFFFF;"> sectors/track, </span><span style="color:#F78C6C;">391</span><span style="color:#EEFFFF;"> cylinders</span></span>
<span class="line"><span style="color:#FFCB6B;">Units</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">cylinders</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">of</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">16065</span><span style="color:#EEFFFF;"> </span><span style="color:#EEFFFF;">*</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">512</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">8225280</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">bytes</span></span>
<span class="line"></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">Device</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Boot</span><span style="color:#EEFFFF;">      </span><span style="color:#C3E88D;">Start</span><span style="color:#EEFFFF;">         </span><span style="color:#C3E88D;">End</span><span style="color:#EEFFFF;">      </span><span style="color:#C3E88D;">Blocks</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">Id</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">System</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/sdb1</span><span style="color:#EEFFFF;">               </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">803218</span><span style="color:#C3E88D;">+</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">83</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">Linux</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/sdb2</span><span style="color:#EEFFFF;">             </span><span style="color:#F78C6C;">101</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">125</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">200812</span><span style="color:#C3E88D;">+</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">83</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">Linux</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/sdb3</span><span style="color:#EEFFFF;">             </span><span style="color:#F78C6C;">126</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">391</span><span style="color:#EEFFFF;">     </span><span style="color:#F78C6C;">2136645</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">5</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">Extended</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>在扩展分区上建立两个逻辑分区：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">Command</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">m</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">for</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">help</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">: </span><span style="color:#C3E88D;">n</span></span>
<span class="line"><span style="color:#FFCB6B;">Command</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">action</span></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">l</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">logical</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">5</span><span style="color:#EEFFFF;"> or over</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">p</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">primary</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">partition</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">l</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">//选择逻辑分区</span></span>
<span class="line"><span style="color:#FFCB6B;">First</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">cylinder</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">126</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">391</span><span style="color:#EEFFFF;">, default </span><span style="color:#F78C6C;">126</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">:</span></span>
<span class="line"><span style="color:#FFCB6B;">Using</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">default</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">value</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">126</span></span>
<span class="line"><span style="color:#FFCB6B;">Last</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">cylinder</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">or</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">+size</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">or</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">+sizeM</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">or</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">+sizeK</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">126</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">391</span><span style="color:#EEFFFF;">, default </span><span style="color:#F78C6C;">391</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">: </span><span style="color:#C3E88D;">+400M</span><span style="color:#EEFFFF;">    </span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Command</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">m</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">for</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">help</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">: </span><span style="color:#C3E88D;">n</span></span>
<span class="line"><span style="color:#FFCB6B;">Command</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">action</span></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">l</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">logical</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">5</span><span style="color:#EEFFFF;"> or over</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">p</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">primary</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">partition</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">l</span></span>
<span class="line"><span style="color:#FFCB6B;">First</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">cylinder</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">176</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">391</span><span style="color:#EEFFFF;">, default </span><span style="color:#F78C6C;">176</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">:</span></span>
<span class="line"><span style="color:#FFCB6B;">Using</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">default</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">value</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">176</span></span>
<span class="line"><span style="color:#FFCB6B;">Last</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">cylinder</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">or</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">+size</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">or</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">+sizeM</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">or</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">+sizeK</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">176</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">391</span><span style="color:#EEFFFF;">, default </span><span style="color:#F78C6C;">391</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">:</span></span>
<span class="line"><span style="color:#FFCB6B;">Using</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">default</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">value</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">391</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>确认逻辑分区建立成功：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">Command</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">m</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">for</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">help</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">: </span><span style="color:#C3E88D;">p</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Disk</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/dev/sdb:</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">3221</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">MB,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">3221225472</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">bytes</span></span>
<span class="line"><span style="color:#F78C6C;">255</span><span style="color:#EEFFFF;"> heads, </span><span style="color:#F78C6C;">63</span><span style="color:#EEFFFF;"> sectors/track, </span><span style="color:#F78C6C;">391</span><span style="color:#EEFFFF;"> cylinders</span></span>
<span class="line"><span style="color:#FFCB6B;">Units</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">cylinders</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">of</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">16065</span><span style="color:#EEFFFF;"> </span><span style="color:#EEFFFF;">*</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">512</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">8225280</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">bytes</span></span>
<span class="line"></span>
<span class="line"><span style="color:#EEFFFF;">   </span><span style="color:#FFCB6B;">Device</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Boot</span><span style="color:#EEFFFF;">      </span><span style="color:#C3E88D;">Start</span><span style="color:#EEFFFF;">         </span><span style="color:#C3E88D;">End</span><span style="color:#EEFFFF;">      </span><span style="color:#C3E88D;">Blocks</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">Id</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">System</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/sdb1</span><span style="color:#EEFFFF;">               </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">100</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">803218</span><span style="color:#C3E88D;">+</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">83</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">Linux</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/sdb2</span><span style="color:#EEFFFF;">             </span><span style="color:#F78C6C;">101</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">125</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">200812</span><span style="color:#C3E88D;">+</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">83</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">Linux</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/sdb3</span><span style="color:#EEFFFF;">             </span><span style="color:#F78C6C;">126</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">391</span><span style="color:#EEFFFF;">     </span><span style="color:#F78C6C;">2136645</span><span style="color:#EEFFFF;">    </span><span style="color:#F78C6C;">5</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">Extended</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/sdb5</span><span style="color:#EEFFFF;">             </span><span style="color:#F78C6C;">126</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">175</span><span style="color:#EEFFFF;">      </span><span style="color:#F78C6C;">401593</span><span style="color:#C3E88D;">+</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">83</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">Linux</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/sdb6</span><span style="color:#EEFFFF;">             </span><span style="color:#F78C6C;">176</span><span style="color:#EEFFFF;">         </span><span style="color:#F78C6C;">391</span><span style="color:#EEFFFF;">     </span><span style="color:#F78C6C;">1734988</span><span style="color:#C3E88D;">+</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">83</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">Linux</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Command</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">m</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">for</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">help</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">:</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>从上面的结果我们可以看到，在硬盘sdb我们建立了2个主分区（sdb1，sdb2），1个扩展分区（sdb3），2个逻辑分区（sdb5，sdb6）</p><p>注意：主分区和扩展分区的磁盘号位1-4，也就是说最多有4个主分区或者扩展分区，逻辑分区开始的磁盘号为5，因此在这个实验中试没有sdb4的。</p><p>最后对分区操作进行保存：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">Command</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">m</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">for</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">help</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">: </span><span style="color:#C3E88D;">w</span></span>
<span class="line"><span style="color:#FFCB6B;">The</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">partition</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">table</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">has</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">been</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">altered!</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Calling</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">ioctl</span><span style="color:#89DDFF;">()</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">to</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">re-read</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">partition</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">table.</span></span>
<span class="line"><span style="color:#FFCB6B;">Syncing</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">disks.</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>建立好分区之后我们还需要对分区进行格式化才能在系统中使用磁盘。</p><p>在sdb1上建立ext2分区：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#EEFFFF;"># mkfs.ext2 /dev/sdb1</span></span>
<span class="line"><span style="color:#FFCB6B;">mke2fs</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1.39</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">29</span><span style="color:#EEFFFF;">-May-</span><span style="color:#F78C6C;">2006</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">Filesystem</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">label=</span></span>
<span class="line"><span style="color:#FFCB6B;">OS</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">type:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Linux</span></span>
<span class="line"><span style="color:#FFCB6B;">Block</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">size=</span><span style="color:#F78C6C;">4096</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#EEFFFF;">log</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">2</span><span style="color:#EEFFFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">Fragment</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">size=</span><span style="color:#F78C6C;">4096</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#EEFFFF;">log</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">2</span><span style="color:#EEFFFF;">)</span></span>
<span class="line"><span style="color:#F78C6C;">100576</span><span style="color:#EEFFFF;"> inodes, </span><span style="color:#F78C6C;">200804</span><span style="color:#EEFFFF;"> blocks</span></span>
<span class="line"><span style="color:#F78C6C;">10040</span><span style="color:#EEFFFF;"> blocks </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">5.00</span><span style="color:#EEFFFF;">%</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> reserved </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#EEFFFF;"> the super user</span></span>
<span class="line"><span style="color:#FFCB6B;">First</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">data</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">block=</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">Maximum</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">filesystem</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">blocks=</span><span style="color:#F78C6C;">209715200</span></span>
<span class="line"><span style="color:#F78C6C;">7</span><span style="color:#EEFFFF;"> block groups</span></span>
<span class="line"><span style="color:#F78C6C;">32768</span><span style="color:#EEFFFF;"> blocks per group, </span><span style="color:#F78C6C;">32768</span><span style="color:#EEFFFF;"> fragments per group</span></span>
<span class="line"><span style="color:#F78C6C;">14368</span><span style="color:#EEFFFF;"> inodes per group</span></span>
<span class="line"><span style="color:#FFCB6B;">Superblock</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">backups</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">stored</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">on</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">blocks:</span></span>
<span class="line"><span style="color:#EEFFFF;">        </span><span style="color:#FFCB6B;">32768,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">98304</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">163840</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Writing</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">inode</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">tables:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">done</span><span style="color:#EEFFFF;">                           </span></span>
<span class="line"><span style="color:#FFCB6B;">Writing</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">superblocks</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">and</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">filesystem</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">accounting</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">information:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">done</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">This</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">filesystem</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">will</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">be</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">automatically</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">checked</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">every</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">32</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">mounts</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">or</span></span>
<span class="line"><span style="color:#F78C6C;">180</span><span style="color:#EEFFFF;"> days, whichever comes first.  Use tune2fs -c or -i to override.</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>在sdb6上建立ext3分区：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#EEFFFF;"># mkfs.ext3 /dev/sdb6</span></span>
<span class="line"><span style="color:#FFCB6B;">mke2fs</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1.39</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">29</span><span style="color:#EEFFFF;">-May-</span><span style="color:#F78C6C;">2006</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">Filesystem</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">label=</span></span>
<span class="line"><span style="color:#FFCB6B;">OS</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">type:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Linux</span></span>
<span class="line"><span style="color:#FFCB6B;">Block</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">size=</span><span style="color:#F78C6C;">4096</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#EEFFFF;">log</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">2</span><span style="color:#EEFFFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">Fragment</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">size=</span><span style="color:#F78C6C;">4096</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#EEFFFF;">log</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">2</span><span style="color:#EEFFFF;">)</span></span>
<span class="line"><span style="color:#F78C6C;">217280</span><span style="color:#EEFFFF;"> inodes, </span><span style="color:#F78C6C;">433747</span><span style="color:#EEFFFF;"> blocks</span></span>
<span class="line"><span style="color:#F78C6C;">21687</span><span style="color:#EEFFFF;"> blocks </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">5.00</span><span style="color:#EEFFFF;">%</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> reserved </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#EEFFFF;"> the super user</span></span>
<span class="line"><span style="color:#FFCB6B;">First</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">data</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">block=</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">Maximum</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">filesystem</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">blocks=</span><span style="color:#F78C6C;">444596224</span></span>
<span class="line"><span style="color:#F78C6C;">14</span><span style="color:#EEFFFF;"> block groups</span></span>
<span class="line"><span style="color:#F78C6C;">32768</span><span style="color:#EEFFFF;"> blocks per group, </span><span style="color:#F78C6C;">32768</span><span style="color:#EEFFFF;"> fragments per group</span></span>
<span class="line"><span style="color:#F78C6C;">15520</span><span style="color:#EEFFFF;"> inodes per group</span></span>
<span class="line"><span style="color:#FFCB6B;">Superblock</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">backups</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">stored</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">on</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">blocks:</span></span>
<span class="line"><span style="color:#EEFFFF;">        </span><span style="color:#FFCB6B;">32768,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">98304</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">163840</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">229376</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">294912</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Writing</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">inode</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">tables:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">done</span><span style="color:#EEFFFF;">                           </span></span>
<span class="line"><span style="color:#FFCB6B;">Creating</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">journal</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">8192</span><span style="color:#EEFFFF;"> blocks</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">: </span><span style="color:#C3E88D;">done</span></span>
<span class="line"><span style="color:#FFCB6B;">Writing</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">superblocks</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">and</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">filesystem</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">accounting</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">information:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">done</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">This</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">filesystem</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">will</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">be</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">automatically</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">checked</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">every</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">32</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">mounts</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">or</span></span>
<span class="line"><span style="color:#F78C6C;">180</span><span style="color:#EEFFFF;"> days, whichever comes first.  Use tune2fs -c or -i to override.</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#EEFFFF;">#</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>建立两个目录<code>/oracle</code>和<code>/web</code>，将新建好的两个分区挂载到系统：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#EEFFFF;"># mkdir /oracle</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#EEFFFF;"># mkdir /web</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#EEFFFF;"># mount /dev/sdb1 /oracle</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#EEFFFF;"># mount /dev/sdb6 /web</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>查看分区挂载情况：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#EEFFFF;"># df -h</span></span>
<span class="line"><span style="color:#FFCB6B;">文件系统</span><span style="color:#EEFFFF;">              </span><span style="color:#C3E88D;">容量</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">已用</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">可用</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">已用%</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">挂载点</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/mapper/VolGroup00-LogVol00</span></span>
<span class="line"><span style="color:#EEFFFF;">                      </span><span style="color:#FFCB6B;">6.7G</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">2.8G</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">3.6G</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">44</span><span style="color:#C3E88D;">%</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/sda1</span><span style="color:#EEFFFF;">              </span><span style="color:#C3E88D;">99M</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">12M</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">82M</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">13</span><span style="color:#C3E88D;">%</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/boot</span></span>
<span class="line"><span style="color:#FFCB6B;">tmpfs</span><span style="color:#EEFFFF;">                 </span><span style="color:#C3E88D;">125M</span><span style="color:#EEFFFF;">     </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">125M</span><span style="color:#EEFFFF;">   </span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">%</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/dev/shm</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/sdb1</span><span style="color:#EEFFFF;">             </span><span style="color:#C3E88D;">773M</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">808K</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">733M</span><span style="color:#EEFFFF;">   </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">%</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/oracle</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/sdb6</span><span style="color:#EEFFFF;">             </span><span style="color:#C3E88D;">1.7G</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">35M</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">1.6G</span><span style="color:#EEFFFF;">   </span><span style="color:#F78C6C;">3</span><span style="color:#C3E88D;">%</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/web</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>如果需要每次开机自动挂载则需要修改<code>/etc/fstab</code>文件，加入两行配置：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">root@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#EEFFFF;"># vim /etc/fstab</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">/dev/VolGroup00/LogVol00</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/</span><span style="color:#EEFFFF;">                       </span><span style="color:#C3E88D;">ext3</span><span style="color:#EEFFFF;">    </span><span style="color:#C3E88D;">defaults</span><span style="color:#EEFFFF;">        </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#EEFFFF;">LABEL</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/boot</span><span style="color:#EEFFFF;">             /boot                   ext3    defaults        </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#FFCB6B;">tmpfs</span><span style="color:#EEFFFF;">                   </span><span style="color:#C3E88D;">/dev/shm</span><span style="color:#EEFFFF;">                </span><span style="color:#C3E88D;">tmpfs</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">defaults</span><span style="color:#EEFFFF;">        </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">devpts</span><span style="color:#EEFFFF;">                  </span><span style="color:#C3E88D;">/dev/pts</span><span style="color:#EEFFFF;">                </span><span style="color:#C3E88D;">devpts</span><span style="color:#EEFFFF;">  </span><span style="color:#C3E88D;">gid=</span><span style="color:#F78C6C;">5</span><span style="color:#C3E88D;">,mode=</span><span style="color:#F78C6C;">620</span><span style="color:#EEFFFF;">  </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">sysfs</span><span style="color:#EEFFFF;">                   </span><span style="color:#C3E88D;">/sys</span><span style="color:#EEFFFF;">                    </span><span style="color:#C3E88D;">sysfs</span><span style="color:#EEFFFF;">   </span><span style="color:#C3E88D;">defaults</span><span style="color:#EEFFFF;">        </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">proc</span><span style="color:#EEFFFF;">                    </span><span style="color:#C3E88D;">/proc</span><span style="color:#EEFFFF;">                   </span><span style="color:#C3E88D;">proc</span><span style="color:#EEFFFF;">    </span><span style="color:#C3E88D;">defaults</span><span style="color:#EEFFFF;">        </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/VolGroup00/LogVol01</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">swap</span><span style="color:#EEFFFF;">                    </span><span style="color:#C3E88D;">swap</span><span style="color:#EEFFFF;">    </span><span style="color:#C3E88D;">defaults</span><span style="color:#EEFFFF;">        </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/sdb1</span><span style="color:#EEFFFF;">               </span><span style="color:#C3E88D;">/oracle</span><span style="color:#EEFFFF;">                 </span><span style="color:#C3E88D;">ext2</span><span style="color:#EEFFFF;">    </span><span style="color:#C3E88D;">defaults</span><span style="color:#EEFFFF;">        </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/sdb6</span><span style="color:#EEFFFF;">               </span><span style="color:#C3E88D;">/web</span><span style="color:#EEFFFF;">                    </span><span style="color:#C3E88D;">ext3</span><span style="color:#EEFFFF;">    </span><span style="color:#C3E88D;">defaults</span><span style="color:#EEFFFF;">        </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div>`,48),F=[o];function e(r,c,t,E,y,C){return a(),n("div",null,F)}const b=s(p,[["render",e]]);export{D as __pageData,b as default};
