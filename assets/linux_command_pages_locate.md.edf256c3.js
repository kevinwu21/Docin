import{_ as s,c as n,o as a,a as l}from"./app.82736834.js";const b=JSON.parse('{"title":"locate","description":"","frontmatter":{},"headers":[{"level":2,"title":"补充说明","slug":"补充说明","link":"#补充说明","children":[{"level":3,"title":"语法","slug":"语法","link":"#语法","children":[]},{"level":3,"title":"选项","slug":"选项","link":"#选项","children":[]},{"level":3,"title":"实例","slug":"实例","link":"#实例","children":[]}]}],"relativePath":"linux/command/pages/locate.md","lastUpdated":1666509709000}'),p={name:"linux/command/pages/locate.md"},e=l(`<h1 id="locate" tabindex="-1">locate <a class="header-anchor" href="#locate" aria-hidden="true">#</a></h1><p>比 find 好用的文件查找工具</p><h2 id="补充说明" tabindex="-1">补充说明 <a class="header-anchor" href="#补充说明" aria-hidden="true">#</a></h2><p>locate 让使用者可以很快速的搜寻档案系统内是否有指定的档案。其方法是先建立一个包括系统内所有档案名称及路径的数据库，之后当寻找时就只需查询这个数据库，而不必实际深入档案系统之中了。在一般的 distribution 之中，数据库的建立都被放在 crontab 中自动执行。</p><p>locate命令可以在搜寻数据库时快速找到档案，数据库由updatedb程序来更新，updatedb是由cron daemon周期性建立的，locate命令在搜寻数据库时比由整个由硬盘资料来搜寻资料来得快，但较差劲的是locate所找到的档案若是最近才建立或 刚更名的，可能会找不到，在内定值中，updatedb每天会跑一次，可以由修改crontab来更新设定值。(etc/crontab)</p><p>locate指定用在搜寻符合条件的档案，它会去储存档案与目录名称的数据库内，寻找合乎范本样式条件的档案或目录录，可以使用特殊字元（如”<em>” 或”?”等）来指定范本样式，如指定范本为kcpa</em>ner, locate 会找出所有起始字串为kcpa且结尾为ner的档案或目录，如名称为kcpartner若目录录名称为kcpa_ner则会列出该目录下包括 子目录在内的所有档案。</p><p>locate指令和find找寻档案的功能类似，但locate是透过update程序将硬盘中的所有档案和目录资料先建立一个索引数据库，在 执行loacte时直接找该索引，查询速度会较快，索引数据库一般是由操作系统管理，但也可以直接下达update强迫系统立即修改索引数据库。</p><h3 id="语法" tabindex="-1">语法 <a class="header-anchor" href="#语法" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">locate</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">-d  path </span><span style="color:#89DDFF;">|</span><span style="color:#EEFFFF;"> --database</span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;">path</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">-e </span><span style="color:#89DDFF;">|</span><span style="color:#EEFFFF;"> -E </span><span style="color:#89DDFF;">|</span><span style="color:#EEFFFF;"> --</span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">non-</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;">existing</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">-i </span><span style="color:#89DDFF;">|</span></span>
<span class="line"><span style="color:#EEFFFF;">       --ignore-case</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">|</span><span style="color:#EEFFFF;"> --null</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">-c </span><span style="color:#89DDFF;">|</span><span style="color:#EEFFFF;"> --count</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">-w </span><span style="color:#89DDFF;">|</span><span style="color:#EEFFFF;">  --wholename</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;">  </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">-b  </span><span style="color:#89DDFF;">|</span></span>
<span class="line"><span style="color:#EEFFFF;">       --basename</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;">  </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">-l  N  </span><span style="color:#89DDFF;">|</span><span style="color:#EEFFFF;">  --limit</span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;">N</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;">  </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">-S </span><span style="color:#89DDFF;">|</span><span style="color:#EEFFFF;"> --statistics</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">-r </span><span style="color:#89DDFF;">|</span><span style="color:#EEFFFF;"> --regex </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#EEFFFF;">       </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">--regextype R</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">--max-database-age D</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">-P </span><span style="color:#89DDFF;">|</span><span style="color:#EEFFFF;"> -H  </span><span style="color:#89DDFF;">|</span><span style="color:#EEFFFF;">  --nofollow</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;">  </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">-L  </span><span style="color:#89DDFF;">|</span></span>
<span class="line"><span style="color:#EEFFFF;">       --follow</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">--version</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">-A </span><span style="color:#89DDFF;">|</span><span style="color:#EEFFFF;"> --all</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">-p </span><span style="color:#89DDFF;">|</span><span style="color:#EEFFFF;"> --print</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">--help</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#FFCB6B;">pattern.</span><span style="color:#82AAFF;">..</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="选项" tabindex="-1">选项 <a class="header-anchor" href="#选项" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">-b,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--basename</span><span style="color:#EEFFFF;">  </span><span style="color:#545454;font-style:italic;"># 仅匹配路径名的基本名称</span></span>
<span class="line"><span style="color:#FFCB6B;">-c,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--count</span><span style="color:#EEFFFF;">     </span><span style="color:#545454;font-style:italic;"># 只输出找到的数量</span></span>
<span class="line"><span style="color:#FFCB6B;">-d,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--database</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">DBPATH</span><span style="color:#EEFFFF;"> </span><span style="color:#545454;font-style:italic;"># 使用DBPATH指定的数据库，而不是默认数据库 /var/lib/mlocate/mlocate.db</span></span>
<span class="line"><span style="color:#FFCB6B;">-e,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--existing</span><span style="color:#EEFFFF;">  </span><span style="color:#545454;font-style:italic;"># 仅打印当前现有文件的条目</span></span>
<span class="line"><span style="color:#FFCB6B;">-1</span><span style="color:#EEFFFF;"> </span><span style="color:#545454;font-style:italic;"># 如果 是 1．则启动安全模式。在安全模式下，使用者不会看到权限无法看到 的档案。这会始速度减慢，因为 locate 必须至实际的档案系统中取得档案的  权限资料。</span></span>
<span class="line"><span style="color:#FFCB6B;">-0,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--null</span><span style="color:#EEFFFF;">            </span><span style="color:#545454;font-style:italic;"># 在输出上带有NUL的单独条目</span></span>
<span class="line"><span style="color:#FFCB6B;">-S,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--statistics</span><span style="color:#EEFFFF;">      </span><span style="color:#545454;font-style:italic;"># 不搜索条目，打印有关每个数据库的统计信息</span></span>
<span class="line"><span style="color:#FFCB6B;">-q</span><span style="color:#EEFFFF;">                    </span><span style="color:#545454;font-style:italic;"># 安静模式，不会显示任何错误讯息。</span></span>
<span class="line"><span style="color:#FFCB6B;">-P,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--nofollow,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-H</span><span style="color:#EEFFFF;">    </span><span style="color:#545454;font-style:italic;"># 检查文件存在时不要遵循尾随的符号链接</span></span>
<span class="line"><span style="color:#FFCB6B;">-l,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--limit,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-n</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">LIMIT</span><span style="color:#EEFFFF;"> </span><span style="color:#545454;font-style:italic;"># 将输出（或计数）限制为LIMIT个条目</span></span>
<span class="line"><span style="color:#FFCB6B;">-n</span><span style="color:#EEFFFF;">                    </span><span style="color:#545454;font-style:italic;"># 至多显示 n个输出。</span></span>
<span class="line"><span style="color:#FFCB6B;">-m,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--mmap</span><span style="color:#EEFFFF;">            </span><span style="color:#545454;font-style:italic;"># 被忽略，为了向后兼容</span></span>
<span class="line"><span style="color:#FFCB6B;">-r,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--regexp</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">REGEXP</span><span style="color:#EEFFFF;">   </span><span style="color:#545454;font-style:italic;"># 使用基本正则表达式</span></span>
<span class="line"><span style="color:#EEFFFF;">    </span><span style="color:#FFCB6B;">--regex</span><span style="color:#EEFFFF;">           </span><span style="color:#545454;font-style:italic;"># 使用扩展正则表达式</span></span>
<span class="line"><span style="color:#FFCB6B;">-q,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--quiet</span><span style="color:#EEFFFF;">           </span><span style="color:#545454;font-style:italic;"># 安静模式，不会显示任何错误讯息</span></span>
<span class="line"><span style="color:#FFCB6B;">-s,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--stdio</span><span style="color:#EEFFFF;">           </span><span style="color:#545454;font-style:italic;"># 被忽略，为了向后兼容</span></span>
<span class="line"><span style="color:#FFCB6B;">-o</span><span style="color:#EEFFFF;">                    </span><span style="color:#545454;font-style:italic;"># 指定资料库存的名称。</span></span>
<span class="line"><span style="color:#FFCB6B;">-h,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--help</span><span style="color:#EEFFFF;">            </span><span style="color:#545454;font-style:italic;"># 显示帮助</span></span>
<span class="line"><span style="color:#FFCB6B;">-i,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--ignore-case</span><span style="color:#EEFFFF;">     </span><span style="color:#545454;font-style:italic;"># 忽略大小写</span></span>
<span class="line"><span style="color:#FFCB6B;">-V,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--version</span><span style="color:#EEFFFF;">         </span><span style="color:#545454;font-style:italic;"># 显示版本信息</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="实例" tabindex="-1">实例 <a class="header-anchor" href="#实例" aria-hidden="true">#</a></h3><p>实例1：查找和 <code>pwd</code> 相关的所有文件</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">root</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">~</span><span style="color:#EEFFFF;"> </span><span style="color:#545454;font-style:italic;"># locate pwd</span></span>
<span class="line"><span style="color:#FFCB6B;">/bin/</span><span style="color:#82AAFF;">pwd</span></span>
<span class="line"><span style="color:#FFCB6B;">/etc/.</span><span style="color:#82AAFF;">pwd</span><span style="color:#FFCB6B;">.lock</span></span>
<span class="line"><span style="color:#FFCB6B;">/sbin/unix_chkpwd</span></span>
<span class="line"><span style="color:#FFCB6B;">/usr/bin/pwdx</span></span>
<span class="line"><span style="color:#FFCB6B;">/usr/include/</span><span style="color:#82AAFF;">pwd</span><span style="color:#FFCB6B;">.h</span></span>
<span class="line"><span style="color:#FFCB6B;">/usr/lib/python2.7/dist-packages/twisted/python/fakepwd.py</span></span>
<span class="line"><span style="color:#FFCB6B;">/usr/lib/python2.7/dist-packages/twisted/python/fakepwd.pyc</span></span>
<span class="line"><span style="color:#FFCB6B;">/usr/lib/python2.7/dist-packages/twisted/python/</span><span style="color:#82AAFF;">test</span><span style="color:#FFCB6B;">/test_fakepwd.py</span></span>
<span class="line"><span style="color:#FFCB6B;">/usr/lib/python2.7/dist-packages/twisted/python/</span><span style="color:#82AAFF;">test</span><span style="color:#FFCB6B;">/test_fakepwd.pyc</span></span>
<span class="line"><span style="color:#FFCB6B;">/usr/lib/syslinux/</span><span style="color:#82AAFF;">pwd</span><span style="color:#FFCB6B;">.c32</span></span>
<span class="line"><span style="color:#FFCB6B;">/usr/share/help/C/empathy/irc-join-</span><span style="color:#82AAFF;">pwd</span><span style="color:#FFCB6B;">.page</span></span>
<span class="line"><span style="color:#FFCB6B;">/usr/share/help/ca/empathy/irc-join-</span><span style="color:#82AAFF;">pwd</span><span style="color:#FFCB6B;">.page</span></span>
<span class="line"><span style="color:#FFCB6B;">/usr/share/help/cs/empathy/irc-join-</span><span style="color:#82AAFF;">pwd</span><span style="color:#FFCB6B;">.page</span></span>
<span class="line"><span style="color:#FFCB6B;">/usr/share/help/de/empathy/irc-join-</span><span style="color:#82AAFF;">pwd</span><span style="color:#FFCB6B;">.page</span></span>
<span class="line"><span style="color:#FFCB6B;">/usr/share/help/el/empathy/irc-join-</span><span style="color:#82AAFF;">pwd</span><span style="color:#FFCB6B;">.page</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>实例2： 搜索 etc 目录下所有以 sh 开头的文件</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">root</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">~</span><span style="color:#EEFFFF;"> </span><span style="color:#545454;font-style:italic;"># locate /etc/sh</span></span>
<span class="line"><span style="color:#FFCB6B;">/etc/shadow</span></span>
<span class="line"><span style="color:#FFCB6B;">/etc/shadow-</span></span>
<span class="line"><span style="color:#FFCB6B;">/etc/shells</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>实例3：搜索etc目录下，所有以m开头的文件</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">root</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">~</span><span style="color:#EEFFFF;"> </span><span style="color:#545454;font-style:italic;"># locate /etc/m</span></span>
<span class="line"><span style="color:#FFCB6B;">/etc/magic</span></span>
<span class="line"><span style="color:#FFCB6B;">/etc/magic.mime</span></span>
<span class="line"><span style="color:#FFCB6B;">/etc/mailcap</span></span>
<span class="line"><span style="color:#FFCB6B;">/etc/mailcap.order</span></span>
<span class="line"><span style="color:#FFCB6B;">/etc/manpath.config</span></span>
<span class="line"><span style="color:#FFCB6B;">/etc/mate-settings-daemon</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>忽略大小写搜索当前用户目录下所有以 <code>r</code> 开头的文件 ：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">locate</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">~/r</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,20),o=[e];function F(c,t,r,i,y,E){return a(),n("div",null,o)}const D=s(p,[["render",F]]);export{b as __pageData,D as default};
