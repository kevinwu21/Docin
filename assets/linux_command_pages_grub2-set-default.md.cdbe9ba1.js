import{_ as s,c as n,o as a,a as l}from"./app.82736834.js";const D=JSON.parse('{"title":"grub2-set-default","description":"","frontmatter":{},"headers":[{"level":2,"title":"语法","slug":"语法","link":"#语法","children":[]},{"level":2,"title":"实例","slug":"实例","link":"#实例","children":[]}],"relativePath":"linux/command/pages/grub2-set-default.md","lastUpdated":1666509709000}'),p={name:"linux/command/pages/grub2-set-default.md"},e=l(`<h1 id="grub2-set-default" tabindex="-1">grub2-set-default <a class="header-anchor" href="#grub2-set-default" aria-hidden="true">#</a></h1><p>设置系统默认的启动内核</p><h2 id="语法" tabindex="-1">语法 <a class="header-anchor" href="#语法" aria-hidden="true">#</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">Usage:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">grub2-set-default</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">OPTION</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">MENU_ENTRY</span></span>
<span class="line"><span style="color:#FFCB6B;">Set</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">the</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">default</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">boot</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">menu</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">entry</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">for</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">GRUB.</span></span>
<span class="line"><span style="color:#FFCB6B;">This</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">requires</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">setting</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">GRUB_DEFAULT=saved</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">in</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/etc/default/grub.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#EEFFFF;">  </span><span style="color:#FFCB6B;">-h,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--help</span><span style="color:#EEFFFF;">              </span><span style="color:#C3E88D;">print</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">this</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">message</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">and</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">exit</span></span>
<span class="line"><span style="color:#EEFFFF;">  </span><span style="color:#FFCB6B;">-v,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--version</span><span style="color:#EEFFFF;">           </span><span style="color:#C3E88D;">print</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">the</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">version</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">information</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">and</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">exit</span></span>
<span class="line"><span style="color:#EEFFFF;">  </span><span style="color:#FFCB6B;">--boot-directory=DIR</span><span style="color:#EEFFFF;">    </span><span style="color:#C3E88D;">expect</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">GRUB</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">images</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">under</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">the</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">directory</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">DIR/grub2</span></span>
<span class="line"><span style="color:#EEFFFF;">                          </span><span style="color:#FFCB6B;">instead</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">of</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">the</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/boot/grub2</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">directory</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">MENU_ENTRY</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">is</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">a</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">number,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">a</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">menu</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">item</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">title</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">or</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">a</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">menu</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">item</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">identifier.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Report</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">bugs</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">to</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">bug-grub@gnu.or</span><span style="color:#EEFFFF;">g</span><span style="color:#89DDFF;">&gt;</span><span style="color:#C3E88D;">.</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="实例" tabindex="-1">实例 <a class="header-anchor" href="#实例" aria-hidden="true">#</a></h2><p>查看可选的系统内核：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#545454;font-style:italic;"># awk -F\\&#39; &#39;$1==&quot;menuentry &quot; {print $2}&#39; /etc/grub2.cfg</span></span>
<span class="line"><span style="color:#FFCB6B;">CentOS</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Linux</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#EEFFFF;">5.4.219-1.el7.elrepo.x86_64</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">7</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">Core</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">CentOS</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Linux</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#EEFFFF;">3.10.0-1160.76.1.el7.x86_64</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">7</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">Core</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">CentOS</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Linux</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#EEFFFF;">3.10.0-862.el7.x86_64</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">7</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">Core</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">CentOS</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Linux</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;">-rescue-3221d376917c458992a952d6327f2d6a</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">7</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">Core</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>grub2-set-default后面的序号从0开始。所以，如果想设置第一个选项为默认启动内核，则可以使用下面的命令：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#545454;font-style:italic;"># grub2-set-default 0</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果想使用CentOS Linux (3.10.0-862.el7.x86_64) 7 (Core)内核版本,则可以将0改为2</p><p>重启系统</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">~</span><span style="color:#EEFFFF;">]# init </span><span style="color:#F78C6C;">6</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,12),o=[e];function F(r,t,c,E,y,i){return a(),n("div",null,o)}const d=s(p,[["render",F]]);export{D as __pageData,d as default};
