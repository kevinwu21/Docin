import{_ as s,c as a,o as n,a as l}from"./app.82736834.js";const u=JSON.parse('{"title":"read","description":"","frontmatter":{},"headers":[{"level":2,"title":"补充说明","slug":"补充说明","link":"#补充说明","children":[{"level":3,"title":"语法","slug":"语法","link":"#语法","children":[]},{"level":3,"title":"选项","slug":"选项","link":"#选项","children":[]},{"level":3,"title":"参数","slug":"参数","link":"#参数","children":[]},{"level":3,"title":"实例","slug":"实例","link":"#实例","children":[]}]},{"level":2,"title":"read命令示例","slug":"read命令示例","link":"#read命令示例","children":[]}],"relativePath":"linux/command/pages/read.md","lastUpdated":1666509709000}'),e={name:"linux/command/pages/read.md"},p=l(`<h1 id="read" tabindex="-1">read <a class="header-anchor" href="#read" aria-hidden="true">#</a></h1><p>从键盘读取变量值</p><h2 id="补充说明" tabindex="-1">补充说明 <a class="header-anchor" href="#补充说明" aria-hidden="true">#</a></h2><p><strong>read命令</strong> 从键盘读取变量的值，通常用在shell脚本中与用户进行交互的场合。该命令可以一次读取多个变量的值，变量和输入的值都需要使用空格隔开。在read命令后面，如果没有指定变量名，读取的数据将被自动赋值给特定的变量REPLY</p><h3 id="语法" tabindex="-1">语法 <a class="header-anchor" href="#语法" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">read</span><span style="color:#FFCB6B;">(选项</span><span style="color:#EEFFFF;">)</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">参数</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="选项" tabindex="-1">选项 <a class="header-anchor" href="#选项" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">-p：指定读取值时的提示符；</span></span>
<span class="line"><span style="color:#FFCB6B;">-t：指定读取值时等待的时间（秒）。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="参数" tabindex="-1">参数 <a class="header-anchor" href="#参数" aria-hidden="true">#</a></h3><p>变量：指定读取值的变量名。</p><h3 id="实例" tabindex="-1">实例 <a class="header-anchor" href="#实例" aria-hidden="true">#</a></h3><p>下面的列表给出了read命令的常用方式：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">read</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">1987name</span></span>
<span class="line"><span style="color:#FFCB6B;">从标准输入读取输入并赋值给变量1987name。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">read</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">first</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">last</span></span>
<span class="line"><span style="color:#FFCB6B;">从标准输入读取输入到第一个空格或者回车，将输入的第一个单词放到变量first中，并将该行其他的输入放在变量last中。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">read</span></span>
<span class="line"><span style="color:#FFCB6B;">从标准输入读取一行并赋值给特定变量REPLY。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">read</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">arrayname</span></span>
<span class="line"><span style="color:#FFCB6B;">把单词清单读入arrayname的数组里。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">read</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">打印提示（text），等待输入，并将输入存储在REPLY中。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">read</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">line</span></span>
<span class="line"><span style="color:#FFCB6B;">允许输入包含反斜杠。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">read</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-t</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">3</span></span>
<span class="line"><span style="color:#FFCB6B;">指定读取等待时间为3秒。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">read</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-n</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">2</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">var</span></span>
<span class="line"><span style="color:#FFCB6B;">从输入中读取两个字符并存入变量var，不需要按回车读取。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">read</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">var</span></span>
<span class="line"><span style="color:#FFCB6B;">用定界符“</span><span style="color:#82AAFF;">:</span><span style="color:#FFCB6B;">”结束输入行。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="read命令示例" tabindex="-1">read命令示例 <a class="header-anchor" href="#read命令示例" aria-hidden="true">#</a></h2><p>从标准输入读取输入并赋值给变量1987name。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#545454;font-style:italic;">#read 1987name        #等待读取输入，直到回车后表示输入完毕，并将输入赋值给变量answer</span></span>
<span class="line"><span style="color:#FFCB6B;">HelloWorld</span><span style="color:#EEFFFF;">            </span><span style="color:#545454;font-style:italic;">#控制台输入Hello</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;">#echo $1987name       #打印变量</span></span>
<span class="line"><span style="color:#FFCB6B;">HelloWorld</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>等待一组输入，每个单词之间使用空格隔开，直到回车结束，并分别将单词依次赋值给这三个读入变量。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#545454;font-style:italic;">#read one two three</span></span>
<span class="line"><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">2</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">3</span><span style="color:#EEFFFF;">                   </span><span style="color:#545454;font-style:italic;">#在控制台输入1 2 3，它们之间用空格隔开。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;">#echo &quot;one = $one, two = $two, three = $three&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">one</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">two</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">2</span><span style="color:#C3E88D;">,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">three</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">3</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>REPLY示例</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#545454;font-style:italic;">#read                  #等待控制台输入，并将结果赋值给特定内置变量REPLY。</span></span>
<span class="line"><span style="color:#FFCB6B;">This</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">is</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">REPLY</span><span style="color:#EEFFFF;">          </span><span style="color:#545454;font-style:italic;">#在控制台输入该行。 </span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;">#echo $REPLY           #打印输出特定内置变量REPLY，以确认是否被正确赋值。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">This</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">is</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">REPLY</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>-p选项示例</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#545454;font-style:italic;">#read -p &quot;Enter your name: &quot;            #输出文本提示，同时等待输入，并将结果赋值给REPLY。</span></span>
<span class="line"><span style="color:#FFCB6B;">Enter</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">you</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">name:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">stephen</span><span style="color:#EEFFFF;">                 </span><span style="color:#545454;font-style:italic;">#在提示文本之后输入stephen</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;">#echo $REPLY</span></span>
<span class="line"><span style="color:#FFCB6B;">stephen</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>等待控制台输入，并将输入信息视为数组，赋值给数组变量friends，输入信息用空格隔开数组的每个元素。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#545454;font-style:italic;">#read -a friends</span></span>
<span class="line"><span style="color:#FFCB6B;">Tim</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Tom</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Helen</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;">#echo &quot;They are \${friends[0]}, \${friends[1]} and \${friends[2]}.&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">They</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">are</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Tim,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Tom</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">and</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Helen.</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>补充一个终端输入密码时候，不让密码显示出来的例子。</strong></p><p>方法1：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#545454;font-style:italic;">#!/bin/bash</span></span>
<span class="line"><span style="color:#82AAFF;">read</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">输入密码：</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">pwd</span></span>
<span class="line"><span style="color:#82AAFF;">echo</span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">password</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">read,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">is</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;">$pwd</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>方法2：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#545454;font-style:italic;">#!/bin/bash</span></span>
<span class="line"><span style="color:#FFCB6B;">stty</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-echo</span></span>
<span class="line"><span style="color:#82AAFF;">read</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">输入密码：</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">pwd</span></span>
<span class="line"><span style="color:#FFCB6B;">stty</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">echo</span></span>
<span class="line"><span style="color:#82AAFF;">echo</span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">输入完毕。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>其中，选项<code>-echo</code>禁止将输出发送到终端，而选项<code>echo</code>则允许发送输出。</p><p>使用read命令从键盘读取变量值，并且将值赋给指定的变量，输入如下命令：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">read</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">v1</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">v3</span><span style="color:#EEFFFF;">          </span><span style="color:#545454;font-style:italic;">#读取变量值</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>执行上面的指令以后，要求键入两个数据，如下所示：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">Linux</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">c+</span><span style="color:#EEFFFF;">            </span><span style="color:#545454;font-style:italic;">#输入数据</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>完成之后，可以使用echo命令将指定的变量值输出查看，输入如下命令：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#EEFFFF;"> $v1 $v3       </span><span style="color:#545454;font-style:italic;">#输出变量的值</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>执行输出变量值的命令以后，将显示用户所输入的数据值，如下所示：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">Linux</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">c+</span><span style="color:#EEFFFF;">           </span><span style="color:#545454;font-style:italic;">#输出变量值</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>注意：使用echo命令输出变量值时，必须在变量名前添加符号<code>$</code>。否则，echo将直接输出变量名。</p>`,47),o=[p];function r(c,t,i,F,d,y){return n(),a("div",null,o)}const E=s(e,[["render",r]]);export{u as __pageData,E as default};
