import{_ as s,c as a,o as n,a as l}from"./app.82736834.js";const d=JSON.parse('{"title":"伪分布式搭建","description":"","frontmatter":{},"headers":[{"level":2,"title":"1.确保ssh对自己可以免密","slug":"_1-确保ssh对自己可以免密","link":"#_1-确保ssh对自己可以免密","children":[]},{"level":2,"title":"2.下载 hadoop-3.1.4.tar.gz","slug":"_2-下载-hadoop-3-1-4-tar-gz","link":"#_2-下载-hadoop-3-1-4-tar-gz","children":[]},{"level":2,"title":"3.解压hadoop安装文件","slug":"_3-解压hadoop安装文件","link":"#_3-解压hadoop安装文件","children":[]},{"level":2,"title":"4.配置环境变量","slug":"_4-配置环境变量","link":"#_4-配置环境变量","children":[]},{"level":2,"title":"5.配置hadoop-3.1.4/etc/hadoop/hadoop-env.sh文件","slug":"_5-配置hadoop-3-1-4-etc-hadoop-hadoop-env-sh文件","link":"#_5-配置hadoop-3-1-4-etc-hadoop-hadoop-env-sh文件","children":[]},{"level":2,"title":"6.配置hadoop-3.1.4/etc/hadoop/core-site.xml文件","slug":"_6-配置hadoop-3-1-4-etc-hadoop-core-site-xml文件","link":"#_6-配置hadoop-3-1-4-etc-hadoop-core-site-xml文件","children":[]},{"level":2,"title":"7.配置hadoop-3.1.4/etc/hadoop/hdfs-site.xml文件","slug":"_7-配置hadoop-3-1-4-etc-hadoop-hdfs-site-xml文件","link":"#_7-配置hadoop-3-1-4-etc-hadoop-hdfs-site-xml文件","children":[]},{"level":2,"title":"8.配置workers文件","slug":"_8-配置workers文件","link":"#_8-配置workers文件","children":[]},{"level":2,"title":"9.测试运行","slug":"_9-测试运行","link":"#_9-测试运行","children":[]},{"level":2,"title":"10.案例测试","slug":"_10-案例测试","link":"#_10-案例测试","children":[]}],"relativePath":"linux/hadoop/2pseudoDistribution.md","lastUpdated":1666176966000}'),p={name:"linux/hadoop/2pseudoDistribution.md"},o=l(`<h1 id="伪分布式搭建" tabindex="-1">伪分布式搭建 <a class="header-anchor" href="#伪分布式搭建" aria-hidden="true">#</a></h1><p>Hadoop可以在单节点上以所谓的伪分布式模式运行，也就是一台机器承但全部的角色。</p><blockquote><p>参考文档：<a href="https://hadoop.apache.org/docs/r3.1.4/hadoop-project-dist/hadoop-common/SingleCluster.html#Pseudo-Distributed_Operation" target="_blank" rel="noreferrer">https://hadoop.apache.org/docs/r3.1.4/hadoop-project-dist/hadoop-common/SingleCluster.html#Pseudo-Distributed_Operation</a></p></blockquote><div class="warning custom-block"><p class="custom-block-title">注意</p><p>本篇文章全部都在 node01 进行操作</p></div><h2 id="_1-确保ssh对自己可以免密" tabindex="-1">1.确保ssh对自己可以免密 <a class="header-anchor" href="#_1-确保ssh对自己可以免密" aria-hidden="true">#</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">ssh-copy-id</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">hadoop@localhost</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_2-下载-hadoop-3-1-4-tar-gz" tabindex="-1">2.下载 hadoop-3.1.4.tar.gz <a class="header-anchor" href="#_2-下载-hadoop-3-1-4-tar-gz" aria-hidden="true">#</a></h2><p>123网盘：</p><blockquote><p><a href="https://www.123pan.com/s/zCYKVv-sJXR" target="_blank" rel="noreferrer">hadoop-3.1.4</a>（精简版)(推荐）</p></blockquote><p>阿里云镜像：</p><blockquote><p><a href="https://mirrors.aliyun.com/apache/hadoop/common/hadoop-3.3.4/hadoop-3.3.4.tar.gz" target="_blank" rel="noreferrer">https://mirrors.aliyun.com/apache/hadoop/common/hadoop-3.3.4/hadoop-3.3.4.tar.gz</a></p></blockquote><div class="warning custom-block"><p class="custom-block-title">提示</p><p>下载完成后，上传到虚拟机</p></div><h2 id="_3-解压hadoop安装文件" tabindex="-1">3.解压hadoop安装文件 <a class="header-anchor" href="#_3-解压hadoop安装文件" aria-hidden="true">#</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#545454;font-style:italic;"># 解压</span></span>
<span class="line"><span style="color:#FFCB6B;">tar</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-xvf</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">hadoop-3.1.4.tar.gz</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 创建 hadoop 数据目录</span></span>
<span class="line"><span style="color:#FFCB6B;">mkdir</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/home/hadoop/hadoop-data/pseudo</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_4-配置环境变量" tabindex="-1">4.配置环境变量 <a class="header-anchor" href="#_4-配置环境变量" aria-hidden="true">#</a></h2><p><strong>以hadoop用户登录，在/home/hadoop/.bash_profile做如下配置：</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#545454;font-style:italic;"># JAVA_HOME 指定jdk的路径，也就是JKD的解压路径</span></span>
<span class="line"><span style="color:#C792EA;">export</span><span style="color:#EEFFFF;"> JAVA_HOME</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/home/hadoop/jdk1.8.0_281</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 配置HADOOP_HOME，hadoop的路径</span></span>
<span class="line"><span style="color:#C792EA;">export</span><span style="color:#EEFFFF;"> HADOOP_HOME</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/home/hadoop/hadoop-3.1.4</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 指定classpath</span></span>
<span class="line"><span style="color:#C792EA;">export</span><span style="color:#EEFFFF;"> CLASSPATH</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">.:</span><span style="color:#EEFFFF;">$JAVA_HOME</span><span style="color:#C3E88D;">/lib/tools.jar:</span><span style="color:#EEFFFF;">$JAVA_HOME</span><span style="color:#C3E88D;">/lib/dt.jar:</span><span style="color:#EEFFFF;">$JAVA_HOME</span><span style="color:#C3E88D;">/lib</span></span>
<span class="line"></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 把jdk的bin目录加到path环境变量，把hadoop的bin、sbin目录加到环境变量</span></span>
<span class="line"><span style="color:#C792EA;">export</span><span style="color:#EEFFFF;"> PATH</span><span style="color:#89DDFF;">=</span><span style="color:#EEFFFF;">$PATH</span><span style="color:#C3E88D;">:</span><span style="color:#EEFFFF;">$JAVA_HOME</span><span style="color:#C3E88D;">/bin:</span><span style="color:#EEFFFF;">$HADOOP_HOME</span><span style="color:#C3E88D;">/bin:</span><span style="color:#EEFFFF;">$HADOOP_HOME</span><span style="color:#C3E88D;">/sbin</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="_5-配置hadoop-3-1-4-etc-hadoop-hadoop-env-sh文件" tabindex="-1">5.配置hadoop-3.1.4/etc/hadoop/hadoop-env.sh文件 <a class="header-anchor" href="#_5-配置hadoop-3-1-4-etc-hadoop-hadoop-env-sh文件" aria-hidden="true">#</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#545454;font-style:italic;"># 配置JAVA_HOME</span></span>
<span class="line"><span style="color:#C792EA;">export</span><span style="color:#EEFFFF;"> JAVA_HOME</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/home/hadoop/jdk1.8.0_281</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 配置HADOOP_HOME</span></span>
<span class="line"><span style="color:#C792EA;">export</span><span style="color:#EEFFFF;"> HADOOP_HOME</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">/home/hadoop/hadoop-3.1.4</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="https://notewk-1304925042.cos.ap-guangzhou.myqcloud.com/notewk/hadoop29.jpg" alt="hadoop29"></p><h2 id="_6-配置hadoop-3-1-4-etc-hadoop-core-site-xml文件" tabindex="-1">6.配置hadoop-3.1.4/etc/hadoop/core-site.xml文件 <a class="header-anchor" href="#_6-配置hadoop-3-1-4-etc-hadoop-core-site-xml文件" aria-hidden="true">#</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">&lt;?</span><span style="color:#EEFFFF;">xml version</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> encoding</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">UTF-8</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">?&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;?</span><span style="color:#EEFFFF;">xml-stylesheet type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text/xsl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">configuration.xsl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">?&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#EEFFFF;">configuration</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">	</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">property&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">		</span><span style="color:#89DDFF;">&lt;!</span><span style="color:#FFCB6B;">--</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">配置HDFS</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">		</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">name&gt;fs.defaultFS&lt;/name&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">		</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">value&gt;hdfs://localhost:9000&lt;/value&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">	</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">/property&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">	</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">property&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">		</span><span style="color:#89DDFF;">&lt;!</span><span style="color:#FFCB6B;">--</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">hadoop临时目录</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">		</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">name&gt;hadoop.tmp.dir&lt;/name&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">		</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">value&gt;/home/hadoop/hadoop-data/pseudo&lt;/value&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">	</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">/property&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#EEFFFF;">/configuration</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="_7-配置hadoop-3-1-4-etc-hadoop-hdfs-site-xml文件" tabindex="-1">7.配置hadoop-3.1.4/etc/hadoop/hdfs-site.xml文件 <a class="header-anchor" href="#_7-配置hadoop-3-1-4-etc-hadoop-hdfs-site-xml文件" aria-hidden="true">#</a></h2><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">&lt;?</span><span style="color:#EEFFFF;">xml version</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> encoding</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">UTF-8</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">?&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;?</span><span style="color:#EEFFFF;">xml-stylesheet type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text/xsl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#EEFFFF;"> href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">configuration.xsl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">?&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#EEFFFF;">configuration</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">	</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">property&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">		</span><span style="color:#89DDFF;">&lt;!</span><span style="color:#FFCB6B;">--</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">配置副本数</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">		</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">name&gt;dfs.replication&lt;/name&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">		</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">value&gt;1&lt;/value&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">/property&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">property&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">		</span><span style="color:#89DDFF;">&lt;!</span><span style="color:#FFCB6B;">--</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">配置secondary</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">--</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">		</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">name&gt;dfs.namenode.secondary.http-address&lt;/name&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">		</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">value&gt;localhost:9868&lt;/value&gt;</span></span>
<span class="line"><span style="color:#EEFFFF;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">/property&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#EEFFFF;">/configuration</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="_8-配置workers文件" tabindex="-1">8.配置workers文件 <a class="header-anchor" href="#_8-配置workers文件" aria-hidden="true">#</a></h2><p>hadoop3.x 版本以前叫 slavers</p><p>里面配置的是 DataNode 信息。<img src="https://notewk-1304925042.cos.ap-guangzhou.myqcloud.com/notewk/hadoop30.jpg" alt="hadoop30"></p><p>伪分布式需要在workers文件中配置localhost，如果已经是localhost则不需要更改</p><p><img src="https://notewk-1304925042.cos.ap-guangzhou.myqcloud.com/notewk/hadoop31.jpg" alt="hadoop31"></p><h2 id="_9-测试运行" tabindex="-1">9.<strong>测试运行</strong> <a class="header-anchor" href="#_9-测试运行" aria-hidden="true">#</a></h2><ul><li>进入hadoop主目录。</li></ul><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/home/hadoop/hadoop-3.1.4/bin/</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>格式化文件系统</li></ul><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">hdfs</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">namenode</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-format</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="https://notewk-1304925042.cos.ap-guangzhou.myqcloud.com/notewk/hadoop32.jpg" alt="hadoop32"></p><p>如果能看见：<strong>name has been successfully formatted.</strong> 说明格式化成功了。</p><ul><li>在sbin目录下启动伪分布式(NameNode、DataNode节点)</li></ul><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#545454;font-style:italic;"># 进入sbin目录</span></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/home/hadoop/hadoop-3.1.4/sbin/</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 启动</span></span>
<span class="line"><span style="color:#FFCB6B;">start-dfs.sh</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>查看是否正常启动</li></ul><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">jps</span><span style="color:#EEFFFF;"> </span><span style="color:#545454;font-style:italic;"># jps指令可以查看java进程</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="https://notewk-1304925042.cos.ap-guangzhou.myqcloud.com/notewk/hadoop33.jpg" alt="hadoop33"></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#545454;font-style:italic;"># 一定要有这三个进程，才表示伪分布式启动成功!</span></span>
<span class="line"><span style="color:#F78C6C;">9154</span><span style="color:#EEFFFF;"> NameNode</span></span>
<span class="line"><span style="color:#F78C6C;">9478</span><span style="color:#EEFFFF;"> SecondaryNameNode</span></span>
<span class="line"><span style="color:#F78C6C;">9279</span><span style="color:#EEFFFF;"> DataNode</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>浏览器查看下面三个URL</li></ul><blockquote><p><a href="http://node01:9870/dfshealth.html#tab-overview" target="_blank" rel="noreferrer">http://node01:9870/dfshealth.html#tab-overview</a></p><p><a href="http://node01:9870/dfshealth.html#tab-datanode" target="_blank" rel="noreferrer">http://node01:9870/dfshealth.html#tab-datanode</a></p><p><a href="http://node01:9870/explorer.html#/" target="_blank" rel="noreferrer">http://node01:9870/explorer.html#/</a></p></blockquote><p><img src="https://notewk-1304925042.cos.ap-guangzhou.myqcloud.com/notewk/hadoop34.jpg" alt="hadoop34"></p><p><img src="https://notewk-1304925042.cos.ap-guangzhou.myqcloud.com/notewk/hadoop35.jpg" alt="hadoop35"></p><p><img src="https://notewk-1304925042.cos.ap-guangzhou.myqcloud.com/notewk/hadoop36.jpg" alt="hadoop36"></p><h2 id="_10-案例测试" tabindex="-1">10.案例测试 <a class="header-anchor" href="#_10-案例测试" aria-hidden="true">#</a></h2><p><strong>1.在HDFS里面创建两个目录user、input</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">hdfs</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">dfs</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-mkdir</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/user</span></span>
<span class="line"><span style="color:#FFCB6B;">hdfs</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">dfs</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-mkdir</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/input</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>去查看：<a href="http://node01:9870/explorer.html#/" target="_blank" rel="noreferrer">http://node01:9870/explorer.html#/</a></strong></p><p><strong>2.准备测试文件hello.txt，用来统计词频。</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">hello</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">world</span></span>
<span class="line"><span style="color:#FFCB6B;">hello</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">hadoop</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><img src="https://notewk-1304925042.cos.ap-guangzhou.myqcloud.com/notewk/hadoop38.jpg" alt="hadoop38" style="zoom:67%;"><p><strong>3.把上面的 hello.txt 上传到 hdfs 的目录 /input</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">hdfs</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">dfs</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-put</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">hello.txt</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/input</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="https://notewk-1304925042.cos.ap-guangzhou.myqcloud.com/notewk/hadoop39.jpg" alt="hadoop39"></p><p><strong>4.统计上面 hello.txt 文件的词频</strong></p><p>/home/hadoop/hadoop-3.1.4/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.4.jar 这个jar文件里面会包含大量现成的的案例代码，里面就有一个统计词频的案例叫 “wordcount”。</p><p><img src="https://notewk-1304925042.cos.ap-guangzhou.myqcloud.com/notewk/hadoop40.jpg" alt="hadoop40"></p><p><strong>运行:</strong></p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#EEFFFF;">hadoop jar /home/hadoop/hadoop-3.1.4/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.4.jar wordcount /input/ /output/wc</span></span>
<span class="line"><span style="color:#EEFFFF;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>运行过程:</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#EEFFFF;">hadoop@node01 hadoop-3.1.4</span><span style="color:#89DDFF;">]</span><span style="color:#EEFFFF;">$ hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.4.jar wordcount /input/ /output/wc</span></span>
<span class="line"><span style="color:#F78C6C;">2021</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">03</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">23</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">59</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">43</span><span style="color:#EEFFFF;">,</span><span style="color:#F78C6C;">561</span><span style="color:#EEFFFF;"> INFO mapred.LocalJobRunner: </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> / </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> copied.</span></span>
<span class="line"><span style="color:#F78C6C;">2021</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">03</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">23</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">59</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">43</span><span style="color:#EEFFFF;">,</span><span style="color:#F78C6C;">561</span><span style="color:#EEFFFF;"> INFO reduce.MergeManagerImpl: finalMerge</span></span>
<span class="line"><span style="color:#FFCB6B;">called</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">with</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">in-memory</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">map-outputs</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">and</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">on-disk</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">map-outputs</span></span>
<span class="line"><span style="color:#F78C6C;">2021</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">03</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">23</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">59</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">43</span><span style="color:#EEFFFF;">,</span><span style="color:#F78C6C;">567</span><span style="color:#EEFFFF;"> INFO mapred.Merger: Merging </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> sorted segments</span></span>
<span class="line"><span style="color:#F78C6C;">2021</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">03</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">23</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">59</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">43</span><span style="color:#EEFFFF;">,</span><span style="color:#F78C6C;">567</span><span style="color:#EEFFFF;"> INFO mapred.Merger: Down to the last merge-</span></span>
<span class="line"><span style="color:#FFCB6B;">pass,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">with</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">segments</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">left</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">of</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">total</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">size:</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">30</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">bytes</span></span>
<span class="line"><span style="color:#F78C6C;">2021</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">03</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">23</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">59</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">43</span><span style="color:#EEFFFF;">,</span><span style="color:#F78C6C;">568</span><span style="color:#EEFFFF;"> INFO reduce.MergeManagerImpl: Merged </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#FFCB6B;">segments,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">39</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">bytes</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">to</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">disk</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">to</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">satisfy</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">reduce</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">memory</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">limit</span></span>
<span class="line"><span style="color:#F78C6C;">2021</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">03</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">23</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">59</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">43</span><span style="color:#EEFFFF;">,</span><span style="color:#F78C6C;">569</span><span style="color:#EEFFFF;"> INFO reduce.MergeManagerImpl: Merging </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> files,</span></span>
<span class="line"><span style="color:#F78C6C;">43</span><span style="color:#EEFFFF;"> bytes from disk</span></span>
<span class="line"><span style="color:#F78C6C;">2021</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">03</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">23</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">59</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">43</span><span style="color:#EEFFFF;">,</span><span style="color:#F78C6C;">569</span><span style="color:#EEFFFF;"> INFO reduce.MergeManagerImpl: Merging </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">segments,</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">bytes</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">from</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">memory</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">into</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">reduce</span></span>
<span class="line"><span style="color:#F78C6C;">2021</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">03</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">23</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">59</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">43</span><span style="color:#EEFFFF;">,</span><span style="color:#F78C6C;">569</span><span style="color:#EEFFFF;"> INFO mapred.Merger: Merging </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> sorted segments</span></span>
<span class="line"><span style="color:#F78C6C;">2021</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">03</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">23</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">59</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">43</span><span style="color:#EEFFFF;">,</span><span style="color:#F78C6C;">575</span><span style="color:#EEFFFF;"> INFO mapred.Merger: Down to the last merge-</span></span>
<span class="line"><span style="color:#FFCB6B;">pass,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">with</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">segments</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">left</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">of</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">total</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">size:</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">30</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">bytes</span></span>
<span class="line"><span style="color:#F78C6C;">2021</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">03</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">23</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">59</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">43</span><span style="color:#EEFFFF;">,</span><span style="color:#F78C6C;">576</span><span style="color:#EEFFFF;"> INFO mapred.LocalJobRunner: </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> / </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> copied.</span></span>
<span class="line"><span style="color:#F78C6C;">2021</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">03</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">23</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">59</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">43</span><span style="color:#EEFFFF;">,</span><span style="color:#F78C6C;">630</span><span style="color:#EEFFFF;"> INFO Configuration.deprecation: mapred.skip.on</span></span>
<span class="line"><span style="color:#FFCB6B;">is</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">deprecated.</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Instead,</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">use</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">mapreduce.job.skiprecords</span></span>
<span class="line"><span style="color:#F78C6C;">2021</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">03</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">23</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">59</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">43</span><span style="color:#EEFFFF;">,</span><span style="color:#F78C6C;">684</span><span style="color:#EEFFFF;"> INFO mapred.Task:</span></span>
<span class="line"><span style="color:#FFCB6B;">Task:attempt_local1410277363_0001_r_000000_0</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">is</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">done.</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">And</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">is</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">in</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">the</span></span>
<span class="line"><span style="color:#FFCB6B;">process</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">of</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">committing</span></span>
<span class="line"><span style="color:#F78C6C;">2021</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">03</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">23</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">59</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">43</span><span style="color:#EEFFFF;">,</span><span style="color:#F78C6C;">689</span><span style="color:#EEFFFF;"> INFO mapred.LocalJobRunner: </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> / </span><span style="color:#F78C6C;">1</span><span style="color:#EEFFFF;"> copied.</span></span>
<span class="line"><span style="color:#F78C6C;">2021</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">03</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">23</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">59</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">43</span><span style="color:#EEFFFF;">,</span><span style="color:#F78C6C;">689</span><span style="color:#EEFFFF;"> INFO mapred.Task: Task attempt_local1410277363_0001_r_000000_0 is allowed to commit now</span></span>
<span class="line"><span style="color:#F78C6C;">2021</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">03</span><span style="color:#EEFFFF;">-</span><span style="color:#F78C6C;">23</span><span style="color:#EEFFFF;"> </span><span style="color:#F78C6C;">10</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">59</span><span style="color:#EEFFFF;">:</span><span style="color:#F78C6C;">43</span><span style="color:#EEFFFF;">,</span><span style="color:#F78C6C;">937</span><span style="color:#EEFFFF;"> INFO mapreduce.Job: Counters: </span><span style="color:#F78C6C;">35</span></span>
<span class="line"><span style="color:#EEFFFF;">      </span><span style="color:#FFCB6B;">File</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">System</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Counters</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">FILE:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Number</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">of</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">bytes</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">read=</span><span style="color:#F78C6C;">633190</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">FILE:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Number</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">of</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">read</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">operations=</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">FILE:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Number</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">of</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">large</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">read</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">operations=</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">FILE:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Number</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">of</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">write</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">operations=</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">HDFS:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Number</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">of</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">bytes</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">read=</span><span style="color:#F78C6C;">52</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">HDFS:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Number</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">of</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">bytes</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">written=</span><span style="color:#F78C6C;">25</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">HDFS:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Number</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">of</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">read</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">operations=</span><span style="color:#F78C6C;">15</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">HDFS:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Number</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">of</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">large</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">read</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">operations=</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">HDFS:</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Number</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">of</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">write</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">operations=</span><span style="color:#F78C6C;">4</span></span>
<span class="line"><span style="color:#EEFFFF;">      </span><span style="color:#FFCB6B;">Map-Reduce</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Framework</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">Map</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">input</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">records=</span><span style="color:#F78C6C;">3</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">Map</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">output</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">records=</span><span style="color:#F78C6C;">4</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">Map</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">output</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">bytes=</span><span style="color:#F78C6C;">41</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">Map</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">output</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">materialized</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">bytes=</span><span style="color:#F78C6C;">43</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">Input</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">split</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">bytes=</span><span style="color:#F78C6C;">102</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">Combine</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">input</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">records=</span><span style="color:#F78C6C;">4</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">Combine</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">output</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">records=</span><span style="color:#F78C6C;">3</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">Reduce</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">input</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">groups=</span><span style="color:#F78C6C;">3</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">Reduce</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">shuffle</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">bytes=</span><span style="color:#F78C6C;">43</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">Reduce</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">input</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">records=</span><span style="color:#F78C6C;">3</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">Reduce</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">output</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">records=</span><span style="color:#F78C6C;">3</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">Spilled</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Records=</span><span style="color:#F78C6C;">6</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">Shuffled</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Maps</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">Failed</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Shuffles=</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">Merged</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Map</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">outputs=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">GC</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">time</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">elapsed</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">ms</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">=27</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">Total</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">committed</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">heap</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">usage</span><span style="color:#EEFFFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">bytes</span><span style="color:#89DDFF;">)</span><span style="color:#EEFFFF;">=254181376</span></span>
<span class="line"><span style="color:#EEFFFF;">      </span><span style="color:#FFCB6B;">Shuffle</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Errors</span></span>
<span class="line"><span style="color:#EEFFFF;"> BAD_ID</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#EEFFFF;">          CONNECTION</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#EEFFFF;">          IO_ERROR</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#EEFFFF;">          WRONG_LENGTH</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#EEFFFF;">          WRONG_MAP</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#EEFFFF;">          WRONG_REDUCE</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#EEFFFF;">      </span><span style="color:#FFCB6B;">File</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Input</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Format</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Counters</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">Bytes</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Read=</span><span style="color:#F78C6C;">26</span></span>
<span class="line"><span style="color:#EEFFFF;">      </span><span style="color:#FFCB6B;">File</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Output</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Format</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Counters</span></span>
<span class="line"><span style="color:#EEFFFF;">          </span><span style="color:#FFCB6B;">Bytes</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">Written=</span><span style="color:#F78C6C;">25</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br></div></div><p><strong>5.查看运行结果目录</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#545454;font-style:italic;"># 查看运行结果目录</span></span>
<span class="line"><span style="color:#82AAFF;">.</span><span style="color:#FFCB6B;">/bin/hdfs</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">dfs</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-ls</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/output/wc/</span><span style="color:#EEFFFF;">*</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>通过命令行查看</strong></p><p><img src="https://notewk-1304925042.cos.ap-guangzhou.myqcloud.com/notewk/hadoop41.jpg" alt="hadoop41"></p><p><strong>通过浏览器查看</strong></p><p><img src="https://notewk-1304925042.cos.ap-guangzhou.myqcloud.com/notewk/hadoop42.jpg" alt="hadoop42"></p><p><strong>可以下载文件查看统计结果</strong></p><p><img src="https://notewk-1304925042.cos.ap-guangzhou.myqcloud.com/notewk/hadoop43.jpg" alt="hadoop43"></p><p><strong>6.查看具体的统计结果</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#545454;font-style:italic;"># 查看具体的统计结果</span></span>
<span class="line"><span style="color:#FFCB6B;">hdfs</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">dfs</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-cat</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/output/wc/part-r-</span><span style="color:#F78C6C;">00000</span></span>
<span class="line"><span style="color:#545454;font-style:italic;"># 下载HDFS文件内容到本地磁盘目录~/wc(当前用户的主目录)</span></span>
<span class="line"><span style="color:#FFCB6B;">hdfs</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">dfs</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">-get</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">/output/wc</span><span style="color:#EEFFFF;"> </span><span style="color:#C3E88D;">~/wc</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="https://notewk-1304925042.cos.ap-guangzhou.myqcloud.com/notewk/hadoop44.jpg" alt="hadoop44"></p><div class="tip custom-block"><p class="custom-block-title">恭喜你配置成功</p><p>到此步骤 hadoop 伪分布式已配置完成</p><p>关闭虚拟机前记得关闭 dfs 服务</p></div><p><strong>7.关闭系统</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-darker" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">stop-dfs.sh</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="https://notewk-1304925042.cos.ap-guangzhou.myqcloud.com/notewk/hadoop45.jpg" alt="hadoop45"></p><p><strong>8.关闭虚拟机，拍摄快照</strong></p><p><img src="https://notewk-1304925042.cos.ap-guangzhou.myqcloud.com/notewk/hadoop46.jpg" alt="hadoop46"></p>`,81),e=[o];function F(r,t,c,y,E,i){return n(),a("div",null,e)}const u=s(p,[["render",F]]);export{d as __pageData,u as default};
